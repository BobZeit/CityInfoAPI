2023-12-02 15:24:01.838 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-02 15:24:01.999 +01:00 [DBG] Hosting starting
2023-12-02 15:24:02.745 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 74771C93211CFD306FF4266F6451FEA749179ACD)
2023-12-02 15:24:02.808 +01:00 [INF] Now listening on: https://localhost:7165
2023-12-02 15:24:02.809 +01:00 [INF] Now listening on: http://localhost:5029
2023-12-02 15:24:02.811 +01:00 [DBG] Loaded hosting startup assembly NewCityInfo.API
2023-12-02 15:24:02.812 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-12-02 15:24:02.813 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-12-02 15:24:02.815 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-02 15:24:02.816 +01:00 [INF] Hosting environment: Development
2023-12-02 15:24:02.817 +01:00 [INF] Content root path: C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\
2023-12-02 15:24:02.819 +01:00 [DBG] Hosting started
2023-12-02 15:24:03.046 +01:00 [DBG] Connection id "0HMVJ89ANHQOC" accepted.
2023-12-02 15:24:03.048 +01:00 [DBG] Connection id "0HMVJ89ANHQOC" started.
2023-12-02 15:24:03.180 +01:00 [DBG] Connection id "0HMVJ89ANHQOD" accepted.
2023-12-02 15:24:03.182 +01:00 [DBG] Connection id "0HMVJ89ANHQOD" started.
2023-12-02 15:24:04.677 +01:00 [DBG] Connection id "0HMVJ89ANHQOE" accepted.
2023-12-02 15:24:04.680 +01:00 [DBG] Connection id "0HMVJ89ANHQOE" started.
2023-12-02 15:24:04.871 +01:00 [DBG] Connection 0HMVJ89ANHQOE established using the following protocol: "Tls12"
2023-12-02 15:24:04.979 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7165/swagger/index.html - -
2023-12-02 15:24:05.201 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-02 15:24:05.321 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-12-02 15:24:05.349 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-12-02 15:24:05.363 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7165/swagger/index.html - - - 200 - text/html;charset=utf-8 389.3467ms
2023-12-02 15:24:05.382 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7165/_framework/aspnetcore-browser-refresh.js - -
2023-12-02 15:24:05.390 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7165/_framework/aspnetcore-browser-refresh.js - - - 200 13766 application/javascript;+charset=utf-8 7.6215ms
2023-12-02 15:24:05.392 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7165/_vs/browserLink - -
2023-12-02 15:24:05.498 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7165/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 105.3922ms
2023-12-02 15:24:05.570 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7165/swagger/v1/swagger.json - -
2023-12-02 15:24:05.839 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7165/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 273.2187ms
2023-12-02 15:24:08.537 +01:00 [DBG] Connection id "0HMVJ89ANHQOF" accepted.
2023-12-02 15:24:08.539 +01:00 [DBG] Connection id "0HMVJ89ANHQOF" started.
2023-12-02 15:24:08.539 +01:00 [DBG] Connection id "0HMVJ89ANHQOF" received FIN.
2023-12-02 15:24:08.539 +01:00 [DBG] Connection id "0HMVJ89ANHQOG" accepted.
2023-12-02 15:24:08.543 +01:00 [DBG] Connection id "0HMVJ89ANHQOG" started.
2023-12-02 15:24:08.546 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, Boolean isApm, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-02 15:24:08.552 +01:00 [DBG] Connection 0HMVJ89ANHQOG established using the following protocol: "Tls12"
2023-12-02 15:24:08.693 +01:00 [DBG] Connection id "0HMVJ89ANHQOF" stopped.
2023-12-02 15:24:08.696 +01:00 [DBG] Connection id "0HMVJ89ANHQOF" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-02 15:24:08.703 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?name=%20 - -
2023-12-02 15:24:08.706 +01:00 [DBG] The request path  does not match the path filter
2023-12-02 15:24:08.741 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-02 15:24:08.748 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-02 15:24:08.751 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 15:24:08.755 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 15:24:08.789 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[NewCityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCitiesAsync(System.String, System.String) on controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API).
2023-12-02 15:24:08.794 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-02 15:24:08.795 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-02 15:24:08.797 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-02 15:24:08.800 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-02 15:24:08.802 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-02 15:24:08.804 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 15:24:09.105 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-02 15:24:09.407 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 15:24:09.421 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-12-02 15:24:09.425 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-12-02 15:24:09.428 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 15:24:09.430 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 15:24:09.432 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-12-02 15:24:09.436 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-12-02 15:24:09.440 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-12-02 15:24:09.441 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-12-02 15:24:09.443 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-12-02 15:24:09.445 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 15:24:09.446 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 15:24:09.447 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-12-02 15:24:09.449 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-12-02 15:24:10.687 +01:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-12-02 15:24:10.777 +01:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2023-12-02 15:24:11.237 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    NewCityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-12-02 15:24:11.308 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-02 15:24:11.589 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (276ms).
2023-12-02 15:24:11.607 +01:00 [DBG] Opening connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 15:24:11.636 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 15:24:11.653 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-12-02 15:24:11.691 +01:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-12-02 15:24:11.719 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-02 15:24:11.752 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-02 15:24:11.754 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-02 15:24:11.765 +01:00 [DBG] A data reader was disposed.
2023-12-02 15:24:11.778 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 15:24:11.787 +01:00 [DBG] Closed connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 15:24:11.828 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-02 15:24:11.834 +01:00 [DBG] No information found on request to perform content negotiation.
2023-12-02 15:24:11.835 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-02 15:24:11.836 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-02 15:24:11.838 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-02 15:24:11.839 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[NewCityInfo.API.Models.CityWithoutPointOfInterestDto, NewCityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-02 15:24:12.065 +01:00 [INF] Executed action NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API) in 3253.9282ms
2023-12-02 15:24:12.070 +01:00 [INF] Executed endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 15:24:12.071 +01:00 [DBG] Connection id "0HMVJ89ANHQOG" completed keep alive response.
2023-12-02 15:24:12.078 +01:00 [DBG] 'CityInfoContext' disposed.
2023-12-02 15:24:12.083 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?name=%20 - - - 200 178 application/json;+charset=utf-8 3380.4293ms
2023-12-02 15:24:13.064 +01:00 [DBG] Authentication of the HTTPS connection timed out.
2023-12-02 15:24:13.065 +01:00 [DBG] Connection id "0HMVJ89ANHQOC" stopped.
2023-12-02 15:24:13.066 +01:00 [DBG] Connection id "0HMVJ89ANHQOC" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-02 15:24:13.182 +01:00 [DBG] Authentication of the HTTPS connection timed out.
2023-12-02 15:24:13.183 +01:00 [DBG] Connection id "0HMVJ89ANHQOD" stopped.
2023-12-02 15:24:13.185 +01:00 [DBG] Connection id "0HMVJ89ANHQOD" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-02 15:24:42.395 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-02 15:24:42.566 +01:00 [DBG] Hosting starting
2023-12-02 15:24:42.769 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 74771C93211CFD306FF4266F6451FEA749179ACD)
2023-12-02 15:24:42.830 +01:00 [INF] Now listening on: https://localhost:7165
2023-12-02 15:24:42.831 +01:00 [INF] Now listening on: http://localhost:5029
2023-12-02 15:24:42.832 +01:00 [DBG] Loaded hosting startup assembly NewCityInfo.API
2023-12-02 15:24:42.834 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-12-02 15:24:42.835 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-12-02 15:24:42.836 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-02 15:24:42.837 +01:00 [INF] Hosting environment: Development
2023-12-02 15:24:42.838 +01:00 [INF] Content root path: C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\
2023-12-02 15:24:42.839 +01:00 [DBG] Hosting started
2023-12-02 15:24:42.871 +01:00 [DBG] Connection id "0HMVJ89MJC8A7" received FIN.
2023-12-02 15:24:42.871 +01:00 [DBG] Connection id "0HMVJ89MJC8A6" received FIN.
2023-12-02 15:24:42.890 +01:00 [DBG] Connection id "0HMVJ89MJC8A7" accepted.
2023-12-02 15:24:42.890 +01:00 [DBG] Connection id "0HMVJ89MJC8A6" accepted.
2023-12-02 15:24:42.897 +01:00 [DBG] Connection id "0HMVJ89MJC8A6" started.
2023-12-02 15:24:42.897 +01:00 [DBG] Connection id "0HMVJ89MJC8A7" started.
2023-12-02 15:24:42.929 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, Boolean isApm, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-02 15:24:42.929 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, Boolean isApm, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-02 15:24:42.978 +01:00 [DBG] Connection id "0HMVJ89MJC8A8" accepted.
2023-12-02 15:24:42.978 +01:00 [DBG] Connection id "0HMVJ89MJC8A8" received FIN.
2023-12-02 15:24:42.995 +01:00 [DBG] Connection id "0HMVJ89MJC8A6" stopped.
2023-12-02 15:24:43.004 +01:00 [DBG] Connection id "0HMVJ89MJC8A9" accepted.
2023-12-02 15:24:42.996 +01:00 [DBG] Connection id "0HMVJ89MJC8A8" started.
2023-12-02 15:24:42.991 +01:00 [DBG] Connection id "0HMVJ89MJC8A7" stopped.
2023-12-02 15:24:43.020 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, Boolean isApm, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-02 15:24:43.012 +01:00 [DBG] Connection id "0HMVJ89MJC8A9" started.
2023-12-02 15:24:43.025 +01:00 [DBG] Connection id "0HMVJ89MJC8A7" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-02 15:24:43.025 +01:00 [DBG] Connection id "0HMVJ89MJC8A6" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-02 15:24:43.035 +01:00 [DBG] Connection id "0HMVJ89MJC8A8" stopped.
2023-12-02 15:24:43.044 +01:00 [DBG] Connection id "0HMVJ89MJC8A8" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-02 15:24:43.048 +01:00 [DBG] Connection id "0HMVJ89MJC8AA" accepted.
2023-12-02 15:24:43.049 +01:00 [DBG] Connection id "0HMVJ89MJC8AA" started.
2023-12-02 15:24:43.117 +01:00 [DBG] Connection 0HMVJ89MJC8A9 established using the following protocol: "Tls12"
2023-12-02 15:24:43.117 +01:00 [DBG] Connection 0HMVJ89MJC8AA established using the following protocol: "Tls12"
2023-12-02 15:24:43.225 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7165/swagger/index.html - -
2023-12-02 15:24:43.225 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?name=%20 - -
2023-12-02 15:24:43.248 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-02 15:24:43.310 +01:00 [DBG] The request path  does not match the path filter
2023-12-02 15:24:43.373 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-02 15:24:43.382 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-02 15:24:43.386 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 15:24:43.390 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 15:24:43.434 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[NewCityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCitiesAsync(System.String, System.String) on controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API).
2023-12-02 15:24:43.440 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-02 15:24:43.442 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-02 15:24:43.444 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-02 15:24:43.447 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-02 15:24:43.450 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-02 15:24:43.453 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 15:24:43.510 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-12-02 15:24:43.570 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-12-02 15:24:43.580 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7165/swagger/index.html - - - 200 - text/html;charset=utf-8 363.3990ms
2023-12-02 15:24:43.595 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7165/_vs/browserLink - -
2023-12-02 15:24:43.595 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7165/_framework/aspnetcore-browser-refresh.js - -
2023-12-02 15:24:43.605 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7165/_framework/aspnetcore-browser-refresh.js - - - 200 13766 application/javascript;+charset=utf-8 10.1330ms
2023-12-02 15:24:43.705 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7165/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 109.9342ms
2023-12-02 15:24:43.726 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-02 15:24:43.790 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7165/swagger/v1/swagger.json - -
2023-12-02 15:24:44.064 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7165/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 274.1272ms
2023-12-02 15:24:44.085 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 15:24:44.101 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-12-02 15:24:44.106 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-12-02 15:24:44.109 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 15:24:44.110 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 15:24:44.112 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-12-02 15:24:44.116 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-12-02 15:24:44.121 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-12-02 15:24:44.123 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-12-02 15:24:44.126 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-12-02 15:24:44.128 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 15:24:44.129 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 15:24:44.131 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-12-02 15:24:44.134 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-12-02 15:24:45.439 +01:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-12-02 15:24:45.507 +01:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2023-12-02 15:24:45.932 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    NewCityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-12-02 15:24:45.991 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-02 15:24:46.067 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (72ms).
2023-12-02 15:24:46.081 +01:00 [DBG] Opening connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 15:24:46.103 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 15:24:46.116 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-12-02 15:24:46.143 +01:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-12-02 15:24:46.171 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-02 15:24:46.201 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-02 15:24:46.203 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-02 15:24:46.214 +01:00 [DBG] A data reader was disposed.
2023-12-02 15:24:46.223 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 15:24:46.230 +01:00 [DBG] Closed connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 15:24:46.264 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-02 15:24:46.269 +01:00 [DBG] No information found on request to perform content negotiation.
2023-12-02 15:24:46.270 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-02 15:24:46.271 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-02 15:24:46.272 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-02 15:24:46.274 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[NewCityInfo.API.Models.CityWithoutPointOfInterestDto, NewCityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-02 15:24:46.465 +01:00 [INF] Executed action NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API) in 3003.0382ms
2023-12-02 15:24:46.479 +01:00 [INF] Executed endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 15:24:46.487 +01:00 [DBG] Connection id "0HMVJ89MJC8A9" completed keep alive response.
2023-12-02 15:24:46.497 +01:00 [DBG] 'CityInfoContext' disposed.
2023-12-02 15:24:46.510 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?name=%20 - - - 200 178 application/json;+charset=utf-8 3294.1094ms
2023-12-02 15:28:10.029 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-02 15:28:10.209 +01:00 [DBG] Hosting starting
2023-12-02 15:28:10.371 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 74771C93211CFD306FF4266F6451FEA749179ACD)
2023-12-02 15:28:10.429 +01:00 [INF] Now listening on: https://localhost:7165
2023-12-02 15:28:10.430 +01:00 [INF] Now listening on: http://localhost:5029
2023-12-02 15:28:10.431 +01:00 [DBG] Loaded hosting startup assembly NewCityInfo.API
2023-12-02 15:28:10.431 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-12-02 15:28:10.432 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-12-02 15:28:10.433 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-02 15:28:10.434 +01:00 [INF] Hosting environment: Development
2023-12-02 15:28:10.435 +01:00 [DBG] Connection id "0HMVJ8BKERMHS" received FIN.
2023-12-02 15:28:10.435 +01:00 [INF] Content root path: C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\
2023-12-02 15:28:10.437 +01:00 [DBG] Hosting started
2023-12-02 15:28:10.448 +01:00 [DBG] Connection id "0HMVJ8BKERMHS" accepted.
2023-12-02 15:28:10.450 +01:00 [DBG] Connection id "0HMVJ8BKERMHS" started.
2023-12-02 15:28:10.468 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, Boolean isApm, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-02 15:28:10.503 +01:00 [DBG] Connection id "0HMVJ8BKERMHS" stopped.
2023-12-02 15:28:10.507 +01:00 [DBG] Connection id "0HMVJ8BKERMHS" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-02 15:28:10.528 +01:00 [DBG] Connection id "0HMVJ8BKERMHT" accepted.
2023-12-02 15:28:10.530 +01:00 [DBG] Connection id "0HMVJ8BKERMHT" started.
2023-12-02 15:28:10.595 +01:00 [DBG] Connection 0HMVJ8BKERMHT established using the following protocol: "Tls12"
2023-12-02 15:28:10.657 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7165/swagger/index.html - -
2023-12-02 15:28:10.799 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-02 15:28:10.924 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-12-02 15:28:10.948 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-12-02 15:28:10.957 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7165/swagger/index.html - - - 200 - text/html;charset=utf-8 304.7754ms
2023-12-02 15:28:10.979 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7165/_vs/browserLink - -
2023-12-02 15:28:10.966 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7165/_framework/aspnetcore-browser-refresh.js - -
2023-12-02 15:28:10.998 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7165/_framework/aspnetcore-browser-refresh.js - - - 200 13766 application/javascript;+charset=utf-8 32.1547ms
2023-12-02 15:28:11.075 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7165/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 95.4200ms
2023-12-02 15:28:11.126 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7165/swagger/v1/swagger.json - -
2023-12-02 15:28:11.304 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7165/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 177.3920ms
2023-12-02 15:28:15.047 +01:00 [DBG] Connection id "0HMVJ8BKERMHU" accepted.
2023-12-02 15:28:15.048 +01:00 [DBG] Connection id "0HMVJ8BKERMHU" received FIN.
2023-12-02 15:28:15.049 +01:00 [DBG] Connection id "0HMVJ8BKERMHU" started.
2023-12-02 15:28:15.049 +01:00 [DBG] Connection id "0HMVJ8BKERMHV" accepted.
2023-12-02 15:28:15.053 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, Boolean isApm, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-02 15:28:15.054 +01:00 [DBG] Connection id "0HMVJ8BKERMHV" started.
2023-12-02 15:28:15.058 +01:00 [DBG] Connection id "0HMVJ8BKERMHU" stopped.
2023-12-02 15:28:15.061 +01:00 [DBG] Connection id "0HMVJ8BKERMHU" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-02 15:28:15.064 +01:00 [DBG] Connection 0HMVJ8BKERMHV established using the following protocol: "Tls12"
2023-12-02 15:28:15.077 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?name=%20 - -
2023-12-02 15:28:15.081 +01:00 [DBG] The request path  does not match the path filter
2023-12-02 15:28:15.110 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-02 15:28:15.118 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-02 15:28:15.121 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 15:28:15.125 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 15:28:15.155 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[NewCityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCitiesAsync(System.String, System.String) on controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API).
2023-12-02 15:28:15.159 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-02 15:28:15.161 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-02 15:28:15.163 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-02 15:28:15.166 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-02 15:28:15.168 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-02 15:28:15.171 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 15:28:15.389 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-02 15:28:15.582 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 15:28:15.591 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-12-02 15:28:15.594 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-12-02 15:28:15.596 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 15:28:15.597 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 15:28:15.598 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-12-02 15:28:15.601 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-12-02 15:28:15.603 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-12-02 15:28:15.605 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-12-02 15:28:15.606 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-12-02 15:28:15.608 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 15:28:15.609 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 15:28:15.610 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-12-02 15:28:15.611 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-12-02 15:28:16.626 +01:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-12-02 15:28:16.686 +01:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2023-12-02 15:28:17.060 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    NewCityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-12-02 15:28:17.115 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-02 15:28:17.181 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (61ms).
2023-12-02 15:28:17.198 +01:00 [DBG] Opening connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 15:28:17.224 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 15:28:17.240 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-12-02 15:28:17.266 +01:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-12-02 15:28:17.293 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-02 15:28:17.322 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-02 15:28:17.323 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-02 15:28:17.336 +01:00 [DBG] A data reader was disposed.
2023-12-02 15:28:17.348 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 15:28:17.357 +01:00 [DBG] Closed connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 15:28:17.396 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-02 15:28:17.402 +01:00 [DBG] No information found on request to perform content negotiation.
2023-12-02 15:28:17.403 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-02 15:28:17.404 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-02 15:28:17.406 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-02 15:28:17.408 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[NewCityInfo.API.Models.CityWithoutPointOfInterestDto, NewCityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-02 15:28:17.585 +01:00 [INF] Executed action NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API) in 2407.8431ms
2023-12-02 15:28:17.588 +01:00 [INF] Executed endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 15:28:17.590 +01:00 [DBG] Connection id "0HMVJ8BKERMHV" completed keep alive response.
2023-12-02 15:28:17.596 +01:00 [DBG] 'CityInfoContext' disposed.
2023-12-02 15:28:17.601 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?name=%20 - - - 200 178 application/json;+charset=utf-8 2524.0735ms
2023-12-02 15:28:28.025 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?name=%22%20%22 - -
2023-12-02 15:28:28.027 +01:00 [DBG] The request path  does not match the path filter
2023-12-02 15:28:28.031 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-02 15:28:28.033 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-02 15:28:28.035 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 15:28:28.036 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 15:28:28.038 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[NewCityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCitiesAsync(System.String, System.String) on controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API).
2023-12-02 15:28:28.041 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-02 15:28:28.042 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-02 15:28:28.044 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-02 15:28:28.047 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-02 15:28:28.048 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-02 15:28:28.050 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 15:28:28.061 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 15:28:28.063 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-12-02 15:28:28.064 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-12-02 15:28:28.065 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 15:28:28.067 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 15:28:28.068 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-12-02 15:28:28.070 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-12-02 15:28:28.071 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-12-02 15:28:28.073 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-12-02 15:28:28.075 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-12-02 15:28:28.077 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 15:28:28.078 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 15:28:28.080 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-12-02 15:28:28.081 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-12-02 15:28:28.084 +01:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-12-02 15:28:28.094 +01:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Name == __name_0)
    .OrderBy(c => c.Name)'
2023-12-02 15:28:28.126 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        WHERE c.Name == @__name_0
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    NewCityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-12-02 15:28:28.144 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-02 15:28:28.146 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-02 15:28:28.152 +01:00 [DBG] Opening connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 15:28:28.154 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 15:28:28.171 +01:00 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Name"
2023-12-02 15:28:28.188 +01:00 [INF] Executed DbCommand (32ms) [Parameters=[@__name_0='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Name"
2023-12-02 15:28:28.193 +01:00 [DBG] A data reader was disposed.
2023-12-02 15:28:28.195 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 15:28:28.199 +01:00 [DBG] Closed connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 15:28:28.203 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-02 15:28:28.207 +01:00 [DBG] No information found on request to perform content negotiation.
2023-12-02 15:28:28.209 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-12-02 15:28:28.214 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-12-02 15:28:28.216 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-12-02 15:28:28.245 +01:00 [INF] Executed action NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API) in 194.7374ms
2023-12-02 15:28:28.248 +01:00 [INF] Executed endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 15:28:28.249 +01:00 [DBG] Connection id "0HMVJ8BKERMHV" completed keep alive response.
2023-12-02 15:28:28.251 +01:00 [DBG] 'CityInfoContext' disposed.
2023-12-02 15:28:28.253 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?name=%22%20%22 - - - 404 161 application/problem+json;+charset=utf-8 228.0585ms
2023-12-02 15:28:32.475 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?name=%22%20 - -
2023-12-02 15:28:32.477 +01:00 [DBG] The request path  does not match the path filter
2023-12-02 15:28:32.478 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-02 15:28:32.480 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-02 15:28:32.482 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 15:28:32.483 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 15:28:32.485 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[NewCityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCitiesAsync(System.String, System.String) on controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API).
2023-12-02 15:28:32.490 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-02 15:28:32.491 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-02 15:28:32.494 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-02 15:28:32.501 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-02 15:28:32.502 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-02 15:28:32.505 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 15:28:32.512 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 15:28:32.514 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-12-02 15:28:32.516 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-12-02 15:28:32.518 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 15:28:32.519 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 15:28:32.520 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-12-02 15:28:32.522 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-12-02 15:28:32.523 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-12-02 15:28:32.524 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-12-02 15:28:32.526 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-12-02 15:28:32.528 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 15:28:32.529 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 15:28:32.531 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-12-02 15:28:32.532 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-12-02 15:28:32.595 +01:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-12-02 15:28:32.603 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-02 15:28:32.604 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-02 15:28:32.605 +01:00 [DBG] Opening connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 15:28:32.607 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 15:28:32.608 +01:00 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Name"
2023-12-02 15:28:32.610 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__name_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Name"
2023-12-02 15:28:32.612 +01:00 [DBG] A data reader was disposed.
2023-12-02 15:28:32.613 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 15:28:32.615 +01:00 [DBG] Closed connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 15:28:32.616 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-02 15:28:32.619 +01:00 [DBG] No information found on request to perform content negotiation.
2023-12-02 15:28:32.620 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-12-02 15:28:32.623 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-12-02 15:28:32.625 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-12-02 15:28:32.626 +01:00 [INF] Executed action NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API) in 121.0791ms
2023-12-02 15:28:32.628 +01:00 [INF] Executed endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 15:28:32.629 +01:00 [DBG] Connection id "0HMVJ8BKERMHV" completed keep alive response.
2023-12-02 15:28:32.631 +01:00 [DBG] 'CityInfoContext' disposed.
2023-12-02 15:28:32.632 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?name=%22%20 - - - 404 161 application/problem+json;+charset=utf-8 156.8747ms
2023-12-02 15:28:37.403 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?name=%20 - -
2023-12-02 15:28:37.404 +01:00 [DBG] The request path  does not match the path filter
2023-12-02 15:28:37.405 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-02 15:28:37.407 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-02 15:28:37.409 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 15:28:37.410 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 15:28:37.411 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[NewCityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCitiesAsync(System.String, System.String) on controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API).
2023-12-02 15:28:37.415 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-02 15:28:37.418 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-02 15:28:37.419 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-02 15:28:37.422 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-02 15:28:37.424 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-02 15:28:37.425 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 15:28:37.428 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 15:28:37.429 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-12-02 15:28:37.431 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-12-02 15:28:37.433 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 15:28:37.434 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 15:28:37.436 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-12-02 15:28:37.437 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-12-02 15:28:37.439 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-12-02 15:28:37.440 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-12-02 15:28:37.442 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-12-02 15:28:37.443 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 15:28:37.445 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 15:28:37.447 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-12-02 15:28:37.449 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-12-02 15:28:37.451 +01:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-12-02 15:28:37.453 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-02 15:28:37.454 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-02 15:28:37.456 +01:00 [DBG] Opening connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 15:28:37.457 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 15:28:37.459 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-12-02 15:28:37.462 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-12-02 15:28:37.465 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-02 15:28:37.467 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-02 15:28:37.468 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-02 15:28:37.470 +01:00 [DBG] A data reader was disposed.
2023-12-02 15:28:37.471 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 15:28:37.472 +01:00 [DBG] Closed connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 15:28:37.473 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-02 15:28:37.476 +01:00 [DBG] No information found on request to perform content negotiation.
2023-12-02 15:28:37.477 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-02 15:28:37.478 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-02 15:28:37.479 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-02 15:28:37.481 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[NewCityInfo.API.Models.CityWithoutPointOfInterestDto, NewCityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-02 15:28:37.483 +01:00 [INF] Executed action NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API) in 57.4045ms
2023-12-02 15:28:37.485 +01:00 [INF] Executed endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 15:28:37.487 +01:00 [DBG] Connection id "0HMVJ8BKERMHV" completed keep alive response.
2023-12-02 15:28:37.488 +01:00 [DBG] 'CityInfoContext' disposed.
2023-12-02 15:28:37.490 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?name=%20 - - - 200 178 application/json;+charset=utf-8 86.5760ms
2023-12-02 15:29:27.196 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-02 15:29:27.303 +01:00 [DBG] Hosting starting
2023-12-02 15:29:27.450 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 74771C93211CFD306FF4266F6451FEA749179ACD)
2023-12-02 15:29:27.515 +01:00 [INF] Now listening on: https://localhost:7165
2023-12-02 15:29:27.516 +01:00 [INF] Now listening on: http://localhost:5029
2023-12-02 15:29:27.518 +01:00 [DBG] Loaded hosting startup assembly NewCityInfo.API
2023-12-02 15:29:27.519 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-12-02 15:29:27.520 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-12-02 15:29:27.521 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-02 15:29:27.522 +01:00 [INF] Hosting environment: Development
2023-12-02 15:29:27.523 +01:00 [DBG] Connection id "0HMVJ8CBE15OU" received FIN.
2023-12-02 15:29:27.523 +01:00 [INF] Content root path: C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\
2023-12-02 15:29:27.525 +01:00 [DBG] Hosting started
2023-12-02 15:29:27.537 +01:00 [DBG] Connection id "0HMVJ8CBE15OU" accepted.
2023-12-02 15:29:27.540 +01:00 [DBG] Connection id "0HMVJ8CBE15OU" started.
2023-12-02 15:29:27.564 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, Boolean isApm, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-02 15:29:27.609 +01:00 [DBG] Connection id "0HMVJ8CBE15OU" stopped.
2023-12-02 15:29:27.615 +01:00 [DBG] Connection id "0HMVJ8CBE15OU" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-02 15:29:27.654 +01:00 [DBG] Connection id "0HMVJ8CBE15OV" accepted.
2023-12-02 15:29:27.665 +01:00 [DBG] Connection id "0HMVJ8CBE15OV" started.
2023-12-02 15:29:27.746 +01:00 [DBG] Connection 0HMVJ8CBE15OV established using the following protocol: "Tls12"
2023-12-02 15:29:27.800 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7165/swagger/index.html - -
2023-12-02 15:29:27.946 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-02 15:29:28.102 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-12-02 15:29:28.133 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-12-02 15:29:28.145 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7165/swagger/index.html - - - 200 - text/html;charset=utf-8 347.5456ms
2023-12-02 15:29:28.166 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7165/_vs/browserLink - -
2023-12-02 15:29:28.166 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7165/_framework/aspnetcore-browser-refresh.js - -
2023-12-02 15:29:28.187 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7165/_framework/aspnetcore-browser-refresh.js - - - 200 13766 application/javascript;+charset=utf-8 21.2343ms
2023-12-02 15:29:28.270 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7165/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 103.8887ms
2023-12-02 15:29:28.324 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7165/swagger/v1/swagger.json - -
2023-12-02 15:29:28.527 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7165/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 202.8421ms
2023-12-02 15:29:33.786 +01:00 [DBG] Connection id "0HMVJ8CBE15P0" accepted.
2023-12-02 15:29:33.788 +01:00 [DBG] Connection id "0HMVJ8CBE15P0" started.
2023-12-02 15:29:33.788 +01:00 [DBG] Connection id "0HMVJ8CBE15P1" accepted.
2023-12-02 15:29:33.788 +01:00 [DBG] Connection id "0HMVJ8CBE15P0" received FIN.
2023-12-02 15:29:33.795 +01:00 [DBG] Connection id "0HMVJ8CBE15P1" started.
2023-12-02 15:29:33.799 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, Boolean isApm, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-02 15:29:33.818 +01:00 [DBG] Connection 0HMVJ8CBE15P1 established using the following protocol: "Tls12"
2023-12-02 15:29:33.824 +01:00 [DBG] Connection id "0HMVJ8CBE15P0" stopped.
2023-12-02 15:29:33.827 +01:00 [DBG] Connection id "0HMVJ8CBE15P0" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-02 15:29:33.840 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?name=%20 - -
2023-12-02 15:29:33.843 +01:00 [DBG] The request path  does not match the path filter
2023-12-02 15:29:33.876 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-02 15:29:33.883 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-02 15:29:33.887 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 15:29:33.891 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 15:29:33.927 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[NewCityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCitiesAsync(System.String, System.String) on controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API).
2023-12-02 15:29:33.931 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-02 15:29:33.933 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-02 15:29:33.935 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-02 15:29:33.938 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-02 15:29:33.940 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-02 15:29:33.942 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 15:29:34.113 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-02 15:29:34.366 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 15:29:34.377 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-12-02 15:29:34.380 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-12-02 15:29:34.382 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 15:29:34.383 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 15:29:34.385 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-12-02 15:29:34.388 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-12-02 15:29:34.392 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-12-02 15:29:34.393 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-12-02 15:29:34.395 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-12-02 15:29:34.397 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 15:29:34.399 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 15:29:34.401 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-12-02 15:29:34.402 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-12-02 15:29:57.972 +01:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-12-02 15:29:58.047 +01:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2023-12-02 15:29:58.429 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    NewCityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-12-02 15:29:58.483 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-02 15:29:58.547 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (60ms).
2023-12-02 15:29:58.562 +01:00 [DBG] Opening connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 15:29:58.587 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 15:29:58.603 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-12-02 15:29:58.628 +01:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-12-02 15:29:58.658 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-02 15:29:58.684 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-02 15:29:58.686 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-02 15:29:58.695 +01:00 [DBG] A data reader was disposed.
2023-12-02 15:29:58.704 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 15:29:58.714 +01:00 [DBG] Closed connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 15:30:29.060 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-02 15:30:29.069 +01:00 [DBG] No information found on request to perform content negotiation.
2023-12-02 15:30:29.071 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-02 15:30:29.072 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-02 15:30:29.074 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-02 15:30:29.077 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[NewCityInfo.API.Models.CityWithoutPointOfInterestDto, NewCityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-02 15:30:33.823 +01:00 [INF] Executed action NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API) in 59875.9504ms
2023-12-02 15:30:33.826 +01:00 [INF] Executed endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 15:30:33.828 +01:00 [DBG] Connection id "0HMVJ8CBE15P1" completed keep alive response.
2023-12-02 15:30:33.835 +01:00 [DBG] 'CityInfoContext' disposed.
2023-12-02 15:30:33.840 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?name=%20 - - - 200 178 application/json;+charset=utf-8 59999.5798ms
2023-12-02 15:30:38.716 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?name=%22%20%22 - -
2023-12-02 15:30:38.717 +01:00 [DBG] The request path  does not match the path filter
2023-12-02 15:30:38.719 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-02 15:30:38.720 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-02 15:30:38.722 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 15:30:38.723 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 15:30:38.725 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[NewCityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCitiesAsync(System.String, System.String) on controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API).
2023-12-02 15:30:38.729 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-02 15:30:38.731 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-02 15:30:38.734 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-02 15:30:38.736 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-02 15:30:38.738 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-02 15:30:38.741 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 15:30:38.752 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 15:30:38.754 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-12-02 15:30:38.757 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-12-02 15:30:38.759 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 15:30:38.761 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 15:30:38.763 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-12-02 15:30:38.765 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-12-02 15:30:38.766 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-12-02 15:30:38.768 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-12-02 15:30:38.770 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-12-02 15:30:38.772 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 15:30:38.774 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 15:30:38.776 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-12-02 15:30:38.778 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-12-02 15:31:32.954 +01:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-12-02 15:31:37.857 +01:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Name == __name_0)
    .OrderBy(c => c.Name)'
2023-12-02 15:31:37.887 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        WHERE c.Name == @__name_0
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    NewCityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-12-02 15:31:37.901 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-02 15:31:37.904 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-12-02 15:31:37.910 +01:00 [DBG] Opening connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 15:31:37.914 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 15:31:37.923 +01:00 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Name"
2023-12-02 15:31:37.936 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@__name_0='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Name"
2023-12-02 15:31:37.944 +01:00 [DBG] A data reader was disposed.
2023-12-02 15:31:37.947 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 15:31:37.952 +01:00 [DBG] Closed connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 15:31:50.206 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-02 15:31:50.210 +01:00 [DBG] No information found on request to perform content negotiation.
2023-12-02 15:31:50.212 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-12-02 15:31:50.216 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-12-02 15:31:50.217 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-12-02 15:31:50.236 +01:00 [INF] Executed action NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API) in 71494.9179ms
2023-12-02 15:31:50.237 +01:00 [INF] Executed endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 15:31:50.239 +01:00 [DBG] Connection id "0HMVJ8CBE15P1" completed keep alive response.
2023-12-02 15:31:50.240 +01:00 [DBG] 'CityInfoContext' disposed.
2023-12-02 15:31:50.241 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?name=%22%20%22 - - - 404 161 application/problem+json;+charset=utf-8 71524.8444ms
2023-12-02 15:32:55.524 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?name=%22%20%22 - -
2023-12-02 15:32:55.528 +01:00 [DBG] The request path  does not match the path filter
2023-12-02 15:32:55.529 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-02 15:32:55.531 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-02 15:32:55.533 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 15:32:55.534 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 15:32:55.535 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[NewCityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCitiesAsync(System.String, System.String) on controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API).
2023-12-02 15:32:55.538 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-02 15:32:55.540 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-02 15:32:55.542 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-02 15:32:55.546 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-02 15:32:55.548 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-02 15:32:55.550 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 15:32:55.553 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 15:32:55.554 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-12-02 15:32:55.556 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-12-02 15:32:55.557 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 15:32:55.559 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 15:32:55.561 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-12-02 15:32:55.562 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-12-02 15:32:55.564 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-12-02 15:32:55.566 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-12-02 15:32:55.567 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-12-02 15:32:55.569 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 15:32:55.570 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 15:32:55.572 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-12-02 15:32:55.573 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-12-02 15:33:53.207 +01:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-12-02 15:33:53.218 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-02 15:33:53.222 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-12-02 15:33:53.226 +01:00 [DBG] Opening connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 15:33:53.230 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 15:33:53.234 +01:00 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Name"
2023-12-02 15:33:53.241 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__name_0='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Name"
2023-12-02 15:33:53.249 +01:00 [DBG] A data reader was disposed.
2023-12-02 15:33:53.252 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 15:33:53.257 +01:00 [DBG] Closed connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 15:33:53.262 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-02 15:33:53.272 +01:00 [DBG] No information found on request to perform content negotiation.
2023-12-02 15:33:53.275 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-12-02 15:33:53.285 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-12-02 15:33:53.292 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-12-02 15:33:53.298 +01:00 [INF] Executed action NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API) in 57748.4598ms
2023-12-02 15:33:53.304 +01:00 [INF] Executed endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 15:33:53.309 +01:00 [DBG] Connection id "0HMVJ8CBE15P1" completed keep alive response.
2023-12-02 15:33:53.314 +01:00 [DBG] 'CityInfoContext' disposed.
2023-12-02 15:33:53.318 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?name=%22%20%22 - - - 404 161 application/problem+json;+charset=utf-8 57794.2803ms
2023-12-02 15:35:15.594 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-02 15:35:15.753 +01:00 [DBG] Hosting starting
2023-12-02 15:35:15.886 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 74771C93211CFD306FF4266F6451FEA749179ACD)
2023-12-02 15:35:15.936 +01:00 [INF] Now listening on: https://localhost:7165
2023-12-02 15:35:15.938 +01:00 [INF] Now listening on: http://localhost:5029
2023-12-02 15:35:15.939 +01:00 [DBG] Loaded hosting startup assembly NewCityInfo.API
2023-12-02 15:35:15.940 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-12-02 15:35:15.941 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-12-02 15:35:15.942 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-02 15:35:15.943 +01:00 [INF] Hosting environment: Development
2023-12-02 15:35:15.944 +01:00 [INF] Content root path: C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\
2023-12-02 15:35:15.945 +01:00 [DBG] Hosting started
2023-12-02 15:35:16.429 +01:00 [DBG] Connection id "0HMVJ8FJDEU5U" received FIN.
2023-12-02 15:35:16.429 +01:00 [DBG] Connection id "0HMVJ8FJDEU5V" received FIN.
2023-12-02 15:35:16.441 +01:00 [DBG] Connection id "0HMVJ8FJDEU5V" accepted.
2023-12-02 15:35:16.441 +01:00 [DBG] Connection id "0HMVJ8FJDEU5U" accepted.
2023-12-02 15:35:16.444 +01:00 [DBG] Connection id "0HMVJ8FJDEU5V" started.
2023-12-02 15:35:16.445 +01:00 [DBG] Connection id "0HMVJ8FJDEU5U" started.
2023-12-02 15:35:16.463 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, Boolean isApm, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-02 15:35:16.463 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, Boolean isApm, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-02 15:35:16.497 +01:00 [DBG] Connection id "0HMVJ8FJDEU5V" stopped.
2023-12-02 15:35:16.497 +01:00 [DBG] Connection id "0HMVJ8FJDEU5U" stopped.
2023-12-02 15:35:16.501 +01:00 [DBG] Connection id "0HMVJ8FJDEU5U" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-02 15:35:16.501 +01:00 [DBG] Connection id "0HMVJ8FJDEU5V" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-02 15:35:18.961 +01:00 [DBG] Connection id "0HMVJ8FJDEU60" accepted.
2023-12-02 15:35:18.963 +01:00 [DBG] Connection id "0HMVJ8FJDEU60" started.
2023-12-02 15:35:19.030 +01:00 [DBG] Connection 0HMVJ8FJDEU60 established using the following protocol: "Tls12"
2023-12-02 15:35:19.078 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7165/swagger/index.html - -
2023-12-02 15:35:19.200 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-02 15:35:19.298 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-12-02 15:35:19.318 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-12-02 15:35:19.326 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7165/swagger/index.html - - - 200 - text/html;charset=utf-8 251.1783ms
2023-12-02 15:35:19.349 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7165/_vs/browserLink - -
2023-12-02 15:35:19.336 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7165/_framework/aspnetcore-browser-refresh.js - -
2023-12-02 15:35:19.358 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7165/_framework/aspnetcore-browser-refresh.js - - - 200 13766 application/javascript;+charset=utf-8 21.7055ms
2023-12-02 15:35:19.416 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7165/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 67.8370ms
2023-12-02 15:35:19.458 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7165/swagger/v1/swagger.json - -
2023-12-02 15:35:19.643 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7165/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 184.8774ms
2023-12-02 15:35:21.260 +01:00 [DBG] Connection id "0HMVJ8FJDEU61" accepted.
2023-12-02 15:35:21.261 +01:00 [DBG] Connection id "0HMVJ8FJDEU61" received FIN.
2023-12-02 15:35:21.261 +01:00 [DBG] Connection id "0HMVJ8FJDEU61" started.
2023-12-02 15:35:21.262 +01:00 [DBG] Connection id "0HMVJ8FJDEU62" accepted.
2023-12-02 15:35:21.265 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, Boolean isApm, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-02 15:35:21.266 +01:00 [DBG] Connection id "0HMVJ8FJDEU62" started.
2023-12-02 15:35:21.271 +01:00 [DBG] Connection id "0HMVJ8FJDEU61" stopped.
2023-12-02 15:35:21.274 +01:00 [DBG] Connection id "0HMVJ8FJDEU61" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-02 15:35:21.284 +01:00 [DBG] Connection 0HMVJ8FJDEU62 established using the following protocol: "Tls12"
2023-12-02 15:35:21.297 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?name=city - -
2023-12-02 15:35:21.299 +01:00 [DBG] The request path  does not match the path filter
2023-12-02 15:35:21.328 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-02 15:35:21.335 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-02 15:35:21.337 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 15:35:21.340 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 15:35:21.371 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[NewCityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCitiesAsync(System.String, System.String) on controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API).
2023-12-02 15:35:21.374 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-02 15:35:21.376 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-02 15:35:21.378 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-02 15:35:21.381 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-02 15:35:21.382 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-02 15:35:21.385 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 15:35:21.540 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-02 15:35:21.719 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 15:35:21.728 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-12-02 15:35:21.732 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-12-02 15:35:21.734 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 15:35:21.735 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 15:35:21.736 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-12-02 15:35:21.739 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-12-02 15:35:21.742 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-12-02 15:35:21.743 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-12-02 15:35:21.745 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-12-02 15:35:21.747 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 15:35:21.748 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 15:35:21.750 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-12-02 15:35:21.751 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-12-02 15:38:48.225 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-02 15:38:48.336 +01:00 [DBG] Hosting starting
2023-12-02 15:38:48.468 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 74771C93211CFD306FF4266F6451FEA749179ACD)
2023-12-02 15:38:48.518 +01:00 [INF] Now listening on: https://localhost:7165
2023-12-02 15:38:48.520 +01:00 [INF] Now listening on: http://localhost:5029
2023-12-02 15:38:48.520 +01:00 [DBG] Loaded hosting startup assembly NewCityInfo.API
2023-12-02 15:38:48.521 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-12-02 15:38:48.522 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-12-02 15:38:48.523 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-02 15:38:48.524 +01:00 [INF] Hosting environment: Development
2023-12-02 15:38:48.524 +01:00 [INF] Content root path: C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\
2023-12-02 15:38:48.525 +01:00 [DBG] Hosting started
2023-12-02 15:38:48.931 +01:00 [DBG] Connection id "0HMVJ8HIO0B0Q" accepted.
2023-12-02 15:38:48.934 +01:00 [DBG] Connection id "0HMVJ8HIO0B0Q" started.
2023-12-02 15:38:48.934 +01:00 [DBG] Connection id "0HMVJ8HIO0B0R" accepted.
2023-12-02 15:38:48.938 +01:00 [DBG] Connection id "0HMVJ8HIO0B0R" started.
2023-12-02 15:38:48.975 +01:00 [DBG] Connection id "0HMVJ8HIO0B0Q" received FIN.
2023-12-02 15:38:48.975 +01:00 [DBG] Connection id "0HMVJ8HIO0B0R" received FIN.
2023-12-02 15:38:48.993 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, Boolean isApm, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-02 15:38:48.993 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, Boolean isApm, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-02 15:38:49.028 +01:00 [DBG] Connection id "0HMVJ8HIO0B0Q" stopped.
2023-12-02 15:38:49.028 +01:00 [DBG] Connection id "0HMVJ8HIO0B0R" stopped.
2023-12-02 15:38:49.032 +01:00 [DBG] Connection id "0HMVJ8HIO0B0Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-02 15:38:49.032 +01:00 [DBG] Connection id "0HMVJ8HIO0B0R" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-02 15:38:51.415 +01:00 [DBG] Connection id "0HMVJ8HIO0B0S" accepted.
2023-12-02 15:38:51.417 +01:00 [DBG] Connection id "0HMVJ8HIO0B0S" started.
2023-12-02 15:38:51.469 +01:00 [DBG] Connection 0HMVJ8HIO0B0S established using the following protocol: "Tls12"
2023-12-02 15:38:51.529 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7165/swagger/index.html - -
2023-12-02 15:38:51.652 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-02 15:38:51.765 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-12-02 15:38:51.787 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-12-02 15:38:51.793 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7165/swagger/index.html - - - 200 - text/html;charset=utf-8 266.1055ms
2023-12-02 15:38:51.814 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7165/_framework/aspnetcore-browser-refresh.js - -
2023-12-02 15:38:51.814 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7165/_vs/browserLink - -
2023-12-02 15:38:51.826 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7165/_framework/aspnetcore-browser-refresh.js - - - 200 13766 application/javascript;+charset=utf-8 12.1586ms
2023-12-02 15:38:51.924 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7165/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 110.3819ms
2023-12-02 15:38:51.987 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7165/swagger/v1/swagger.json - -
2023-12-02 15:38:52.177 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7165/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 189.6205ms
2023-12-02 15:38:53.544 +01:00 [DBG] Connection id "0HMVJ8HIO0B0T" accepted.
2023-12-02 15:38:53.545 +01:00 [DBG] Connection id "0HMVJ8HIO0B0T" received FIN.
2023-12-02 15:38:53.546 +01:00 [DBG] Connection id "0HMVJ8HIO0B0T" started.
2023-12-02 15:38:53.546 +01:00 [DBG] Connection id "0HMVJ8HIO0B0U" accepted.
2023-12-02 15:38:53.549 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, Boolean isApm, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-02 15:38:53.549 +01:00 [DBG] Connection id "0HMVJ8HIO0B0U" started.
2023-12-02 15:38:53.553 +01:00 [DBG] Connection id "0HMVJ8HIO0B0T" stopped.
2023-12-02 15:38:53.555 +01:00 [DBG] Connection id "0HMVJ8HIO0B0T" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-02 15:38:53.560 +01:00 [DBG] Connection 0HMVJ8HIO0B0U established using the following protocol: "Tls12"
2023-12-02 15:38:53.572 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=2 - -
2023-12-02 15:38:53.575 +01:00 [DBG] The request path  does not match the path filter
2023-12-02 15:38:53.604 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-02 15:38:53.611 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-02 15:38:53.613 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 15:38:53.616 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 15:38:53.646 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[NewCityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCitiesAsync(System.String, System.String) on controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API).
2023-12-02 15:38:53.649 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-02 15:38:53.650 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-02 15:38:53.651 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-02 15:38:53.653 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-02 15:38:53.654 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-02 15:38:53.656 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 15:38:53.811 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-02 15:38:54.009 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 15:38:54.019 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-12-02 15:38:54.023 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-12-02 15:38:54.025 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 15:38:54.027 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 15:38:54.028 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-12-02 15:38:54.032 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-12-02 15:38:54.036 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-12-02 15:38:54.038 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2023-12-02 15:38:54.040 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 15:38:54.041 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 15:38:54.042 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-12-02 15:38:54.043 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-12-02 15:38:54.972 +01:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-12-02 15:38:55.043 +01:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Name.Contains(__searchquery_0) || c.Description != null && c.Description.Contains(__searchquery_0))
    .OrderBy(c => c.Name)'
2023-12-02 15:38:55.494 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        WHERE ((@__searchquery_0 == '') || (instr(c.Name, @__searchquery_0) > 0)) || ((c.Description != NULL) && ((@__searchquery_0 == '') || (instr(c.Description, @__searchquery_0) > 0)))
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    NewCityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-12-02 15:38:55.570 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-02 15:38:55.638 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (62ms).
2023-12-02 15:38:55.655 +01:00 [DBG] Opening connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 15:38:55.676 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 15:38:55.696 +01:00 [DBG] Executing DbCommand [Parameters=[@__searchquery_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
2023-12-02 15:38:55.731 +01:00 [INF] Executed DbCommand (42ms) [Parameters=[@__searchquery_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
2023-12-02 15:38:55.760 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-02 15:38:55.798 +01:00 [DBG] A data reader was disposed.
2023-12-02 15:38:55.810 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 15:38:55.817 +01:00 [DBG] Closed connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 15:38:55.847 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-02 15:38:55.852 +01:00 [DBG] No information found on request to perform content negotiation.
2023-12-02 15:38:55.853 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-02 15:38:55.854 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-02 15:38:55.855 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-02 15:38:55.857 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[NewCityInfo.API.Models.CityWithoutPointOfInterestDto, NewCityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-02 15:38:56.015 +01:00 [INF] Executed action NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API) in 2353.6561ms
2023-12-02 15:38:56.018 +01:00 [INF] Executed endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 15:38:56.019 +01:00 [DBG] Connection id "0HMVJ8HIO0B0U" completed keep alive response.
2023-12-02 15:38:56.026 +01:00 [DBG] 'CityInfoContext' disposed.
2023-12-02 15:38:56.032 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=2 - - - 200 60 application/json;+charset=utf-8 2460.6134ms
2023-12-02 15:39:06.963 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=city%20description - -
2023-12-02 15:39:06.965 +01:00 [DBG] The request path  does not match the path filter
2023-12-02 15:39:06.967 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-02 15:39:06.968 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-02 15:39:06.970 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 15:39:06.972 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 15:39:06.973 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[NewCityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCitiesAsync(System.String, System.String) on controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API).
2023-12-02 15:39:06.977 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-02 15:39:06.978 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-02 15:39:06.980 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-02 15:39:06.983 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-02 15:39:06.985 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-02 15:39:06.986 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 15:39:07.000 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 15:39:07.002 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-12-02 15:39:07.004 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-12-02 15:39:07.005 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 15:39:07.006 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 15:39:07.007 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-12-02 15:39:07.009 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-12-02 15:39:07.010 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-12-02 15:39:07.011 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2023-12-02 15:39:07.013 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 15:39:07.014 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 15:39:07.015 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-12-02 15:39:07.017 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-12-02 15:39:07.020 +01:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-12-02 15:39:07.027 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-02 15:39:07.028 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-02 15:39:07.029 +01:00 [DBG] Opening connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 15:39:07.031 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 15:39:07.032 +01:00 [DBG] Executing DbCommand [Parameters=[@__searchquery_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
2023-12-02 15:39:07.035 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__searchquery_0='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
2023-12-02 15:39:07.037 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-02 15:39:07.038 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-02 15:39:07.040 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-02 15:39:07.041 +01:00 [DBG] A data reader was disposed.
2023-12-02 15:39:07.042 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 15:39:07.044 +01:00 [DBG] Closed connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 15:39:07.045 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-02 15:39:07.047 +01:00 [DBG] No information found on request to perform content negotiation.
2023-12-02 15:39:07.048 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-02 15:39:07.049 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-02 15:39:07.049 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-02 15:39:07.051 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[NewCityInfo.API.Models.CityWithoutPointOfInterestDto, NewCityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-02 15:39:07.052 +01:00 [INF] Executed action NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API) in 65.8886ms
2023-12-02 15:39:07.054 +01:00 [INF] Executed endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 15:39:07.055 +01:00 [DBG] Connection id "0HMVJ8HIO0B0U" completed keep alive response.
2023-12-02 15:39:07.056 +01:00 [DBG] 'CityInfoContext' disposed.
2023-12-02 15:39:07.058 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=city%20description - - - 200 178 application/json;+charset=utf-8 94.6733ms
2023-12-02 15:39:23.406 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=city%20description - -
2023-12-02 15:39:23.414 +01:00 [DBG] The request path  does not match the path filter
2023-12-02 15:39:23.415 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-02 15:39:23.417 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-02 15:39:23.418 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 15:39:23.421 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 15:39:23.422 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[NewCityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCitiesAsync(System.String, System.String) on controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API).
2023-12-02 15:39:23.426 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-02 15:39:23.428 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-02 15:39:23.430 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-02 15:39:23.433 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-02 15:39:23.435 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-02 15:39:23.437 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 15:39:23.444 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 15:39:23.446 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-12-02 15:39:23.448 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-12-02 15:39:23.450 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 15:39:23.451 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 15:39:23.453 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-12-02 15:39:23.455 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-12-02 15:39:23.456 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-12-02 15:39:23.458 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2023-12-02 15:39:23.460 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 15:39:23.461 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 15:39:23.463 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-12-02 15:39:23.464 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-12-02 15:39:23.525 +01:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-12-02 16:27:08.907 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-02 16:27:09.017 +01:00 [DBG] Hosting starting
2023-12-02 16:27:09.161 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 74771C93211CFD306FF4266F6451FEA749179ACD)
2023-12-02 16:27:09.213 +01:00 [INF] Now listening on: https://localhost:7165
2023-12-02 16:27:09.214 +01:00 [INF] Now listening on: http://localhost:5029
2023-12-02 16:27:09.215 +01:00 [DBG] Loaded hosting startup assembly NewCityInfo.API
2023-12-02 16:27:09.216 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-12-02 16:27:09.217 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-12-02 16:27:09.218 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-02 16:27:09.219 +01:00 [INF] Hosting environment: Development
2023-12-02 16:27:09.220 +01:00 [INF] Content root path: C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\
2023-12-02 16:27:09.221 +01:00 [DBG] Hosting started
2023-12-02 16:27:09.610 +01:00 [DBG] Connection id "0HMVJ9CJ7296K" received FIN.
2023-12-02 16:27:09.619 +01:00 [DBG] Connection id "0HMVJ9CJ7296K" accepted.
2023-12-02 16:27:09.622 +01:00 [DBG] Connection id "0HMVJ9CJ7296K" started.
2023-12-02 16:27:09.639 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, Boolean isApm, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-02 16:27:09.676 +01:00 [DBG] Connection id "0HMVJ9CJ7296K" stopped.
2023-12-02 16:27:09.681 +01:00 [DBG] Connection id "0HMVJ9CJ7296K" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-02 16:27:12.450 +01:00 [DBG] Connection id "0HMVJ9CJ7296L" accepted.
2023-12-02 16:27:12.452 +01:00 [DBG] Connection id "0HMVJ9CJ7296L" started.
2023-12-02 16:27:12.538 +01:00 [DBG] Connection 0HMVJ9CJ7296L established using the following protocol: "Tls12"
2023-12-02 16:27:12.597 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7165/swagger/index.html - -
2023-12-02 16:27:12.736 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-02 16:27:12.843 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-12-02 16:27:12.866 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-12-02 16:27:12.877 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7165/swagger/index.html - - - 200 - text/html;charset=utf-8 283.7237ms
2023-12-02 16:27:12.899 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7165/_vs/browserLink - -
2023-12-02 16:27:12.899 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7165/_framework/aspnetcore-browser-refresh.js - -
2023-12-02 16:27:12.907 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7165/_framework/aspnetcore-browser-refresh.js - - - 200 13766 application/javascript;+charset=utf-8 7.3687ms
2023-12-02 16:27:12.982 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7165/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 82.4475ms
2023-12-02 16:27:13.035 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7165/swagger/v1/swagger.json - -
2023-12-02 16:27:13.275 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7165/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 239.5029ms
2023-12-02 16:27:30.190 +01:00 [DBG] Connection id "0HMVJ9CJ7296M" accepted.
2023-12-02 16:27:30.191 +01:00 [DBG] Connection id "0HMVJ9CJ7296M" received FIN.
2023-12-02 16:27:30.191 +01:00 [DBG] Connection id "0HMVJ9CJ7296M" started.
2023-12-02 16:27:30.195 +01:00 [DBG] Connection id "0HMVJ9CJ7296N" accepted.
2023-12-02 16:27:30.199 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, Boolean isApm, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-02 16:27:30.199 +01:00 [DBG] Connection id "0HMVJ9CJ7296N" started.
2023-12-02 16:27:30.205 +01:00 [DBG] Connection id "0HMVJ9CJ7296M" stopped.
2023-12-02 16:27:30.207 +01:00 [DBG] Connection id "0HMVJ9CJ7296M" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-02 16:27:30.212 +01:00 [DBG] Connection 0HMVJ9CJ7296N established using the following protocol: "Tls12"
2023-12-02 16:27:30.230 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=city%20description$pageSize=1 - -
2023-12-02 16:27:30.235 +01:00 [DBG] The request path  does not match the path filter
2023-12-02 16:27:30.267 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-02 16:27:30.273 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-02 16:27:30.275 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:27:30.279 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:27:30.321 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[NewCityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCitiesAsync(System.String, System.String, Int32, Int32) on controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API).
2023-12-02 16:27:30.325 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-02 16:27:30.326 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-02 16:27:30.328 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-02 16:27:30.334 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-02 16:27:30.335 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-02 16:27:30.337 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:27:30.514 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-02 16:27:30.735 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:27:30.746 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-12-02 16:27:30.752 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-12-02 16:27:30.754 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:27:30.755 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:27:30.757 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-12-02 16:27:30.761 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-12-02 16:27:30.768 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:27:30.769 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2023-12-02 16:27:30.771 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:27:30.773 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:27:30.775 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:27:30.776 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:27:30.778 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:27:30.783 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2023-12-02 16:27:30.785 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:27:30.787 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:27:30.789 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:27:30.790 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:27:30.792 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:27:30.793 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:27:30.800 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2023-12-02 16:27:30.802 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:27:30.804 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:27:30.806 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:27:30.807 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:27:30.809 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:27:31.851 +01:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-12-02 16:27:31.934 +01:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Name.Contains(__searchquery_0) || c.Description != null && c.Description.Contains(__searchquery_0))
    .OrderBy(c => c.Name)
    .Skip(__p_1)
    .Take(__p_2)'
2023-12-02 16:27:32.404 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        WHERE ((@__searchquery_0 == '') || (instr(c.Name, @__searchquery_0) > 0)) || ((c.Description != NULL) && ((@__searchquery_0 == '') || (instr(c.Description, @__searchquery_0) > 0)))
        ORDER BY c.Name ASC
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    NewCityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-12-02 16:27:32.481 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-02 16:27:32.550 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (65ms).
2023-12-02 16:27:32.567 +01:00 [DBG] Opening connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:27:32.586 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:27:32.609 +01:00 [DBG] Executing DbCommand [Parameters=[@__searchquery_0='?' (Size = 27), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-12-02 16:27:32.645 +01:00 [INF] Executed DbCommand (46ms) [Parameters=[@__searchquery_0='?' (Size = 27), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-12-02 16:27:32.665 +01:00 [DBG] A data reader was disposed.
2023-12-02 16:27:32.677 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:27:32.686 +01:00 [DBG] Closed connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:27:32.690 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-02 16:27:32.695 +01:00 [DBG] No information found on request to perform content negotiation.
2023-12-02 16:27:32.696 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-12-02 16:27:32.699 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-12-02 16:27:32.701 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-12-02 16:27:32.891 +01:00 [INF] Executed action NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API) in 2546.1105ms
2023-12-02 16:27:32.895 +01:00 [INF] Executed endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:27:32.896 +01:00 [DBG] Connection id "0HMVJ9CJ7296N" completed keep alive response.
2023-12-02 16:27:32.904 +01:00 [DBG] 'CityInfoContext' disposed.
2023-12-02 16:27:32.913 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=city%20description$pageSize=1 - - - 404 161 application/problem+json;+charset=utf-8 2682.9235ms
2023-12-02 16:27:43.776 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=city%20description&pageSize=1 - -
2023-12-02 16:27:43.778 +01:00 [DBG] The request path  does not match the path filter
2023-12-02 16:27:43.780 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-02 16:27:43.782 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-02 16:27:43.786 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:27:43.788 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:27:43.790 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[NewCityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCitiesAsync(System.String, System.String, Int32, Int32) on controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API).
2023-12-02 16:27:43.797 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-02 16:27:43.801 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-02 16:27:43.802 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-02 16:27:43.805 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-02 16:27:43.806 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-02 16:27:43.808 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:27:43.828 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:27:43.830 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-12-02 16:27:43.834 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-12-02 16:27:43.836 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:27:43.837 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:27:43.839 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-12-02 16:27:43.841 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-12-02 16:27:43.846 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:27:43.848 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2023-12-02 16:27:43.850 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:27:43.852 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:27:43.854 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:27:43.856 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:27:43.862 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:27:43.864 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2023-12-02 16:27:43.866 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:27:43.868 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:27:43.870 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:27:43.871 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:27:43.873 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:27:43.879 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:27:43.883 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-12-02 16:27:43.886 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:27:43.888 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:27:43.892 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:27:43.894 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:27:43.898 +01:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-12-02 16:27:43.913 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-02 16:27:43.914 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-02 16:27:43.916 +01:00 [DBG] Opening connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:27:43.918 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:27:43.920 +01:00 [DBG] Executing DbCommand [Parameters=[@__searchquery_0='?' (Size = 16), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-12-02 16:27:43.928 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__searchquery_0='?' (Size = 16), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-12-02 16:27:43.955 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-02 16:27:43.986 +01:00 [DBG] A data reader was disposed.
2023-12-02 16:27:43.987 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:27:43.990 +01:00 [DBG] Closed connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:27:44.029 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-02 16:27:44.033 +01:00 [DBG] No information found on request to perform content negotiation.
2023-12-02 16:27:44.034 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-02 16:27:44.036 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-02 16:27:44.037 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-02 16:27:44.039 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[NewCityInfo.API.Models.CityWithoutPointOfInterestDto, NewCityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-02 16:27:44.056 +01:00 [INF] Executed action NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API) in 247.9466ms
2023-12-02 16:27:44.059 +01:00 [INF] Executed endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:27:44.062 +01:00 [DBG] Connection id "0HMVJ9CJ7296N" completed keep alive response.
2023-12-02 16:27:44.063 +01:00 [DBG] 'CityInfoContext' disposed.
2023-12-02 16:27:44.065 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=city%20description&pageSize=1 - - - 200 60 application/json;+charset=utf-8 288.9214ms
2023-12-02 16:28:08.047 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=city%20description&pageSize=2 - -
2023-12-02 16:28:08.050 +01:00 [DBG] The request path  does not match the path filter
2023-12-02 16:28:08.052 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-02 16:28:08.055 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-02 16:28:08.061 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:28:08.063 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:28:08.065 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[NewCityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCitiesAsync(System.String, System.String, Int32, Int32) on controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API).
2023-12-02 16:28:08.070 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-02 16:28:08.072 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-02 16:28:08.077 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-02 16:28:08.080 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-02 16:28:08.082 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-02 16:28:08.085 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:28:08.091 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:28:08.094 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-12-02 16:28:08.095 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-12-02 16:28:08.097 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:28:08.098 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:28:08.100 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-12-02 16:28:08.101 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-12-02 16:28:08.103 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:28:08.107 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2023-12-02 16:28:08.109 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:28:08.110 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:28:08.112 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:28:08.113 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:28:08.114 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:28:08.116 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2023-12-02 16:28:08.117 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:28:08.124 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:28:08.125 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:28:08.127 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:28:08.128 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:28:08.129 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:28:08.131 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-12-02 16:28:08.132 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:28:08.134 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:28:08.138 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:28:08.139 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:28:08.189 +01:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-12-02 16:28:08.192 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-02 16:28:08.193 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-02 16:28:08.194 +01:00 [DBG] Opening connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:28:08.195 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:28:08.197 +01:00 [DBG] Executing DbCommand [Parameters=[@__searchquery_0='?' (Size = 16), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-12-02 16:28:08.203 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__searchquery_0='?' (Size = 16), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-12-02 16:28:08.206 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-02 16:28:08.207 +01:00 [DBG] A data reader was disposed.
2023-12-02 16:28:08.208 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:28:08.210 +01:00 [DBG] Closed connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:28:08.211 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-02 16:28:08.220 +01:00 [DBG] No information found on request to perform content negotiation.
2023-12-02 16:28:08.221 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-02 16:28:08.222 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-02 16:28:08.223 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-02 16:28:08.225 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[NewCityInfo.API.Models.CityWithoutPointOfInterestDto, NewCityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-02 16:28:08.227 +01:00 [INF] Executed action NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API) in 142.048ms
2023-12-02 16:28:08.229 +01:00 [INF] Executed endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:28:08.230 +01:00 [DBG] Connection id "0HMVJ9CJ7296N" completed keep alive response.
2023-12-02 16:28:08.235 +01:00 [DBG] 'CityInfoContext' disposed.
2023-12-02 16:28:08.237 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=city%20description&pageSize=2 - - - 200 60 application/json;+charset=utf-8 189.8213ms
2023-12-02 16:28:29.984 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=city%20description&pageSize=3 - -
2023-12-02 16:28:29.988 +01:00 [DBG] The request path  does not match the path filter
2023-12-02 16:28:29.990 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-02 16:28:29.992 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-02 16:28:29.997 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:28:30.002 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:28:30.007 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[NewCityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCitiesAsync(System.String, System.String, Int32, Int32) on controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API).
2023-12-02 16:28:30.011 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-02 16:28:30.013 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-02 16:28:30.018 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-02 16:28:30.022 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-02 16:28:30.024 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-02 16:28:30.027 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:28:30.033 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:28:30.034 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-12-02 16:28:30.036 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-12-02 16:28:30.038 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:28:30.040 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:28:30.041 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-12-02 16:28:30.043 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-12-02 16:28:30.048 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:28:30.050 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2023-12-02 16:28:30.052 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:28:30.053 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:28:30.055 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:28:30.056 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:28:30.058 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:28:30.062 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2023-12-02 16:28:30.064 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:28:30.066 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:28:30.068 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:28:30.069 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:28:30.071 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:28:30.073 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:28:30.077 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-12-02 16:28:30.080 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:28:30.082 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:28:30.083 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:28:30.085 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:28:30.087 +01:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-12-02 16:28:30.089 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-02 16:28:30.094 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-12-02 16:28:30.096 +01:00 [DBG] Opening connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:28:30.098 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:28:30.100 +01:00 [DBG] Executing DbCommand [Parameters=[@__searchquery_0='?' (Size = 16), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-12-02 16:28:30.104 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__searchquery_0='?' (Size = 16), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-12-02 16:28:30.112 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-02 16:28:30.114 +01:00 [DBG] A data reader was disposed.
2023-12-02 16:28:30.115 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:28:30.117 +01:00 [DBG] Closed connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:28:30.119 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-02 16:28:30.128 +01:00 [DBG] No information found on request to perform content negotiation.
2023-12-02 16:28:30.130 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-02 16:28:30.132 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-02 16:28:30.134 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-02 16:28:30.140 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[NewCityInfo.API.Models.CityWithoutPointOfInterestDto, NewCityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-02 16:28:30.142 +01:00 [INF] Executed action NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API) in 115.1475ms
2023-12-02 16:28:30.144 +01:00 [INF] Executed endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:28:30.145 +01:00 [DBG] Connection id "0HMVJ9CJ7296N" completed keep alive response.
2023-12-02 16:28:30.147 +01:00 [DBG] 'CityInfoContext' disposed.
2023-12-02 16:28:30.148 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=city%20description&pageSize=3 - - - 200 60 application/json;+charset=utf-8 164.0907ms
2023-12-02 16:28:41.504 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=city%20description&pageSize=10 - -
2023-12-02 16:28:41.505 +01:00 [DBG] The request path  does not match the path filter
2023-12-02 16:28:41.507 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-02 16:28:41.509 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-02 16:28:41.512 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:28:41.517 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:28:41.519 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[NewCityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCitiesAsync(System.String, System.String, Int32, Int32) on controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API).
2023-12-02 16:28:41.524 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-02 16:28:41.526 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-02 16:28:41.528 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-02 16:28:41.535 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-02 16:28:41.537 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-02 16:28:41.541 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:28:41.544 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:28:41.546 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-12-02 16:28:41.551 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-12-02 16:28:41.554 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:28:41.556 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:28:41.557 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-12-02 16:28:41.559 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-12-02 16:28:41.561 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:28:41.567 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2023-12-02 16:28:41.571 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:28:41.574 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:28:41.575 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:28:41.580 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:28:41.582 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:28:41.584 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2023-12-02 16:28:41.586 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:28:41.589 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:28:41.591 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:28:41.597 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:28:41.599 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:28:41.601 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:28:41.602 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-12-02 16:28:41.605 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:28:41.610 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:28:41.612 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:28:41.614 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:28:41.616 +01:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-12-02 16:28:41.618 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-02 16:28:41.619 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-02 16:28:41.621 +01:00 [DBG] Opening connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:28:41.626 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:28:41.628 +01:00 [DBG] Executing DbCommand [Parameters=[@__searchquery_0='?' (Size = 16), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-12-02 16:28:41.632 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__searchquery_0='?' (Size = 16), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-12-02 16:28:41.635 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-02 16:28:41.642 +01:00 [DBG] A data reader was disposed.
2023-12-02 16:28:41.643 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:28:41.645 +01:00 [DBG] Closed connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:28:41.646 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-02 16:28:41.650 +01:00 [DBG] No information found on request to perform content negotiation.
2023-12-02 16:28:41.651 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-02 16:28:41.656 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-02 16:28:41.657 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-02 16:28:41.659 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[NewCityInfo.API.Models.CityWithoutPointOfInterestDto, NewCityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-02 16:28:41.661 +01:00 [INF] Executed action NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API) in 119.4444ms
2023-12-02 16:28:41.662 +01:00 [INF] Executed endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:28:41.664 +01:00 [DBG] Connection id "0HMVJ9CJ7296N" completed keep alive response.
2023-12-02 16:28:41.665 +01:00 [DBG] 'CityInfoContext' disposed.
2023-12-02 16:28:41.666 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=city%20description&pageSize=10 - - - 200 60 application/json;+charset=utf-8 162.5103ms
2023-12-02 16:29:59.445 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=description&pageSize=10 - -
2023-12-02 16:29:59.450 +01:00 [DBG] The request path  does not match the path filter
2023-12-02 16:29:59.452 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-02 16:29:59.454 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-02 16:29:59.457 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:29:59.458 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:29:59.460 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[NewCityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCitiesAsync(System.String, System.String, Int32, Int32) on controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API).
2023-12-02 16:29:59.464 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-02 16:29:59.466 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-02 16:29:59.468 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-02 16:29:59.471 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-02 16:29:59.473 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-02 16:29:59.476 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:29:59.479 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:29:59.481 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-12-02 16:29:59.484 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-12-02 16:29:59.485 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:29:59.487 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:29:59.489 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-12-02 16:29:59.491 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-12-02 16:29:59.494 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:29:59.495 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2023-12-02 16:29:59.499 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:29:59.501 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:29:59.504 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:29:59.506 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:29:59.508 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:29:59.510 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2023-12-02 16:29:59.514 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:29:59.518 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:29:59.521 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:29:59.524 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:29:59.525 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:29:59.528 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:29:59.530 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-12-02 16:29:59.534 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:29:59.539 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:29:59.543 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:29:59.546 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:29:59.549 +01:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-12-02 16:29:59.553 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-02 16:29:59.557 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-12-02 16:29:59.560 +01:00 [DBG] Opening connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:29:59.562 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:29:59.565 +01:00 [DBG] Executing DbCommand [Parameters=[@__searchquery_0='?' (Size = 11), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-12-02 16:29:59.571 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__searchquery_0='?' (Size = 11), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-12-02 16:29:59.579 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-02 16:29:59.582 +01:00 [DBG] A data reader was disposed.
2023-12-02 16:29:59.583 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:29:59.586 +01:00 [DBG] Closed connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:29:59.588 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-02 16:29:59.597 +01:00 [DBG] No information found on request to perform content negotiation.
2023-12-02 16:29:59.599 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-02 16:29:59.601 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-02 16:29:59.604 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-02 16:29:59.609 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[NewCityInfo.API.Models.CityWithoutPointOfInterestDto, NewCityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-02 16:29:59.613 +01:00 [INF] Executed action NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API) in 136.9973ms
2023-12-02 16:29:59.616 +01:00 [INF] Executed endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:29:59.618 +01:00 [DBG] Connection id "0HMVJ9CJ7296N" completed keep alive response.
2023-12-02 16:29:59.622 +01:00 [DBG] 'CityInfoContext' disposed.
2023-12-02 16:29:59.625 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=description&pageSize=10 - - - 200 60 application/json;+charset=utf-8 180.1585ms
2023-12-02 16:32:55.880 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=description&pageSize=10 - -
2023-12-02 16:32:55.885 +01:00 [DBG] The request path  does not match the path filter
2023-12-02 16:32:55.887 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-02 16:32:55.889 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-02 16:32:55.891 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:32:55.892 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:32:55.893 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[NewCityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCitiesAsync(System.String, System.String, Int32, Int32) on controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API).
2023-12-02 16:32:55.895 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-02 16:32:55.897 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-02 16:32:55.898 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-02 16:32:55.901 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-02 16:32:55.903 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-02 16:32:55.905 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:32:55.906 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:32:55.908 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-12-02 16:32:55.909 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-12-02 16:32:55.911 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:32:55.912 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:32:55.914 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-12-02 16:32:55.916 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-12-02 16:32:55.917 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:32:55.919 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2023-12-02 16:32:55.921 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:32:55.922 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:32:55.924 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:32:55.925 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:32:55.926 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:32:55.928 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2023-12-02 16:32:55.930 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:32:55.931 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:32:55.932 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:32:55.934 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:32:55.935 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:32:55.936 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:32:55.938 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-12-02 16:32:55.939 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:32:55.941 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:32:55.942 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:32:55.944 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:32:55.946 +01:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-12-02 16:32:55.949 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-02 16:32:55.950 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-02 16:32:55.952 +01:00 [DBG] Opening connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:32:55.953 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:32:55.955 +01:00 [DBG] Executing DbCommand [Parameters=[@__searchquery_0='?' (Size = 11), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-12-02 16:32:55.962 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__searchquery_0='?' (Size = 11), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-12-02 16:32:55.970 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-02 16:32:55.973 +01:00 [DBG] A data reader was disposed.
2023-12-02 16:32:55.976 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:32:55.983 +01:00 [DBG] Closed connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:32:55.986 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-02 16:32:55.994 +01:00 [DBG] No information found on request to perform content negotiation.
2023-12-02 16:32:55.995 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-02 16:32:55.997 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-02 16:32:55.999 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-02 16:32:56.003 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[NewCityInfo.API.Models.CityWithoutPointOfInterestDto, NewCityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-02 16:32:56.006 +01:00 [INF] Executed action NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API) in 101.277ms
2023-12-02 16:32:56.008 +01:00 [INF] Executed endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:32:56.010 +01:00 [DBG] Connection id "0HMVJ9CJ7296N" completed keep alive response.
2023-12-02 16:32:56.012 +01:00 [DBG] 'CityInfoContext' disposed.
2023-12-02 16:32:56.014 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=description&pageSize=10 - - - 200 60 application/json;+charset=utf-8 133.9068ms
2023-12-02 16:33:01.543 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=description - -
2023-12-02 16:33:01.544 +01:00 [DBG] The request path  does not match the path filter
2023-12-02 16:33:01.546 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-02 16:33:01.548 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-02 16:33:01.552 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:33:01.554 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:33:01.556 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[NewCityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCitiesAsync(System.String, System.String, Int32, Int32) on controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API).
2023-12-02 16:33:01.560 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-02 16:33:01.563 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-02 16:33:01.565 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-02 16:33:01.568 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-02 16:33:01.571 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-02 16:33:01.574 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:33:01.576 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:33:01.579 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-12-02 16:33:01.582 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-12-02 16:33:01.586 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:33:01.589 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:33:01.591 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-12-02 16:33:01.593 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-12-02 16:33:01.596 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:33:01.601 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2023-12-02 16:33:01.605 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:33:01.607 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:33:01.609 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:33:01.611 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:33:01.614 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:33:01.617 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2023-12-02 16:33:01.620 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:33:01.622 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:33:01.625 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:33:01.629 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:33:01.631 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:33:01.633 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:33:01.635 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2023-12-02 16:33:01.637 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:33:01.641 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:33:01.645 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:33:01.649 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:33:01.653 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:33:01.656 +01:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-12-02 16:33:01.663 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-02 16:33:01.667 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-12-02 16:33:01.670 +01:00 [DBG] Opening connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:33:01.673 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:33:01.679 +01:00 [DBG] Executing DbCommand [Parameters=[@__searchquery_0='?' (Size = 11), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-12-02 16:33:01.688 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__searchquery_0='?' (Size = 11), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-12-02 16:33:01.696 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-02 16:33:01.702 +01:00 [DBG] A data reader was disposed.
2023-12-02 16:33:01.704 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:33:01.708 +01:00 [DBG] Closed connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:33:01.714 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-02 16:33:01.721 +01:00 [DBG] No information found on request to perform content negotiation.
2023-12-02 16:33:01.723 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-02 16:33:01.726 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-02 16:33:01.730 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-02 16:33:01.735 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[NewCityInfo.API.Models.CityWithoutPointOfInterestDto, NewCityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-02 16:33:01.739 +01:00 [INF] Executed action NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API) in 164.6473ms
2023-12-02 16:33:01.742 +01:00 [INF] Executed endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:33:01.745 +01:00 [DBG] Connection id "0HMVJ9CJ7296N" completed keep alive response.
2023-12-02 16:33:01.748 +01:00 [DBG] 'CityInfoContext' disposed.
2023-12-02 16:33:01.751 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=description - - - 200 60 application/json;+charset=utf-8 208.3604ms
2023-12-02 16:33:23.471 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=description&pageNumber=10 - -
2023-12-02 16:33:23.473 +01:00 [DBG] The request path  does not match the path filter
2023-12-02 16:33:23.474 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-02 16:33:23.476 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-02 16:33:23.478 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:33:23.479 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:33:23.480 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[NewCityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCitiesAsync(System.String, System.String, Int32, Int32) on controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API).
2023-12-02 16:33:23.483 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-02 16:33:23.485 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-02 16:33:23.486 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-02 16:33:23.489 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-02 16:33:23.491 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-02 16:33:23.492 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:33:23.494 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:33:23.496 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-12-02 16:33:23.497 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-12-02 16:33:23.500 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:33:23.504 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:33:23.509 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-12-02 16:33:23.515 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-12-02 16:33:23.521 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:33:23.526 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2023-12-02 16:33:23.534 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:33:23.540 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:33:23.546 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:33:23.552 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:33:23.557 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:33:23.564 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-12-02 16:33:23.574 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:33:23.584 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:33:23.592 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:33:23.601 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:33:23.609 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:33:23.617 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2023-12-02 16:33:23.626 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:33:23.635 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:33:23.645 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:33:23.653 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:33:23.662 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:33:23.673 +01:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-12-02 16:33:23.685 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-02 16:33:23.689 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-12-02 16:33:23.695 +01:00 [DBG] Opening connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:33:23.702 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:33:23.708 +01:00 [DBG] Executing DbCommand [Parameters=[@__searchquery_0='?' (Size = 11), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-12-02 16:33:23.718 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__searchquery_0='?' (Size = 11), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-12-02 16:33:23.728 +01:00 [DBG] A data reader was disposed.
2023-12-02 16:33:23.732 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:33:23.739 +01:00 [DBG] Closed connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:33:23.744 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-02 16:33:23.757 +01:00 [DBG] No information found on request to perform content negotiation.
2023-12-02 16:33:23.760 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-12-02 16:33:23.772 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-12-02 16:33:23.775 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-12-02 16:33:23.781 +01:00 [INF] Executed action NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API) in 288.4117ms
2023-12-02 16:33:23.784 +01:00 [INF] Executed endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:33:23.787 +01:00 [DBG] Connection id "0HMVJ9CJ7296N" completed keep alive response.
2023-12-02 16:33:23.790 +01:00 [DBG] 'CityInfoContext' disposed.
2023-12-02 16:33:23.794 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=description&pageNumber=10 - - - 404 161 application/problem+json;+charset=utf-8 322.6830ms
2023-12-02 16:33:28.285 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=description&pageNumber=2 - -
2023-12-02 16:33:28.287 +01:00 [DBG] The request path  does not match the path filter
2023-12-02 16:33:28.289 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-02 16:33:28.291 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-02 16:33:28.295 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:33:28.296 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:33:28.298 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[NewCityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCitiesAsync(System.String, System.String, Int32, Int32) on controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API).
2023-12-02 16:33:28.303 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-02 16:33:28.305 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-02 16:33:28.308 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-02 16:33:28.311 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-02 16:33:28.314 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-02 16:33:28.316 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:33:28.319 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:33:28.321 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-12-02 16:33:28.324 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-12-02 16:33:28.326 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:33:28.328 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:33:28.330 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-12-02 16:33:28.333 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-12-02 16:33:28.338 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:33:28.341 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2023-12-02 16:33:28.343 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:33:28.348 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:33:28.350 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:33:28.353 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:33:28.356 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:33:28.358 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-12-02 16:33:28.364 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:33:28.367 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:33:28.368 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:33:28.371 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:33:28.374 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:33:28.377 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2023-12-02 16:33:28.381 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:33:28.384 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:33:28.389 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:33:28.391 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:33:28.393 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:33:28.397 +01:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-12-02 16:33:28.405 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-02 16:33:28.407 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-12-02 16:33:28.409 +01:00 [DBG] Opening connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:33:28.413 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:33:28.418 +01:00 [DBG] Executing DbCommand [Parameters=[@__searchquery_0='?' (Size = 11), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-12-02 16:33:28.424 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__searchquery_0='?' (Size = 11), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-12-02 16:33:28.433 +01:00 [DBG] A data reader was disposed.
2023-12-02 16:33:28.436 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:33:28.440 +01:00 [DBG] Closed connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:33:28.443 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-02 16:33:28.452 +01:00 [DBG] No information found on request to perform content negotiation.
2023-12-02 16:33:28.455 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-12-02 16:33:28.462 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-12-02 16:33:28.467 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-12-02 16:33:28.472 +01:00 [INF] Executed action NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API) in 155.586ms
2023-12-02 16:33:28.475 +01:00 [INF] Executed endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:33:28.477 +01:00 [DBG] Connection id "0HMVJ9CJ7296N" completed keep alive response.
2023-12-02 16:33:28.480 +01:00 [DBG] 'CityInfoContext' disposed.
2023-12-02 16:33:28.483 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=description&pageNumber=2 - - - 404 161 application/problem+json;+charset=utf-8 198.0043ms
2023-12-02 16:33:48.055 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=description&pageNumber=2 - -
2023-12-02 16:33:48.057 +01:00 [DBG] The request path  does not match the path filter
2023-12-02 16:33:48.059 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-02 16:33:48.061 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-02 16:33:48.063 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:33:48.064 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:33:48.066 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[NewCityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCitiesAsync(System.String, System.String, Int32, Int32) on controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API).
2023-12-02 16:33:48.068 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-02 16:33:48.070 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-02 16:33:48.072 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-02 16:33:48.075 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-02 16:33:48.077 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-02 16:33:48.079 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:33:48.081 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:33:48.083 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-12-02 16:33:48.085 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-12-02 16:33:48.087 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:33:48.088 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:33:48.090 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-12-02 16:33:48.091 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-12-02 16:33:48.093 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:33:48.094 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2023-12-02 16:33:48.096 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:33:48.098 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:33:48.099 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:33:48.101 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:33:48.102 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:33:48.103 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-12-02 16:33:48.106 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:33:48.108 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:33:48.109 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:33:48.111 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:33:48.112 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:33:48.115 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2023-12-02 16:33:48.116 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:33:48.119 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:33:48.121 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:33:48.124 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:33:48.126 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:33:48.128 +01:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-12-02 16:33:48.131 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-02 16:33:48.133 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-02 16:33:48.134 +01:00 [DBG] Opening connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:33:48.137 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:33:48.139 +01:00 [DBG] Executing DbCommand [Parameters=[@__searchquery_0='?' (Size = 11), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-12-02 16:33:48.143 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__searchquery_0='?' (Size = 11), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-12-02 16:33:48.147 +01:00 [DBG] A data reader was disposed.
2023-12-02 16:33:48.151 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:33:48.155 +01:00 [DBG] Closed connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:33:48.158 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-02 16:33:48.167 +01:00 [DBG] No information found on request to perform content negotiation.
2023-12-02 16:33:48.171 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-12-02 16:33:48.176 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-12-02 16:33:48.179 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-12-02 16:33:48.182 +01:00 [INF] Executed action NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API) in 102.5119ms
2023-12-02 16:33:48.185 +01:00 [INF] Executed endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:33:48.186 +01:00 [DBG] Connection id "0HMVJ9CJ7296N" completed keep alive response.
2023-12-02 16:33:48.188 +01:00 [DBG] 'CityInfoContext' disposed.
2023-12-02 16:33:48.189 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=description&pageNumber=2 - - - 404 161 application/problem+json;+charset=utf-8 134.1956ms
2023-12-02 16:33:58.338 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?name=city&pageNumber=2 - -
2023-12-02 16:33:58.339 +01:00 [DBG] The request path  does not match the path filter
2023-12-02 16:33:58.341 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-02 16:33:58.342 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-02 16:33:58.344 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:33:58.345 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:33:58.346 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[NewCityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCitiesAsync(System.String, System.String, Int32, Int32) on controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API).
2023-12-02 16:33:58.349 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-02 16:33:58.351 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-02 16:33:58.352 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-02 16:33:58.355 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-02 16:33:58.357 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-02 16:33:58.359 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:33:58.361 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:33:58.362 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-12-02 16:33:58.364 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-12-02 16:33:58.365 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:33:58.366 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:33:58.368 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-12-02 16:33:58.369 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-12-02 16:33:58.370 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:33:58.371 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-12-02 16:33:58.372 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:33:58.374 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:33:58.375 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:33:58.376 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:33:58.377 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:33:58.378 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:33:58.379 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-12-02 16:33:58.380 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:33:58.381 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:33:58.382 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:33:58.383 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:33:58.385 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:33:58.386 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2023-12-02 16:33:58.387 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:33:58.389 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:33:58.390 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:33:58.391 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:33:58.392 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:33:58.394 +01:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-12-02 16:33:58.396 +01:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Name == __name_0)
    .OrderBy(c => c.Name)
    .Skip(__p_1)
    .Take(__p_2)'
2023-12-02 16:33:58.400 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        WHERE c.Name == @__name_0
        ORDER BY c.Name ASC
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    NewCityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-12-02 16:33:58.402 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-02 16:33:58.403 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-02 16:33:58.404 +01:00 [DBG] Opening connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:33:58.405 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:33:58.406 +01:00 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 4), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-12-02 16:33:58.409 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__name_0='?' (Size = 4), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-12-02 16:33:58.411 +01:00 [DBG] A data reader was disposed.
2023-12-02 16:33:58.412 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:33:58.413 +01:00 [DBG] Closed connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:33:58.414 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-02 16:33:58.417 +01:00 [DBG] No information found on request to perform content negotiation.
2023-12-02 16:33:58.417 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-12-02 16:33:58.420 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-12-02 16:33:58.421 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-12-02 16:33:58.423 +01:00 [INF] Executed action NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API) in 63.582ms
2023-12-02 16:33:58.424 +01:00 [INF] Executed endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:33:58.425 +01:00 [DBG] Connection id "0HMVJ9CJ7296N" completed keep alive response.
2023-12-02 16:33:58.426 +01:00 [DBG] 'CityInfoContext' disposed.
2023-12-02 16:33:58.428 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?name=city&pageNumber=2 - - - 404 161 application/problem+json;+charset=utf-8 89.1751ms
2023-12-02 16:33:59.380 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?name=city&pageNumber=2 - -
2023-12-02 16:33:59.381 +01:00 [DBG] The request path  does not match the path filter
2023-12-02 16:33:59.383 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-02 16:33:59.386 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-02 16:33:59.392 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:33:59.394 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:33:59.396 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[NewCityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCitiesAsync(System.String, System.String, Int32, Int32) on controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API).
2023-12-02 16:33:59.400 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-02 16:33:59.403 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-02 16:33:59.407 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-02 16:33:59.411 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-02 16:33:59.413 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-02 16:33:59.419 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:33:59.424 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:33:59.427 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-12-02 16:33:59.429 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-12-02 16:33:59.433 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:33:59.436 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:33:59.441 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-12-02 16:33:59.444 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-12-02 16:33:59.446 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:33:59.448 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-12-02 16:33:59.453 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:33:59.458 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:33:59.462 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:33:59.465 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:33:59.470 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:33:59.473 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:33:59.476 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-12-02 16:33:59.480 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:33:59.482 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:33:59.484 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:33:59.485 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:33:59.487 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:33:59.490 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2023-12-02 16:33:59.492 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:33:59.494 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:33:59.498 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:33:59.501 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:33:59.504 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:33:59.507 +01:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-12-02 16:33:59.512 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-02 16:33:59.514 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-12-02 16:33:59.519 +01:00 [DBG] Opening connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:33:59.522 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:33:59.528 +01:00 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 4), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-12-02 16:33:59.533 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__name_0='?' (Size = 4), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-12-02 16:33:59.543 +01:00 [DBG] A data reader was disposed.
2023-12-02 16:33:59.545 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:33:59.549 +01:00 [DBG] Closed connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:33:59.553 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-02 16:33:59.560 +01:00 [DBG] No information found on request to perform content negotiation.
2023-12-02 16:33:59.562 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-12-02 16:33:59.570 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-12-02 16:33:59.574 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-12-02 16:33:59.577 +01:00 [INF] Executed action NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API) in 158.5187ms
2023-12-02 16:33:59.579 +01:00 [INF] Executed endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:33:59.581 +01:00 [DBG] Connection id "0HMVJ9CJ7296N" completed keep alive response.
2023-12-02 16:33:59.583 +01:00 [DBG] 'CityInfoContext' disposed.
2023-12-02 16:33:59.584 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?name=city&pageNumber=2 - - - 404 161 application/problem+json;+charset=utf-8 204.2987ms
2023-12-02 16:34:01.347 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?pageNumber=2 - -
2023-12-02 16:34:01.349 +01:00 [DBG] The request path  does not match the path filter
2023-12-02 16:34:01.352 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-02 16:34:01.354 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-02 16:34:01.359 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:34:01.360 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:34:01.362 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[NewCityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCitiesAsync(System.String, System.String, Int32, Int32) on controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API).
2023-12-02 16:34:01.368 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-02 16:34:01.370 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-02 16:34:01.371 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-02 16:34:01.376 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-02 16:34:01.379 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-02 16:34:01.383 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:34:01.386 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:34:01.389 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-12-02 16:34:01.393 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-12-02 16:34:01.395 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-12-02 16:34:01.398 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:34:01.401 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:34:01.404 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-12-02 16:34:01.406 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-12-02 16:34:01.408 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:34:01.409 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-12-02 16:34:01.411 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:34:01.414 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:34:01.417 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:34:01.422 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:34:01.426 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:34:01.429 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:34:01.434 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-12-02 16:34:01.437 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:34:01.439 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:34:01.442 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:34:01.444 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:34:01.449 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:34:01.454 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2023-12-02 16:34:01.459 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:34:01.464 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:34:01.468 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:34:01.474 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:34:01.477 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:34:01.481 +01:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-12-02 16:34:01.489 +01:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)
    .Skip(__p_0)
    .Take(__p_1)'
2023-12-02 16:34:01.496 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    NewCityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-12-02 16:34:01.502 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-02 16:34:01.506 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-12-02 16:34:01.510 +01:00 [DBG] Opening connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:34:01.513 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:34:01.517 +01:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-12-02 16:34:01.524 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-12-02 16:34:01.530 +01:00 [DBG] A data reader was disposed.
2023-12-02 16:34:01.533 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:34:01.538 +01:00 [DBG] Closed connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:34:01.543 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-02 16:34:01.551 +01:00 [DBG] No information found on request to perform content negotiation.
2023-12-02 16:34:01.554 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-12-02 16:34:01.562 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-12-02 16:34:01.566 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-12-02 16:34:01.571 +01:00 [INF] Executed action NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API) in 187.7823ms
2023-12-02 16:34:01.574 +01:00 [INF] Executed endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:34:01.576 +01:00 [DBG] Connection id "0HMVJ9CJ7296N" completed keep alive response.
2023-12-02 16:34:01.579 +01:00 [DBG] 'CityInfoContext' disposed.
2023-12-02 16:34:01.581 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?pageNumber=2 - - - 404 161 application/problem+json;+charset=utf-8 233.7599ms
2023-12-02 16:34:02.480 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?pageNumber=2 - -
2023-12-02 16:34:02.483 +01:00 [DBG] The request path  does not match the path filter
2023-12-02 16:34:02.487 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-02 16:34:02.491 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-02 16:34:02.494 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:34:02.497 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:34:02.500 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[NewCityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCitiesAsync(System.String, System.String, Int32, Int32) on controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API).
2023-12-02 16:34:02.507 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-02 16:34:02.511 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-02 16:34:02.517 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-02 16:34:02.524 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-02 16:34:02.527 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-02 16:34:02.531 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:34:02.535 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:34:02.540 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-12-02 16:34:02.543 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-12-02 16:34:02.547 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-12-02 16:34:02.553 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:34:02.560 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:34:02.564 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-12-02 16:34:02.569 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-12-02 16:34:02.575 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:34:02.580 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-12-02 16:34:02.586 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:34:02.593 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:34:02.597 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:34:02.603 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:34:02.608 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:34:02.612 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:34:02.617 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-12-02 16:34:02.622 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:34:02.627 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:34:02.633 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:34:02.638 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:34:02.641 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:34:02.644 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2023-12-02 16:34:02.648 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:34:02.650 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:34:02.654 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:34:02.657 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:34:02.661 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:34:02.664 +01:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-12-02 16:34:02.667 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-02 16:34:02.668 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-02 16:34:02.670 +01:00 [DBG] Opening connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:34:02.674 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:34:02.678 +01:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-12-02 16:34:02.683 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-12-02 16:34:02.691 +01:00 [DBG] A data reader was disposed.
2023-12-02 16:34:02.693 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:34:02.695 +01:00 [DBG] Closed connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:34:02.698 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-02 16:34:02.704 +01:00 [DBG] No information found on request to perform content negotiation.
2023-12-02 16:34:02.708 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-12-02 16:34:02.715 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-12-02 16:34:02.718 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-12-02 16:34:02.722 +01:00 [INF] Executed action NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API) in 190.9334ms
2023-12-02 16:34:02.725 +01:00 [INF] Executed endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:34:02.726 +01:00 [DBG] Connection id "0HMVJ9CJ7296N" completed keep alive response.
2023-12-02 16:34:02.728 +01:00 [DBG] 'CityInfoContext' disposed.
2023-12-02 16:34:02.730 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?pageNumber=2 - - - 404 161 application/problem+json;+charset=utf-8 250.0455ms
2023-12-02 16:35:30.935 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-02 16:35:31.042 +01:00 [DBG] Hosting starting
2023-12-02 16:35:31.173 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 74771C93211CFD306FF4266F6451FEA749179ACD)
2023-12-02 16:35:31.225 +01:00 [INF] Now listening on: https://localhost:7165
2023-12-02 16:35:31.226 +01:00 [INF] Now listening on: http://localhost:5029
2023-12-02 16:35:31.228 +01:00 [DBG] Loaded hosting startup assembly NewCityInfo.API
2023-12-02 16:35:31.230 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-12-02 16:35:31.231 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-12-02 16:35:31.233 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-02 16:35:31.235 +01:00 [INF] Hosting environment: Development
2023-12-02 16:35:31.236 +01:00 [INF] Content root path: C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\
2023-12-02 16:35:31.237 +01:00 [DBG] Hosting started
2023-12-02 16:35:31.470 +01:00 [DBG] Connection id "0HMVJ9H8P501J" accepted.
2023-12-02 16:35:31.473 +01:00 [DBG] Connection id "0HMVJ9H8P501J" started.
2023-12-02 16:35:31.490 +01:00 [DBG] Connection id "0HMVJ9H8P501K" accepted.
2023-12-02 16:35:31.491 +01:00 [DBG] Connection id "0HMVJ9H8P501K" started.
2023-12-02 16:35:31.509 +01:00 [DBG] Connection id "0HMVJ9H8P501J" received FIN.
2023-12-02 16:35:31.509 +01:00 [DBG] Connection id "0HMVJ9H8P501K" received FIN.
2023-12-02 16:35:31.526 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, Boolean isApm, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-02 16:35:31.526 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, Boolean isApm, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-02 16:35:31.566 +01:00 [DBG] Connection id "0HMVJ9H8P501J" stopped.
2023-12-02 16:35:31.566 +01:00 [DBG] Connection id "0HMVJ9H8P501K" stopped.
2023-12-02 16:35:31.571 +01:00 [DBG] Connection id "0HMVJ9H8P501K" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-02 16:35:31.571 +01:00 [DBG] Connection id "0HMVJ9H8P501J" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-02 16:35:34.192 +01:00 [DBG] Connection id "0HMVJ9H8P501L" accepted.
2023-12-02 16:35:34.194 +01:00 [DBG] Connection id "0HMVJ9H8P501L" started.
2023-12-02 16:35:34.243 +01:00 [DBG] Connection 0HMVJ9H8P501L established using the following protocol: "Tls12"
2023-12-02 16:35:34.302 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7165/swagger/index.html - -
2023-12-02 16:35:34.423 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-02 16:35:34.522 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-12-02 16:35:34.543 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-12-02 16:35:34.551 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7165/swagger/index.html - - - 200 - text/html;charset=utf-8 252.0718ms
2023-12-02 16:35:34.558 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7165/_framework/aspnetcore-browser-refresh.js - -
2023-12-02 16:35:34.558 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7165/_vs/browserLink - -
2023-12-02 16:35:34.570 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7165/_framework/aspnetcore-browser-refresh.js - - - 200 13766 application/javascript;+charset=utf-8 11.3798ms
2023-12-02 16:35:34.635 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7165/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 77.1223ms
2023-12-02 16:35:34.677 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7165/swagger/v1/swagger.json - -
2023-12-02 16:35:34.843 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7165/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 165.4972ms
2023-12-02 16:35:36.376 +01:00 [DBG] Connection id "0HMVJ9H8P501M" accepted.
2023-12-02 16:35:36.377 +01:00 [DBG] Connection id "0HMVJ9H8P501M" received FIN.
2023-12-02 16:35:36.378 +01:00 [DBG] Connection id "0HMVJ9H8P501M" started.
2023-12-02 16:35:36.378 +01:00 [DBG] Connection id "0HMVJ9H8P501N" accepted.
2023-12-02 16:35:36.381 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, Boolean isApm, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-02 16:35:36.382 +01:00 [DBG] Connection id "0HMVJ9H8P501N" started.
2023-12-02 16:35:36.386 +01:00 [DBG] Connection id "0HMVJ9H8P501M" stopped.
2023-12-02 16:35:36.389 +01:00 [DBG] Connection id "0HMVJ9H8P501M" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-02 16:35:36.393 +01:00 [DBG] Connection 0HMVJ9H8P501N established using the following protocol: "Tls12"
2023-12-02 16:35:36.405 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=description&pageNumber=1 - -
2023-12-02 16:35:36.410 +01:00 [DBG] The request path  does not match the path filter
2023-12-02 16:35:36.437 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-02 16:35:36.444 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-02 16:35:36.446 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:35:36.449 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:35:36.479 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[NewCityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCitiesAsync(System.String, System.String, Int32, Int32) on controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API).
2023-12-02 16:35:36.481 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-02 16:35:36.483 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-02 16:35:36.484 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-02 16:35:36.486 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-02 16:35:36.487 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-02 16:35:36.490 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:35:36.641 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-02 16:35:36.824 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:35:36.834 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-12-02 16:35:36.838 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-12-02 16:35:36.841 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:35:36.842 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:35:36.844 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-12-02 16:35:36.847 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-12-02 16:35:36.850 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:35:36.852 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2023-12-02 16:35:36.854 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:35:36.856 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:35:36.858 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:35:36.860 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:35:36.861 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:35:36.863 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-12-02 16:35:36.865 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:35:36.866 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:35:36.868 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:35:36.870 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:35:36.871 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:35:36.873 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2023-12-02 16:35:36.875 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:35:36.877 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:35:36.879 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:35:36.881 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:35:36.882 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:35:37.749 +01:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-12-02 16:35:37.815 +01:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Name.Contains(__searchquery_0) || c.Description != null && c.Description.Contains(__searchquery_0))
    .OrderBy(c => c.Name)
    .Skip(__p_1)
    .Take(__p_2)'
2023-12-02 16:35:38.219 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        WHERE ((@__searchquery_0 == '') || (instr(c.Name, @__searchquery_0) > 0)) || ((c.Description != NULL) && ((@__searchquery_0 == '') || (instr(c.Description, @__searchquery_0) > 0)))
        ORDER BY c.Name ASC
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    NewCityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-12-02 16:35:38.285 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-02 16:35:38.351 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (60ms).
2023-12-02 16:35:38.371 +01:00 [DBG] Opening connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:35:38.395 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:35:38.417 +01:00 [DBG] Executing DbCommand [Parameters=[@__searchquery_0='?' (Size = 11), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-12-02 16:35:38.448 +01:00 [INF] Executed DbCommand (39ms) [Parameters=[@__searchquery_0='?' (Size = 11), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-12-02 16:35:38.472 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-02 16:35:38.503 +01:00 [DBG] A data reader was disposed.
2023-12-02 16:35:38.512 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:35:38.519 +01:00 [DBG] Closed connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:35:38.554 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-02 16:35:38.560 +01:00 [DBG] No information found on request to perform content negotiation.
2023-12-02 16:35:38.560 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-02 16:35:38.561 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-02 16:35:38.563 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-02 16:35:38.564 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[NewCityInfo.API.Models.CityWithoutPointOfInterestDto, NewCityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-02 16:35:38.713 +01:00 [INF] Executed action NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API) in 2218.5464ms
2023-12-02 16:35:38.715 +01:00 [INF] Executed endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:35:38.717 +01:00 [DBG] Connection id "0HMVJ9H8P501N" completed keep alive response.
2023-12-02 16:35:38.724 +01:00 [DBG] 'CityInfoContext' disposed.
2023-12-02 16:35:38.729 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=description&pageNumber=1 - - - 200 60 application/json;+charset=utf-8 2323.3338ms
2023-12-02 16:35:47.296 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?pageNumber=1 - -
2023-12-02 16:35:47.297 +01:00 [DBG] The request path  does not match the path filter
2023-12-02 16:35:47.300 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-02 16:35:47.301 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-02 16:35:47.304 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:35:47.305 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:35:47.307 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[NewCityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCitiesAsync(System.String, System.String, Int32, Int32) on controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API).
2023-12-02 16:35:47.311 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-02 16:35:47.313 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-02 16:35:47.315 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-02 16:35:47.319 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-02 16:35:47.321 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-02 16:35:47.324 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:35:47.336 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:35:47.337 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-12-02 16:35:47.339 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-12-02 16:35:47.341 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-12-02 16:35:47.343 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:35:47.344 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:35:47.346 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-12-02 16:35:47.348 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-12-02 16:35:47.350 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:35:47.351 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-12-02 16:35:47.354 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:35:47.357 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:35:47.359 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:35:47.361 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:35:47.363 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:35:47.365 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:35:47.367 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-12-02 16:35:47.370 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:35:47.372 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:35:47.374 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:35:47.376 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:35:47.378 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:35:47.380 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2023-12-02 16:35:47.382 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:35:47.384 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:35:47.386 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:35:47.387 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:35:47.389 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:35:47.393 +01:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-12-02 16:35:47.396 +01:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)
    .Skip(__p_0)
    .Take(__p_1)'
2023-12-02 16:35:47.401 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    NewCityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-12-02 16:35:47.406 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-02 16:35:47.408 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-02 16:35:47.410 +01:00 [DBG] Opening connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:35:47.412 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:35:47.415 +01:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-12-02 16:35:47.420 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-12-02 16:35:47.425 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-02 16:35:47.428 +01:00 [DBG] A data reader was disposed.
2023-12-02 16:35:47.429 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:35:47.432 +01:00 [DBG] Closed connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:35:47.434 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-02 16:35:47.438 +01:00 [DBG] No information found on request to perform content negotiation.
2023-12-02 16:35:47.439 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-02 16:35:47.441 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-02 16:35:47.443 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-02 16:35:47.446 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[NewCityInfo.API.Models.CityWithoutPointOfInterestDto, NewCityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-02 16:35:47.450 +01:00 [INF] Executed action NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API) in 125.5535ms
2023-12-02 16:35:47.452 +01:00 [INF] Executed endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:35:47.454 +01:00 [DBG] Connection id "0HMVJ9H8P501N" completed keep alive response.
2023-12-02 16:35:47.456 +01:00 [DBG] 'CityInfoContext' disposed.
2023-12-02 16:35:47.458 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?pageNumber=1 - - - 200 60 application/json;+charset=utf-8 161.7831ms
2023-12-02 16:36:54.661 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=description&pageNumber=1 - -
2023-12-02 16:36:54.663 +01:00 [DBG] The request path  does not match the path filter
2023-12-02 16:36:54.665 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-02 16:36:54.666 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-02 16:36:54.668 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:36:54.669 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:36:54.671 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[NewCityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCitiesAsync(System.String, System.String, Int32, Int32) on controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API).
2023-12-02 16:36:54.674 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-02 16:36:54.676 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-02 16:36:54.678 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-02 16:36:54.680 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-02 16:36:54.682 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-02 16:36:54.683 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:36:54.687 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:36:54.690 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-12-02 16:36:54.691 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-12-02 16:36:54.693 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:36:54.694 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:36:54.695 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-12-02 16:36:54.697 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-12-02 16:36:54.699 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:36:54.701 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2023-12-02 16:36:54.703 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:36:54.705 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:36:54.706 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:36:54.708 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:36:54.709 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:36:54.711 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-12-02 16:36:54.713 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:36:54.714 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:36:54.716 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:36:54.717 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:36:54.718 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:36:54.720 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2023-12-02 16:36:54.721 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:36:54.723 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:36:54.724 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:36:54.726 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:36:54.727 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:36:54.775 +01:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-12-02 16:37:09.327 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-02 16:37:09.329 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-12-02 16:37:09.332 +01:00 [DBG] Opening connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:37:09.335 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:37:09.338 +01:00 [DBG] Executing DbCommand [Parameters=[@__searchquery_0='?' (Size = 11), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-12-02 16:37:09.341 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__searchquery_0='?' (Size = 11), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-12-02 16:37:09.343 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-02 16:37:09.345 +01:00 [DBG] A data reader was disposed.
2023-12-02 16:37:09.345 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:37:09.348 +01:00 [DBG] Closed connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:41:48.788 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-02 16:41:48.918 +01:00 [DBG] Hosting starting
2023-12-02 16:41:49.045 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 74771C93211CFD306FF4266F6451FEA749179ACD)
2023-12-02 16:41:49.100 +01:00 [INF] Now listening on: https://localhost:7165
2023-12-02 16:41:49.101 +01:00 [INF] Now listening on: http://localhost:5029
2023-12-02 16:41:49.103 +01:00 [DBG] Loaded hosting startup assembly NewCityInfo.API
2023-12-02 16:41:49.105 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-12-02 16:41:49.106 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-12-02 16:41:49.108 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-02 16:41:49.110 +01:00 [INF] Hosting environment: Development
2023-12-02 16:41:49.111 +01:00 [INF] Content root path: C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\
2023-12-02 16:41:49.112 +01:00 [DBG] Hosting started
2023-12-02 16:41:49.407 +01:00 [DBG] Connection id "0HMVJ9KPDBJ5P" accepted.
2023-12-02 16:41:49.407 +01:00 [DBG] Connection id "0HMVJ9KPDBJ5Q" accepted.
2023-12-02 16:41:49.409 +01:00 [DBG] Connection id "0HMVJ9KPDBJ5P" received FIN.
2023-12-02 16:41:49.409 +01:00 [DBG] Connection id "0HMVJ9KPDBJ5Q" received FIN.
2023-12-02 16:41:49.409 +01:00 [DBG] Connection id "0HMVJ9KPDBJ5P" started.
2023-12-02 16:41:49.409 +01:00 [DBG] Connection id "0HMVJ9KPDBJ5Q" started.
2023-12-02 16:41:49.429 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, Boolean isApm, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-02 16:41:49.429 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, Boolean isApm, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-02 16:41:49.460 +01:00 [DBG] Connection id "0HMVJ9KPDBJ5Q" stopped.
2023-12-02 16:41:49.460 +01:00 [DBG] Connection id "0HMVJ9KPDBJ5P" stopped.
2023-12-02 16:41:49.464 +01:00 [DBG] Connection id "0HMVJ9KPDBJ5Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-02 16:41:49.464 +01:00 [DBG] Connection id "0HMVJ9KPDBJ5P" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-02 16:41:52.091 +01:00 [DBG] Connection id "0HMVJ9KPDBJ5R" accepted.
2023-12-02 16:41:52.097 +01:00 [DBG] Connection id "0HMVJ9KPDBJ5R" started.
2023-12-02 16:41:52.155 +01:00 [DBG] Connection 0HMVJ9KPDBJ5R established using the following protocol: "Tls12"
2023-12-02 16:41:52.208 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7165/swagger/index.html - -
2023-12-02 16:41:52.329 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-02 16:41:52.442 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-12-02 16:41:52.467 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-12-02 16:41:52.474 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7165/swagger/index.html - - - 200 - text/html;charset=utf-8 269.4948ms
2023-12-02 16:41:52.484 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7165/_vs/browserLink - -
2023-12-02 16:41:52.485 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7165/_framework/aspnetcore-browser-refresh.js - -
2023-12-02 16:41:52.492 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7165/_framework/aspnetcore-browser-refresh.js - - - 200 13766 application/javascript;+charset=utf-8 6.9307ms
2023-12-02 16:41:52.553 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7165/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 68.4493ms
2023-12-02 16:41:52.593 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7165/swagger/v1/swagger.json - -
2023-12-02 16:41:52.763 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7165/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 170.0992ms
2023-12-02 16:42:01.096 +01:00 [DBG] Connection id "0HMVJ9KPDBJ5S" accepted.
2023-12-02 16:42:01.098 +01:00 [DBG] Connection id "0HMVJ9KPDBJ5S" received FIN.
2023-12-02 16:42:01.098 +01:00 [DBG] Connection id "0HMVJ9KPDBJ5S" started.
2023-12-02 16:42:01.098 +01:00 [DBG] Connection id "0HMVJ9KPDBJ5T" accepted.
2023-12-02 16:42:01.101 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, Boolean isApm, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-02 16:42:01.102 +01:00 [DBG] Connection id "0HMVJ9KPDBJ5T" started.
2023-12-02 16:42:01.107 +01:00 [DBG] Connection id "0HMVJ9KPDBJ5S" stopped.
2023-12-02 16:42:01.109 +01:00 [DBG] Connection id "0HMVJ9KPDBJ5S" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-02 16:42:01.113 +01:00 [DBG] Connection 0HMVJ9KPDBJ5T established using the following protocol: "Tls12"
2023-12-02 16:42:01.125 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=2&pageNumber=1 - -
2023-12-02 16:42:01.128 +01:00 [DBG] The request path  does not match the path filter
2023-12-02 16:42:01.160 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-02 16:42:01.167 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-02 16:42:01.169 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:42:01.171 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:42:01.199 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[NewCityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCitiesAsync(System.String, System.String, Int32, Int32) on controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API).
2023-12-02 16:42:01.204 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-02 16:42:01.205 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-02 16:42:01.207 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-02 16:42:01.209 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-02 16:42:01.211 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-02 16:42:01.214 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:42:01.366 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-02 16:42:01.555 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:42:01.565 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-12-02 16:42:01.569 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-12-02 16:42:01.572 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:42:01.573 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:42:01.575 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-12-02 16:42:01.581 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-12-02 16:42:01.585 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:42:01.586 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2023-12-02 16:42:01.589 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:42:01.590 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:42:01.592 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:42:01.593 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:42:01.595 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:42:01.597 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-12-02 16:42:01.599 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:42:01.600 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:42:01.602 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:42:01.603 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:42:01.605 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:42:01.607 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2023-12-02 16:42:01.610 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:42:01.612 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:42:01.613 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:42:01.615 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:42:01.616 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:42:02.538 +01:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-12-02 16:42:06.566 +01:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Name.Contains(__searchquery_0) || c.Description != null && c.Description.Contains(__searchquery_0))
    .OrderBy(c => c.Name)
    .Skip(__p_1)
    .Take(__p_2)'
2023-12-02 16:42:07.034 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        WHERE ((@__searchquery_0 == '') || (instr(c.Name, @__searchquery_0) > 0)) || ((c.Description != NULL) && ((@__searchquery_0 == '') || (instr(c.Description, @__searchquery_0) > 0)))
        ORDER BY c.Name ASC
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    NewCityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-12-02 16:42:07.104 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-02 16:42:07.168 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (60ms).
2023-12-02 16:42:07.184 +01:00 [DBG] Opening connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:42:07.202 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:42:07.220 +01:00 [DBG] Executing DbCommand [Parameters=[@__searchquery_0='?' (Size = 1), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-12-02 16:42:07.256 +01:00 [INF] Executed DbCommand (42ms) [Parameters=[@__searchquery_0='?' (Size = 1), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-12-02 16:42:07.279 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-02 16:42:07.312 +01:00 [DBG] A data reader was disposed.
2023-12-02 16:42:07.321 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:42:07.329 +01:00 [DBG] Closed connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:42:33.849 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-02 16:42:33.854 +01:00 [DBG] No information found on request to perform content negotiation.
2023-12-02 16:42:33.855 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-02 16:42:33.857 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-02 16:42:33.858 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-02 16:42:33.860 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[NewCityInfo.API.Models.CityWithoutPointOfInterestDto, NewCityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-02 16:42:34.016 +01:00 [INF] Executed action NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API) in 32797.4295ms
2023-12-02 16:42:34.020 +01:00 [INF] Executed endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:42:34.021 +01:00 [DBG] Connection id "0HMVJ9KPDBJ5T" completed keep alive response.
2023-12-02 16:42:34.029 +01:00 [DBG] 'CityInfoContext' disposed.
2023-12-02 16:42:34.036 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=2&pageNumber=1 - - - 200 60 application/json;+charset=utf-8 32910.6578ms
2023-12-02 16:42:44.905 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=city&pageNumber=1 - -
2023-12-02 16:42:44.906 +01:00 [DBG] The request path  does not match the path filter
2023-12-02 16:42:44.908 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-02 16:42:44.909 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-02 16:42:44.912 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:42:44.913 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:42:44.914 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[NewCityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCitiesAsync(System.String, System.String, Int32, Int32) on controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API).
2023-12-02 16:42:44.917 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-02 16:42:44.919 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-02 16:42:44.920 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-02 16:42:44.923 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-02 16:42:44.925 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-02 16:42:44.927 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:42:44.936 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:42:44.938 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-12-02 16:42:44.939 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-12-02 16:42:44.941 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:42:44.942 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:42:44.944 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-12-02 16:42:44.945 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-12-02 16:42:44.946 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:42:44.948 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2023-12-02 16:42:44.950 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:42:44.951 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:42:44.953 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:42:44.955 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:42:44.957 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:42:44.958 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-12-02 16:42:44.960 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:42:44.962 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:42:44.963 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:42:44.965 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:42:44.966 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:42:44.968 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2023-12-02 16:42:44.969 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:42:44.971 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:42:44.973 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:42:44.975 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:42:44.980 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:42:44.993 +01:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-12-02 16:42:48.965 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-02 16:42:48.969 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-12-02 16:42:48.973 +01:00 [DBG] Opening connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:42:48.976 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:42:48.981 +01:00 [DBG] Executing DbCommand [Parameters=[@__searchquery_0='?' (Size = 4), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-12-02 16:42:48.985 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__searchquery_0='?' (Size = 4), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-12-02 16:42:48.991 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-02 16:42:48.994 +01:00 [DBG] A data reader was disposed.
2023-12-02 16:42:48.997 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:42:49.000 +01:00 [DBG] Closed connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:42:49.005 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-02 16:42:49.013 +01:00 [DBG] No information found on request to perform content negotiation.
2023-12-02 16:42:49.014 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-02 16:42:49.016 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-02 16:42:49.018 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-02 16:42:49.020 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[NewCityInfo.API.Models.CityWithoutPointOfInterestDto, NewCityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-02 16:42:49.023 +01:00 [INF] Executed action NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API) in 4096.3649ms
2023-12-02 16:42:49.025 +01:00 [INF] Executed endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:42:49.027 +01:00 [DBG] Connection id "0HMVJ9KPDBJ5T" completed keep alive response.
2023-12-02 16:42:49.028 +01:00 [DBG] 'CityInfoContext' disposed.
2023-12-02 16:42:49.030 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=city&pageNumber=1 - - - 200 60 application/json;+charset=utf-8 4125.3243ms
2023-12-02 16:43:07.459 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=city&pageNumber=2 - -
2023-12-02 16:43:07.461 +01:00 [DBG] The request path  does not match the path filter
2023-12-02 16:43:07.462 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-02 16:43:07.463 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-02 16:43:07.540 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:43:07.542 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:43:07.543 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[NewCityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCitiesAsync(System.String, System.String, Int32, Int32) on controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API).
2023-12-02 16:43:07.545 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-02 16:43:07.546 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-02 16:43:07.547 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-02 16:43:07.550 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-02 16:43:07.552 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-02 16:43:07.554 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:43:07.558 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:43:07.560 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-12-02 16:43:07.561 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-12-02 16:43:07.563 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:43:07.564 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:43:07.565 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-12-02 16:43:07.567 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-12-02 16:43:07.568 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:43:07.569 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2023-12-02 16:43:07.571 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:43:07.572 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:43:07.573 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:43:07.575 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:43:07.576 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:43:07.577 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-12-02 16:43:07.578 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:43:07.579 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:43:07.580 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:43:07.581 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:43:07.583 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:43:07.584 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2023-12-02 16:43:07.585 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:43:07.586 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:43:07.587 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:43:07.589 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:43:07.590 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:43:07.639 +01:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-12-02 16:43:07.641 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-02 16:43:07.643 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-02 16:43:07.645 +01:00 [DBG] Opening connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:43:07.646 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:43:07.648 +01:00 [DBG] Executing DbCommand [Parameters=[@__searchquery_0='?' (Size = 4), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-12-02 16:43:07.650 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__searchquery_0='?' (Size = 4), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-12-02 16:43:07.654 +01:00 [DBG] A data reader was disposed.
2023-12-02 16:43:07.655 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:43:07.657 +01:00 [DBG] Closed connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:43:07.661 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-02 16:43:07.665 +01:00 [DBG] No information found on request to perform content negotiation.
2023-12-02 16:43:07.666 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-12-02 16:43:07.669 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-12-02 16:43:07.671 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-12-02 16:43:07.690 +01:00 [INF] Executed action NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API) in 135.4503ms
2023-12-02 16:43:07.691 +01:00 [INF] Executed endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:43:07.693 +01:00 [DBG] Connection id "0HMVJ9KPDBJ5T" completed keep alive response.
2023-12-02 16:43:07.695 +01:00 [DBG] 'CityInfoContext' disposed.
2023-12-02 16:43:07.697 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=city&pageNumber=2 - - - 404 161 application/problem+json;+charset=utf-8 237.6994ms
2023-12-02 16:43:16.020 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=city - -
2023-12-02 16:43:16.021 +01:00 [DBG] The request path  does not match the path filter
2023-12-02 16:43:16.022 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-02 16:43:16.024 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-02 16:43:16.027 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:43:16.029 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:43:16.030 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[NewCityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCitiesAsync(System.String, System.String, Int32, Int32) on controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API).
2023-12-02 16:43:16.033 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-02 16:43:16.035 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-02 16:43:16.036 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-02 16:43:16.039 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-02 16:43:16.041 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-02 16:43:16.043 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:43:16.045 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:43:16.047 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-12-02 16:43:16.048 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-12-02 16:43:16.050 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:43:16.052 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:43:16.053 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-12-02 16:43:16.054 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-12-02 16:43:16.056 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:43:16.058 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2023-12-02 16:43:16.059 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:43:16.061 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:43:16.063 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:43:16.064 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:43:16.065 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:43:16.067 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2023-12-02 16:43:16.069 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:43:16.071 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:43:16.073 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:43:16.074 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:43:16.076 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:43:16.077 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:43:16.079 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2023-12-02 16:43:16.081 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:43:16.082 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:43:16.083 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:43:16.084 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:43:16.086 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:43:16.088 +01:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-12-02 16:43:16.090 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-02 16:43:16.092 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-02 16:43:16.093 +01:00 [DBG] Opening connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:43:16.095 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:43:16.097 +01:00 [DBG] Executing DbCommand [Parameters=[@__searchquery_0='?' (Size = 4), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-12-02 16:43:16.101 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__searchquery_0='?' (Size = 4), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-12-02 16:43:16.104 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-02 16:43:16.106 +01:00 [DBG] A data reader was disposed.
2023-12-02 16:43:16.107 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:43:16.108 +01:00 [DBG] Closed connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:43:16.111 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-02 16:43:16.118 +01:00 [DBG] No information found on request to perform content negotiation.
2023-12-02 16:43:16.121 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-02 16:43:16.124 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-02 16:43:16.127 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-02 16:43:16.131 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[NewCityInfo.API.Models.CityWithoutPointOfInterestDto, NewCityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-02 16:43:16.136 +01:00 [INF] Executed action NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API) in 93.2827ms
2023-12-02 16:43:16.140 +01:00 [INF] Executed endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:43:16.142 +01:00 [DBG] Connection id "0HMVJ9KPDBJ5T" completed keep alive response.
2023-12-02 16:43:16.143 +01:00 [DBG] 'CityInfoContext' disposed.
2023-12-02 16:43:16.146 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=city - - - 200 60 application/json;+charset=utf-8 125.6948ms
2023-12-02 16:43:23.309 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=city%202 - -
2023-12-02 16:43:23.310 +01:00 [DBG] The request path  does not match the path filter
2023-12-02 16:43:23.311 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-02 16:43:23.313 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-02 16:43:23.315 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:43:23.316 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:43:23.318 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[NewCityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCitiesAsync(System.String, System.String, Int32, Int32) on controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API).
2023-12-02 16:43:23.321 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-02 16:43:23.323 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-02 16:43:23.325 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-02 16:43:23.328 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-02 16:43:23.330 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-02 16:43:23.332 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:43:23.334 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:43:23.336 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-12-02 16:43:23.337 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-12-02 16:43:23.339 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:43:23.340 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:43:23.342 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-12-02 16:43:23.343 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-12-02 16:43:23.344 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:43:23.345 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2023-12-02 16:43:23.347 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:43:23.349 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:43:23.350 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:43:23.352 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:43:23.354 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:43:23.355 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2023-12-02 16:43:23.357 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:43:23.358 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:43:23.360 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:43:23.361 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:43:23.362 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:43:23.363 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:43:23.364 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2023-12-02 16:43:23.366 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:43:23.368 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:43:23.369 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:43:23.371 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:43:23.372 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:43:23.374 +01:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-12-02 16:43:23.376 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-02 16:43:23.377 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-02 16:43:23.379 +01:00 [DBG] Opening connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:43:23.380 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:43:23.381 +01:00 [DBG] Executing DbCommand [Parameters=[@__searchquery_0='?' (Size = 6), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-12-02 16:43:23.384 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__searchquery_0='?' (Size = 6), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-12-02 16:43:23.387 +01:00 [DBG] A data reader was disposed.
2023-12-02 16:43:23.388 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:43:23.390 +01:00 [DBG] Closed connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:43:23.391 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-02 16:43:23.394 +01:00 [DBG] No information found on request to perform content negotiation.
2023-12-02 16:43:23.395 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-12-02 16:43:23.397 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-12-02 16:43:23.399 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-12-02 16:43:23.400 +01:00 [INF] Executed action NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API) in 68.7955ms
2023-12-02 16:43:23.402 +01:00 [INF] Executed endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:43:23.404 +01:00 [DBG] Connection id "0HMVJ9KPDBJ5T" completed keep alive response.
2023-12-02 16:43:23.405 +01:00 [DBG] 'CityInfoContext' disposed.
2023-12-02 16:43:23.406 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=city%202 - - - 404 161 application/problem+json;+charset=utf-8 97.0324ms
2023-12-02 16:45:54.608 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-02 16:45:54.717 +01:00 [DBG] Hosting starting
2023-12-02 16:45:54.865 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 74771C93211CFD306FF4266F6451FEA749179ACD)
2023-12-02 16:45:54.916 +01:00 [INF] Now listening on: https://localhost:7165
2023-12-02 16:45:54.917 +01:00 [INF] Now listening on: http://localhost:5029
2023-12-02 16:45:54.918 +01:00 [DBG] Loaded hosting startup assembly NewCityInfo.API
2023-12-02 16:45:54.919 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-12-02 16:45:54.920 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-12-02 16:45:54.921 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-02 16:45:54.922 +01:00 [INF] Hosting environment: Development
2023-12-02 16:45:54.923 +01:00 [INF] Content root path: C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\
2023-12-02 16:45:54.924 +01:00 [DBG] Hosting started
2023-12-02 16:45:54.957 +01:00 [DBG] Connection id "0HMVJ9N2J63H6" accepted.
2023-12-02 16:45:54.959 +01:00 [DBG] Connection id "0HMVJ9N2J63H6" started.
2023-12-02 16:45:54.965 +01:00 [DBG] Connection id "0HMVJ9N2J63H7" accepted.
2023-12-02 16:45:54.969 +01:00 [DBG] Connection id "0HMVJ9N2J63H7" started.
2023-12-02 16:45:54.972 +01:00 [DBG] Connection id "0HMVJ9N2J63H6" received FIN.
2023-12-02 16:45:54.972 +01:00 [DBG] Connection id "0HMVJ9N2J63H7" received FIN.
2023-12-02 16:45:54.988 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, Boolean isApm, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-02 16:45:54.988 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, Boolean isApm, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-02 16:45:55.023 +01:00 [DBG] Connection id "0HMVJ9N2J63H6" stopped.
2023-12-02 16:45:55.023 +01:00 [DBG] Connection id "0HMVJ9N2J63H7" stopped.
2023-12-02 16:45:55.028 +01:00 [DBG] Connection id "0HMVJ9N2J63H6" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-02 16:45:55.028 +01:00 [DBG] Connection id "0HMVJ9N2J63H7" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-02 16:45:55.072 +01:00 [DBG] Connection id "0HMVJ9N2J63H8" accepted.
2023-12-02 16:45:55.073 +01:00 [DBG] Connection id "0HMVJ9N2J63H8" started.
2023-12-02 16:45:55.136 +01:00 [DBG] Connection 0HMVJ9N2J63H8 established using the following protocol: "Tls12"
2023-12-02 16:45:55.192 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7165/swagger/index.html - -
2023-12-02 16:45:55.324 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-02 16:45:55.423 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-12-02 16:45:55.445 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-12-02 16:45:55.452 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7165/swagger/index.html - - - 200 - text/html;charset=utf-8 263.3344ms
2023-12-02 16:45:55.469 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7165/_framework/aspnetcore-browser-refresh.js - -
2023-12-02 16:45:55.469 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7165/_vs/browserLink - -
2023-12-02 16:45:55.483 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7165/_framework/aspnetcore-browser-refresh.js - - - 200 13766 application/javascript;+charset=utf-8 13.6289ms
2023-12-02 16:45:55.544 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7165/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 74.8952ms
2023-12-02 16:45:55.587 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7165/swagger/v1/swagger.json - -
2023-12-02 16:45:55.759 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7165/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 172.3110ms
2023-12-02 16:46:17.095 +01:00 [DBG] Connection id "0HMVJ9N2J63H9" accepted.
2023-12-02 16:46:17.096 +01:00 [DBG] Connection id "0HMVJ9N2J63H9" received FIN.
2023-12-02 16:46:17.096 +01:00 [DBG] Connection id "0HMVJ9N2J63H9" started.
2023-12-02 16:46:17.100 +01:00 [DBG] Connection id "0HMVJ9N2J63HA" accepted.
2023-12-02 16:46:17.103 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, Boolean isApm, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-02 16:46:17.103 +01:00 [DBG] Connection id "0HMVJ9N2J63HA" started.
2023-12-02 16:46:17.107 +01:00 [DBG] Connection id "0HMVJ9N2J63H9" stopped.
2023-12-02 16:46:17.109 +01:00 [DBG] Connection id "0HMVJ9N2J63H9" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-02 16:46:17.113 +01:00 [DBG] Connection 0HMVJ9N2J63HA established using the following protocol: "Tls12"
2023-12-02 16:46:17.125 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=city%202 - -
2023-12-02 16:46:17.128 +01:00 [DBG] The request path  does not match the path filter
2023-12-02 16:46:17.159 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-02 16:46:17.166 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-02 16:46:17.168 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:46:17.172 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:46:17.203 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[NewCityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCitiesAsync(System.String, System.String, Int32, Int32) on controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API).
2023-12-02 16:46:17.205 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-02 16:46:17.206 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-02 16:46:17.208 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-02 16:46:17.209 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-02 16:46:17.211 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-02 16:46:17.212 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:46:17.394 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-02 16:46:17.607 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:46:17.620 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-12-02 16:46:17.624 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-12-02 16:46:17.626 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:46:17.627 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:46:17.629 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-12-02 16:46:17.631 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-12-02 16:46:17.635 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:46:17.637 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2023-12-02 16:46:17.638 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:46:17.639 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:46:17.640 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:46:17.642 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:46:17.643 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:46:17.645 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2023-12-02 16:46:17.647 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:46:17.649 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:46:17.650 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:46:17.652 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:46:17.653 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:46:17.654 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:46:17.655 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2023-12-02 16:46:17.657 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:46:17.659 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:46:17.660 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:46:17.661 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:46:17.663 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:46:18.714 +01:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-12-02 16:46:18.803 +01:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Name.Contains(__searchquery_0) || c.Description != null && c.Description.Contains(__searchquery_0))
    .OrderBy(c => c.Name)
    .Skip(__p_1)
    .Take(__p_2)'
2023-12-02 16:46:19.285 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        WHERE ((@__searchquery_0 == '') || (instr(c.Name, @__searchquery_0) > 0)) || ((c.Description != NULL) && ((@__searchquery_0 == '') || (instr(c.Description, @__searchquery_0) > 0)))
        ORDER BY c.Name ASC
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    NewCityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-12-02 16:46:19.364 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-02 16:46:19.429 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (61ms).
2023-12-02 16:46:19.446 +01:00 [DBG] Opening connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:46:19.466 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:46:19.486 +01:00 [DBG] Executing DbCommand [Parameters=[@__searchquery_0='?' (Size = 6), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-12-02 16:46:19.522 +01:00 [INF] Executed DbCommand (41ms) [Parameters=[@__searchquery_0='?' (Size = 6), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-12-02 16:46:19.537 +01:00 [DBG] A data reader was disposed.
2023-12-02 16:46:19.545 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:46:19.554 +01:00 [DBG] Closed connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:46:19.557 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-02 16:46:19.562 +01:00 [DBG] No information found on request to perform content negotiation.
2023-12-02 16:46:19.563 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-12-02 16:46:19.566 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-12-02 16:46:19.568 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-12-02 16:46:19.743 +01:00 [INF] Executed action NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API) in 2525.7362ms
2023-12-02 16:46:19.746 +01:00 [INF] Executed endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:46:19.748 +01:00 [DBG] Connection id "0HMVJ9N2J63HA" completed keep alive response.
2023-12-02 16:46:19.755 +01:00 [DBG] 'CityInfoContext' disposed.
2023-12-02 16:46:19.761 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=city%202 - - - 404 161 application/problem+json;+charset=utf-8 2635.6454ms
2023-12-02 16:46:29.387 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=city - -
2023-12-02 16:46:29.388 +01:00 [DBG] The request path  does not match the path filter
2023-12-02 16:46:29.390 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-02 16:46:29.391 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-02 16:46:29.393 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:46:29.394 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:46:29.395 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[NewCityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCitiesAsync(System.String, System.String, Int32, Int32) on controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API).
2023-12-02 16:46:29.398 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-02 16:46:29.399 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-02 16:46:29.401 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-02 16:46:29.404 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-02 16:46:29.406 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-02 16:46:29.407 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:46:29.418 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:46:29.426 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-12-02 16:46:29.428 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-12-02 16:46:29.429 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:46:29.431 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:46:29.432 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-12-02 16:46:29.435 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-12-02 16:46:29.436 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:46:29.438 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2023-12-02 16:46:29.441 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:46:29.443 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:46:29.444 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:46:29.446 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:46:29.448 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:46:29.451 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2023-12-02 16:46:29.453 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:46:29.455 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:46:29.457 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:46:29.459 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:46:29.461 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:46:29.463 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:46:29.465 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2023-12-02 16:46:29.467 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:46:29.468 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:46:29.470 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:46:29.472 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:46:29.474 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:46:29.483 +01:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-12-02 16:46:29.490 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-02 16:46:29.491 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-02 16:46:29.493 +01:00 [DBG] Opening connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:46:29.494 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:46:29.496 +01:00 [DBG] Executing DbCommand [Parameters=[@__searchquery_0='?' (Size = 4), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-12-02 16:46:29.500 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__searchquery_0='?' (Size = 4), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-12-02 16:46:29.531 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-02 16:46:29.570 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-02 16:46:29.572 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-02 16:46:29.573 +01:00 [DBG] A data reader was disposed.
2023-12-02 16:46:29.575 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:46:29.576 +01:00 [DBG] Closed connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:46:29.613 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-02 16:46:29.616 +01:00 [DBG] No information found on request to perform content negotiation.
2023-12-02 16:46:29.618 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-02 16:46:29.619 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-02 16:46:29.620 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-02 16:46:29.621 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[NewCityInfo.API.Models.CityWithoutPointOfInterestDto, NewCityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-02 16:46:29.638 +01:00 [INF] Executed action NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API) in 230.4362ms
2023-12-02 16:46:29.640 +01:00 [INF] Executed endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:46:29.641 +01:00 [DBG] Connection id "0HMVJ9N2J63HA" completed keep alive response.
2023-12-02 16:46:29.642 +01:00 [DBG] 'CityInfoContext' disposed.
2023-12-02 16:46:29.644 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=city - - - 200 178 application/json;+charset=utf-8 257.0629ms
2023-12-02 16:46:38.889 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=city&pageNumber=2 - -
2023-12-02 16:46:38.890 +01:00 [DBG] The request path  does not match the path filter
2023-12-02 16:46:38.892 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-02 16:46:38.893 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-02 16:46:38.896 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:46:38.898 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:46:38.900 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[NewCityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCitiesAsync(System.String, System.String, Int32, Int32) on controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API).
2023-12-02 16:46:38.905 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-02 16:46:38.907 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-02 16:46:38.910 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-02 16:46:38.913 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-02 16:46:38.916 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-02 16:46:38.919 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:46:38.923 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:46:38.924 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-12-02 16:46:38.926 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-12-02 16:46:38.928 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:46:38.929 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:46:38.931 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-12-02 16:46:38.932 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-12-02 16:46:38.933 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:46:38.935 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2023-12-02 16:46:38.937 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:46:38.939 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:46:38.940 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:46:38.942 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:46:38.943 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:46:38.945 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-12-02 16:46:38.948 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:46:38.949 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:46:38.950 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:46:38.952 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:46:38.954 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:46:38.956 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2023-12-02 16:46:38.957 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:46:38.960 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:46:38.962 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:46:38.964 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:46:38.966 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:46:39.030 +01:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-12-02 16:46:39.033 +01:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Name.Contains(__searchquery_0) || c.Description != null && c.Description.Contains(__searchquery_0))
    .OrderBy(c => c.Name)
    .Skip(__p_1)
    .Take(__p_1)'
2023-12-02 16:46:39.040 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        WHERE ((@__searchquery_0 == '') || (instr(c.Name, @__searchquery_0) > 0)) || ((c.Description != NULL) && ((@__searchquery_0 == '') || (instr(c.Description, @__searchquery_0) > 0)))
        ORDER BY c.Name ASC
        OFFSET @__p_1 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    NewCityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-12-02 16:46:39.044 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-02 16:46:39.046 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-02 16:46:39.047 +01:00 [DBG] Opening connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:46:39.049 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:46:39.051 +01:00 [DBG] Executing DbCommand [Parameters=[@__searchquery_0='?' (Size = 4), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_1
2023-12-02 16:46:39.056 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__searchquery_0='?' (Size = 4), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_1
2023-12-02 16:46:39.060 +01:00 [DBG] A data reader was disposed.
2023-12-02 16:46:39.061 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:46:39.062 +01:00 [DBG] Closed connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:46:39.064 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-02 16:46:39.067 +01:00 [DBG] No information found on request to perform content negotiation.
2023-12-02 16:46:39.068 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-12-02 16:46:39.071 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-12-02 16:46:39.073 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-12-02 16:46:39.075 +01:00 [INF] Executed action NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API) in 156.3276ms
2023-12-02 16:46:39.076 +01:00 [INF] Executed endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:46:39.078 +01:00 [DBG] Connection id "0HMVJ9N2J63HA" completed keep alive response.
2023-12-02 16:46:39.079 +01:00 [DBG] 'CityInfoContext' disposed.
2023-12-02 16:46:39.080 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=city&pageNumber=2 - - - 404 161 application/problem+json;+charset=utf-8 191.6209ms
2023-12-02 16:46:51.051 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=city&pageNumber=2&pageSize=1 - -
2023-12-02 16:46:51.053 +01:00 [DBG] The request path  does not match the path filter
2023-12-02 16:46:51.054 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-02 16:46:51.056 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-02 16:46:51.058 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:46:51.059 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:46:51.060 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[NewCityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCitiesAsync(System.String, System.String, Int32, Int32) on controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API).
2023-12-02 16:46:51.062 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-02 16:46:51.063 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-02 16:46:51.065 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-02 16:46:51.067 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-02 16:46:51.069 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-02 16:46:51.071 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:46:51.073 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:46:51.074 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-12-02 16:46:51.075 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-12-02 16:46:51.076 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:46:51.078 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:46:51.079 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-12-02 16:46:51.081 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-12-02 16:46:51.082 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:46:51.084 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2023-12-02 16:46:51.085 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:46:51.086 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:46:51.088 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:46:51.089 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:46:51.090 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:46:51.091 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-12-02 16:46:51.093 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:46:51.094 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:46:51.095 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:46:51.096 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:46:51.098 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:46:51.099 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-12-02 16:46:51.100 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:46:51.101 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:46:51.102 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:46:51.104 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:46:51.105 +01:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-12-02 16:46:51.107 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-02 16:46:51.108 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-02 16:46:51.109 +01:00 [DBG] Opening connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:46:51.111 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:46:51.112 +01:00 [DBG] Executing DbCommand [Parameters=[@__searchquery_0='?' (Size = 4), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_1
2023-12-02 16:46:51.114 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__searchquery_0='?' (Size = 4), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_1
2023-12-02 16:46:51.116 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-02 16:46:51.117 +01:00 [DBG] A data reader was disposed.
2023-12-02 16:46:51.118 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:46:51.120 +01:00 [DBG] Closed connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:46:51.121 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-02 16:46:51.124 +01:00 [DBG] No information found on request to perform content negotiation.
2023-12-02 16:46:51.124 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-02 16:46:51.126 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-02 16:46:51.126 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-02 16:46:51.128 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[NewCityInfo.API.Models.CityWithoutPointOfInterestDto, NewCityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-02 16:46:51.129 +01:00 [INF] Executed action NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API) in 58.1459ms
2023-12-02 16:46:51.131 +01:00 [INF] Executed endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:46:51.132 +01:00 [DBG] Connection id "0HMVJ9N2J63HA" completed keep alive response.
2023-12-02 16:46:51.133 +01:00 [DBG] 'CityInfoContext' disposed.
2023-12-02 16:46:51.134 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=city&pageNumber=2&pageSize=1 - - - 200 60 application/json;+charset=utf-8 82.6681ms
2023-12-02 16:46:55.395 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=city&pageNumber=2&pageSize=2 - -
2023-12-02 16:46:55.400 +01:00 [DBG] The request path  does not match the path filter
2023-12-02 16:46:55.401 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-02 16:46:55.404 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-02 16:46:55.406 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:46:55.407 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:46:55.409 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[NewCityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCitiesAsync(System.String, System.String, Int32, Int32) on controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API).
2023-12-02 16:46:55.412 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-02 16:46:55.414 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-02 16:46:55.415 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-02 16:46:55.418 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-02 16:46:55.419 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-02 16:46:55.421 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:46:55.423 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:46:55.425 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-12-02 16:46:55.426 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-12-02 16:46:55.428 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:46:55.429 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:46:55.431 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-12-02 16:46:55.432 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-12-02 16:46:55.433 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:46:55.435 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2023-12-02 16:46:55.436 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:46:55.437 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:46:55.439 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:46:55.440 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:46:55.442 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:46:55.443 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-12-02 16:46:55.444 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:46:55.445 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:46:55.447 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:46:55.448 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:46:55.449 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:46:55.450 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-12-02 16:46:55.451 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:46:55.452 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:46:55.454 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:46:55.455 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:46:55.457 +01:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-12-02 16:46:55.459 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-02 16:46:55.460 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-02 16:46:55.461 +01:00 [DBG] Opening connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:46:55.463 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:46:55.464 +01:00 [DBG] Executing DbCommand [Parameters=[@__searchquery_0='?' (Size = 4), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_1
2023-12-02 16:46:55.466 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__searchquery_0='?' (Size = 4), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_1
2023-12-02 16:46:55.468 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-02 16:46:55.470 +01:00 [DBG] A data reader was disposed.
2023-12-02 16:46:55.470 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:46:55.472 +01:00 [DBG] Closed connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:46:55.473 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-02 16:46:55.477 +01:00 [DBG] No information found on request to perform content negotiation.
2023-12-02 16:46:55.477 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-02 16:46:55.478 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-02 16:46:55.479 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-02 16:46:55.481 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[NewCityInfo.API.Models.CityWithoutPointOfInterestDto, NewCityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-02 16:46:55.482 +01:00 [INF] Executed action NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API) in 61.2259ms
2023-12-02 16:46:55.483 +01:00 [INF] Executed endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:46:55.484 +01:00 [DBG] Connection id "0HMVJ9N2J63HA" completed keep alive response.
2023-12-02 16:46:55.485 +01:00 [DBG] 'CityInfoContext' disposed.
2023-12-02 16:46:55.487 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=city&pageNumber=2&pageSize=2 - - - 200 60 application/json;+charset=utf-8 95.6791ms
2023-12-02 16:47:14.052 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=cit&pageNumber=2&pageSize=2 - -
2023-12-02 16:47:14.054 +01:00 [DBG] The request path  does not match the path filter
2023-12-02 16:47:14.055 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-02 16:47:14.056 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-02 16:47:14.059 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:47:14.060 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:47:14.062 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[NewCityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCitiesAsync(System.String, System.String, Int32, Int32) on controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API).
2023-12-02 16:47:14.065 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-02 16:47:14.066 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-02 16:47:14.068 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-02 16:47:14.071 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-02 16:47:14.073 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-02 16:47:14.076 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:47:14.078 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:47:14.079 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-12-02 16:47:14.081 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-12-02 16:47:14.083 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:47:14.084 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:47:14.085 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-12-02 16:47:14.086 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-12-02 16:47:14.087 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:47:14.088 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2023-12-02 16:47:14.090 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:47:14.091 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:47:14.093 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:47:14.094 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:47:14.095 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:47:14.096 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-12-02 16:47:14.098 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:47:14.099 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:47:14.100 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:47:14.101 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:47:14.102 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:47:14.103 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-12-02 16:47:14.104 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:47:14.106 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:47:14.107 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:47:14.108 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:47:14.109 +01:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-12-02 16:47:14.111 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-02 16:47:14.112 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-02 16:47:14.113 +01:00 [DBG] Opening connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:47:14.114 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:47:14.116 +01:00 [DBG] Executing DbCommand [Parameters=[@__searchquery_0='?' (Size = 3), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_1
2023-12-02 16:47:14.118 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__searchquery_0='?' (Size = 3), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_1
2023-12-02 16:47:14.120 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-02 16:47:14.122 +01:00 [DBG] A data reader was disposed.
2023-12-02 16:47:14.122 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:47:14.124 +01:00 [DBG] Closed connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:47:14.125 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-02 16:47:14.128 +01:00 [DBG] No information found on request to perform content negotiation.
2023-12-02 16:47:14.128 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-02 16:47:14.130 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-02 16:47:14.130 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-02 16:47:14.132 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[NewCityInfo.API.Models.CityWithoutPointOfInterestDto, NewCityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-02 16:47:14.134 +01:00 [INF] Executed action NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API) in 58.32ms
2023-12-02 16:47:14.136 +01:00 [INF] Executed endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:47:14.138 +01:00 [DBG] Connection id "0HMVJ9N2J63HA" completed keep alive response.
2023-12-02 16:47:14.140 +01:00 [DBG] 'CityInfoContext' disposed.
2023-12-02 16:47:14.141 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=cit&pageNumber=2&pageSize=2 - - - 200 60 application/json;+charset=utf-8 89.2625ms
2023-12-02 16:47:19.201 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=cit&pageNumber=1&pageSize=2 - -
2023-12-02 16:47:19.206 +01:00 [DBG] The request path  does not match the path filter
2023-12-02 16:47:19.207 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-02 16:47:19.208 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-02 16:47:19.210 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:47:19.213 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:47:19.214 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[NewCityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCitiesAsync(System.String, System.String, Int32, Int32) on controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API).
2023-12-02 16:47:19.217 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-02 16:47:19.219 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-02 16:47:19.221 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-02 16:47:19.224 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-02 16:47:19.226 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-02 16:47:19.228 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:47:19.230 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:47:19.231 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-12-02 16:47:19.233 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-12-02 16:47:19.234 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:47:19.236 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:47:19.237 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-12-02 16:47:19.239 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-12-02 16:47:19.240 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:47:19.242 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2023-12-02 16:47:19.244 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:47:19.245 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:47:19.247 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:47:19.248 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:47:19.249 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:47:19.251 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-12-02 16:47:19.253 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:47:19.254 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:47:19.256 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:47:19.257 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:47:19.258 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:47:19.259 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-12-02 16:47:19.261 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:47:19.262 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:47:19.263 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:47:19.265 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:47:19.266 +01:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-12-02 16:47:19.268 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-02 16:47:19.269 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-02 16:47:19.270 +01:00 [DBG] Opening connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:47:19.272 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:47:19.273 +01:00 [DBG] Executing DbCommand [Parameters=[@__searchquery_0='?' (Size = 3), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-12-02 16:47:19.276 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__searchquery_0='?' (Size = 3), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-12-02 16:47:19.278 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-02 16:47:19.279 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-02 16:47:19.280 +01:00 [DBG] A data reader was disposed.
2023-12-02 16:47:19.281 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:47:19.282 +01:00 [DBG] Closed connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:47:19.283 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-02 16:47:19.285 +01:00 [DBG] No information found on request to perform content negotiation.
2023-12-02 16:47:19.286 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-02 16:47:19.287 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-02 16:47:19.287 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-02 16:47:19.288 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[NewCityInfo.API.Models.CityWithoutPointOfInterestDto, NewCityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-02 16:47:19.290 +01:00 [INF] Executed action NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API) in 61.8096ms
2023-12-02 16:47:19.291 +01:00 [INF] Executed endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:47:19.293 +01:00 [DBG] Connection id "0HMVJ9N2J63HA" completed keep alive response.
2023-12-02 16:47:19.294 +01:00 [DBG] 'CityInfoContext' disposed.
2023-12-02 16:47:19.295 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=cit&pageNumber=1&pageSize=2 - - - 200 119 application/json;+charset=utf-8 93.4568ms
2023-12-02 16:47:23.658 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=cit2&pageNumber=1&pageSize=2 - -
2023-12-02 16:47:23.659 +01:00 [DBG] The request path  does not match the path filter
2023-12-02 16:47:23.661 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-02 16:47:23.663 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-02 16:47:23.666 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:47:23.668 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:47:23.670 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[NewCityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCitiesAsync(System.String, System.String, Int32, Int32) on controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API).
2023-12-02 16:47:23.674 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-02 16:47:23.676 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-02 16:47:23.679 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-02 16:47:23.683 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-02 16:47:23.685 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-02 16:47:23.689 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:47:23.691 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:47:23.693 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-12-02 16:47:23.696 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-12-02 16:47:23.698 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:47:23.701 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:47:23.703 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-12-02 16:47:23.706 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-12-02 16:47:23.709 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:47:23.711 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2023-12-02 16:47:23.716 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:47:23.720 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:47:23.724 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:47:23.726 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:47:23.730 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:47:23.736 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-12-02 16:47:23.741 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:47:23.744 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:47:23.748 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:47:23.753 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:47:23.756 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:47:23.759 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-12-02 16:47:23.764 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:47:23.769 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:47:23.774 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:47:23.776 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:47:23.778 +01:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-12-02 16:47:23.782 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-02 16:47:23.785 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-12-02 16:47:23.788 +01:00 [DBG] Opening connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:47:23.791 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:47:23.794 +01:00 [DBG] Executing DbCommand [Parameters=[@__searchquery_0='?' (Size = 4), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-12-02 16:47:23.799 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__searchquery_0='?' (Size = 4), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-12-02 16:47:23.804 +01:00 [DBG] A data reader was disposed.
2023-12-02 16:47:23.807 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:47:23.811 +01:00 [DBG] Closed connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:47:23.813 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-02 16:47:23.818 +01:00 [DBG] No information found on request to perform content negotiation.
2023-12-02 16:47:23.823 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-12-02 16:47:23.828 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-12-02 16:47:23.830 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-12-02 16:47:23.833 +01:00 [INF] Executed action NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API) in 144.0118ms
2023-12-02 16:47:23.835 +01:00 [INF] Executed endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:47:23.837 +01:00 [DBG] Connection id "0HMVJ9N2J63HA" completed keep alive response.
2023-12-02 16:47:23.838 +01:00 [DBG] 'CityInfoContext' disposed.
2023-12-02 16:47:23.841 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=cit2&pageNumber=1&pageSize=2 - - - 404 161 application/problem+json;+charset=utf-8 182.8915ms
2023-12-02 16:47:31.266 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=city2&pageNumber=1&pageSize=2 - -
2023-12-02 16:47:31.268 +01:00 [DBG] The request path  does not match the path filter
2023-12-02 16:47:31.269 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-02 16:47:31.271 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-02 16:47:31.273 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:47:31.274 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:47:31.275 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[NewCityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCitiesAsync(System.String, System.String, Int32, Int32) on controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API).
2023-12-02 16:47:31.278 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-02 16:47:31.280 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-02 16:47:31.282 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-02 16:47:31.285 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-02 16:47:31.287 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-02 16:47:31.289 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:47:31.291 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:47:31.292 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-12-02 16:47:31.293 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-12-02 16:47:31.295 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:47:31.296 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:47:31.298 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-12-02 16:47:31.300 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-12-02 16:47:31.302 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:47:31.303 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2023-12-02 16:47:31.305 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:47:31.307 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:47:31.308 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:47:31.309 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:47:31.311 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:47:31.312 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-12-02 16:47:31.314 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:47:31.316 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:47:31.317 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:47:31.318 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:47:31.320 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:47:31.321 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-12-02 16:47:31.323 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:47:31.325 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:47:31.326 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:47:31.327 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:47:31.328 +01:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-12-02 16:47:31.330 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-02 16:47:31.332 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-02 16:47:31.333 +01:00 [DBG] Opening connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:47:31.335 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:47:31.337 +01:00 [DBG] Executing DbCommand [Parameters=[@__searchquery_0='?' (Size = 5), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-12-02 16:47:31.340 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__searchquery_0='?' (Size = 5), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-12-02 16:47:31.343 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-02 16:47:31.345 +01:00 [DBG] A data reader was disposed.
2023-12-02 16:47:31.345 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:47:31.347 +01:00 [DBG] Closed connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:47:31.349 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-02 16:47:31.352 +01:00 [DBG] No information found on request to perform content negotiation.
2023-12-02 16:47:31.353 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-02 16:47:31.354 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-02 16:47:31.355 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-02 16:47:31.357 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[NewCityInfo.API.Models.CityWithoutPointOfInterestDto, NewCityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-02 16:47:31.359 +01:00 [INF] Executed action NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API) in 70.4499ms
2023-12-02 16:47:31.361 +01:00 [INF] Executed endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:47:31.362 +01:00 [DBG] Connection id "0HMVJ9N2J63HA" completed keep alive response.
2023-12-02 16:47:31.364 +01:00 [DBG] 'CityInfoContext' disposed.
2023-12-02 16:47:31.365 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=city2&pageNumber=1&pageSize=2 - - - 200 60 application/json;+charset=utf-8 98.4027ms
2023-12-02 16:47:45.656 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=cit&pageNumber=1&pageSize=2 - -
2023-12-02 16:47:45.658 +01:00 [DBG] The request path  does not match the path filter
2023-12-02 16:47:45.659 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-02 16:47:45.660 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-02 16:47:45.662 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:47:45.664 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:47:45.665 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[NewCityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCitiesAsync(System.String, System.String, Int32, Int32) on controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API).
2023-12-02 16:47:45.669 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-02 16:47:45.671 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-02 16:47:45.673 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-02 16:47:45.676 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-02 16:47:45.678 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-02 16:47:45.681 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:47:45.684 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:47:45.686 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-12-02 16:47:45.688 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-12-02 16:47:45.690 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:47:45.691 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:47:45.693 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-12-02 16:47:45.694 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-12-02 16:47:45.695 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:47:45.697 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2023-12-02 16:47:45.699 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:47:45.701 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:47:45.702 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:47:45.703 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:47:45.705 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:47:45.706 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-12-02 16:47:45.708 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:47:45.710 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:47:45.711 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:47:45.713 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:47:45.714 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:47:45.715 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-12-02 16:47:45.716 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:47:45.717 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:47:45.718 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:47:45.720 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:47:45.721 +01:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-12-02 16:47:45.723 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-02 16:47:45.724 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-02 16:47:45.725 +01:00 [DBG] Opening connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:47:45.727 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:47:45.728 +01:00 [DBG] Executing DbCommand [Parameters=[@__searchquery_0='?' (Size = 3), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-12-02 16:47:45.731 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__searchquery_0='?' (Size = 3), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-12-02 16:47:45.733 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-02 16:47:45.734 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-02 16:47:45.736 +01:00 [DBG] A data reader was disposed.
2023-12-02 16:47:45.736 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:47:45.737 +01:00 [DBG] Closed connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:47:45.738 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-02 16:47:45.741 +01:00 [DBG] No information found on request to perform content negotiation.
2023-12-02 16:47:45.742 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-02 16:47:45.742 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-02 16:47:45.743 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-02 16:47:45.745 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[NewCityInfo.API.Models.CityWithoutPointOfInterestDto, NewCityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-02 16:47:45.747 +01:00 [INF] Executed action NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API) in 66.5657ms
2023-12-02 16:47:45.749 +01:00 [INF] Executed endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:47:45.750 +01:00 [DBG] Connection id "0HMVJ9N2J63HA" completed keep alive response.
2023-12-02 16:47:45.752 +01:00 [DBG] 'CityInfoContext' disposed.
2023-12-02 16:47:45.754 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=cit&pageNumber=1&pageSize=2 - - - 200 119 application/json;+charset=utf-8 97.5040ms
2023-12-02 16:47:55.356 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=city&pageNumber=1&pageSize=2 - -
2023-12-02 16:47:55.358 +01:00 [DBG] The request path  does not match the path filter
2023-12-02 16:47:55.360 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-02 16:47:55.361 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-02 16:47:55.364 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:47:55.365 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:47:55.367 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[NewCityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCitiesAsync(System.String, System.String, Int32, Int32) on controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API).
2023-12-02 16:47:55.370 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-02 16:47:55.372 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-02 16:47:55.374 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-02 16:47:55.378 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-02 16:47:55.380 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-02 16:47:55.383 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:47:55.384 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:47:55.386 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-12-02 16:47:55.388 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-12-02 16:47:55.390 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:47:55.392 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:47:55.394 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-12-02 16:47:55.396 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-12-02 16:47:55.398 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:47:55.399 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2023-12-02 16:47:55.401 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:47:55.402 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:47:55.403 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:47:55.404 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:47:55.406 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:47:55.407 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-12-02 16:47:55.409 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:47:55.411 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:47:55.412 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:47:55.414 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:47:55.415 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:47:55.416 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-12-02 16:47:55.418 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:47:55.419 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:47:55.420 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:47:55.421 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:47:55.422 +01:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-12-02 16:47:55.424 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-02 16:47:55.425 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-02 16:47:55.426 +01:00 [DBG] Opening connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:47:55.427 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:47:55.429 +01:00 [DBG] Executing DbCommand [Parameters=[@__searchquery_0='?' (Size = 4), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-12-02 16:47:55.432 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__searchquery_0='?' (Size = 4), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-12-02 16:47:55.434 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-02 16:47:55.435 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-02 16:47:55.436 +01:00 [DBG] A data reader was disposed.
2023-12-02 16:47:55.437 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:47:55.438 +01:00 [DBG] Closed connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:47:55.439 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-02 16:47:55.442 +01:00 [DBG] No information found on request to perform content negotiation.
2023-12-02 16:47:55.443 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-02 16:47:55.444 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-02 16:47:55.445 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-02 16:47:55.447 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[NewCityInfo.API.Models.CityWithoutPointOfInterestDto, NewCityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-02 16:47:55.448 +01:00 [INF] Executed action NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API) in 65.9736ms
2023-12-02 16:47:55.450 +01:00 [INF] Executed endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:47:55.451 +01:00 [DBG] Connection id "0HMVJ9N2J63HA" completed keep alive response.
2023-12-02 16:47:55.452 +01:00 [DBG] 'CityInfoContext' disposed.
2023-12-02 16:47:55.453 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=city&pageNumber=1&pageSize=2 - - - 200 119 application/json;+charset=utf-8 97.0099ms
2023-12-02 16:48:00.191 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=City&pageNumber=1&pageSize=2 - -
2023-12-02 16:48:00.194 +01:00 [DBG] The request path  does not match the path filter
2023-12-02 16:48:00.195 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-02 16:48:00.197 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-02 16:48:00.200 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:48:00.202 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:48:00.204 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[NewCityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCitiesAsync(System.String, System.String, Int32, Int32) on controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API).
2023-12-02 16:48:00.208 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-02 16:48:00.211 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-02 16:48:00.214 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-02 16:48:00.217 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-02 16:48:00.220 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-02 16:48:00.223 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:48:00.225 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:48:00.228 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-12-02 16:48:00.230 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-12-02 16:48:00.233 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:48:00.235 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:48:00.238 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-12-02 16:48:00.240 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-12-02 16:48:00.243 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:48:00.245 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2023-12-02 16:48:00.247 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:48:00.249 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:48:00.250 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:48:00.252 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:48:00.253 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:48:00.255 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-12-02 16:48:00.256 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:48:00.258 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:48:00.259 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:48:00.261 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:48:00.263 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:48:00.264 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-12-02 16:48:00.266 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:48:00.267 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:48:00.269 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:48:00.271 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:48:00.273 +01:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-12-02 16:48:00.275 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-02 16:48:00.276 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-02 16:48:00.278 +01:00 [DBG] Opening connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:48:00.279 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:48:00.282 +01:00 [DBG] Executing DbCommand [Parameters=[@__searchquery_0='?' (Size = 4), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-12-02 16:48:00.286 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__searchquery_0='?' (Size = 4), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-12-02 16:48:00.290 +01:00 [DBG] A data reader was disposed.
2023-12-02 16:48:00.291 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:48:00.292 +01:00 [DBG] Closed connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:48:00.294 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-02 16:48:00.298 +01:00 [DBG] No information found on request to perform content negotiation.
2023-12-02 16:48:00.299 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-12-02 16:48:00.301 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-12-02 16:48:00.303 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-12-02 16:48:00.304 +01:00 [INF] Executed action NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API) in 81.4507ms
2023-12-02 16:48:00.306 +01:00 [INF] Executed endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:48:00.308 +01:00 [DBG] Connection id "0HMVJ9N2J63HA" completed keep alive response.
2023-12-02 16:48:00.309 +01:00 [DBG] 'CityInfoContext' disposed.
2023-12-02 16:48:00.310 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=City&pageNumber=1&pageSize=2 - - - 404 161 application/problem+json;+charset=utf-8 119.0265ms
2023-12-02 16:48:07.442 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=ci&pageNumber=1&pageSize=2 - -
2023-12-02 16:48:07.445 +01:00 [DBG] The request path  does not match the path filter
2023-12-02 16:48:07.447 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-02 16:48:07.448 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-02 16:48:07.451 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:48:07.453 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:48:07.455 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[NewCityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCitiesAsync(System.String, System.String, Int32, Int32) on controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API).
2023-12-02 16:48:07.459 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-02 16:48:07.462 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-02 16:48:07.465 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-02 16:48:07.468 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-02 16:48:07.471 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-02 16:48:07.473 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:48:07.475 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:48:07.478 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-12-02 16:48:07.481 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-12-02 16:48:07.484 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:48:07.489 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:48:07.494 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-12-02 16:48:07.497 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-12-02 16:48:07.499 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:48:07.502 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2023-12-02 16:48:07.508 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:48:07.512 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:48:07.515 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:48:07.519 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:48:07.524 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:48:07.529 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-12-02 16:48:07.533 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:48:07.537 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:48:07.541 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:48:07.546 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:48:07.549 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:48:07.551 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-12-02 16:48:07.556 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:48:07.561 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:48:07.564 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:48:07.567 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:48:07.570 +01:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-12-02 16:48:07.578 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-02 16:48:07.581 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-12-02 16:48:07.584 +01:00 [DBG] Opening connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:48:07.587 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:48:07.592 +01:00 [DBG] Executing DbCommand [Parameters=[@__searchquery_0='?' (Size = 2), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-12-02 16:48:07.598 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__searchquery_0='?' (Size = 2), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-12-02 16:48:07.601 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-02 16:48:07.604 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-02 16:48:07.608 +01:00 [DBG] A data reader was disposed.
2023-12-02 16:48:07.612 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:48:07.615 +01:00 [DBG] Closed connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:48:07.617 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-02 16:48:07.627 +01:00 [DBG] No information found on request to perform content negotiation.
2023-12-02 16:48:07.630 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-02 16:48:07.632 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-02 16:48:07.635 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-02 16:48:07.640 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[NewCityInfo.API.Models.CityWithoutPointOfInterestDto, NewCityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-02 16:48:07.645 +01:00 [INF] Executed action NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API) in 172.2902ms
2023-12-02 16:48:07.648 +01:00 [INF] Executed endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:48:07.649 +01:00 [DBG] Connection id "0HMVJ9N2J63HA" completed keep alive response.
2023-12-02 16:48:07.652 +01:00 [DBG] 'CityInfoContext' disposed.
2023-12-02 16:48:07.654 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=ci&pageNumber=1&pageSize=2 - - - 200 119 application/json;+charset=utf-8 211.5706ms
2023-12-02 16:49:31.006 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=ci&pageNumber=1&pageSize=1 - -
2023-12-02 16:49:31.011 +01:00 [DBG] The request path  does not match the path filter
2023-12-02 16:49:31.012 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-02 16:49:31.013 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-02 16:49:31.015 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:49:31.017 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:49:31.019 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[NewCityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCitiesAsync(System.String, System.String, Int32, Int32) on controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API).
2023-12-02 16:49:31.022 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-02 16:49:31.024 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-02 16:49:31.025 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-02 16:49:31.028 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-02 16:49:31.029 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-02 16:49:31.031 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:49:31.033 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:49:31.034 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-12-02 16:49:31.036 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-12-02 16:49:31.037 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:49:31.039 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:49:31.040 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-12-02 16:49:31.042 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-12-02 16:49:31.044 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:49:31.046 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2023-12-02 16:49:31.048 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:49:31.049 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:49:31.051 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:49:31.053 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:49:31.055 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:49:31.057 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-12-02 16:49:31.059 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:49:31.061 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:49:31.062 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:49:31.064 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:49:31.065 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:49:31.066 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-12-02 16:49:31.068 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:49:31.070 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:49:31.071 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:49:31.074 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:49:31.079 +01:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-12-02 16:49:31.085 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-02 16:49:31.087 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-02 16:49:31.088 +01:00 [DBG] Opening connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:49:31.090 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:49:31.092 +01:00 [DBG] Executing DbCommand [Parameters=[@__searchquery_0='?' (Size = 2), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-12-02 16:49:31.095 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__searchquery_0='?' (Size = 2), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-12-02 16:49:31.101 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-02 16:49:31.106 +01:00 [DBG] A data reader was disposed.
2023-12-02 16:49:31.108 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:49:31.112 +01:00 [DBG] Closed connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:49:31.117 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-02 16:49:31.125 +01:00 [DBG] No information found on request to perform content negotiation.
2023-12-02 16:49:31.126 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-02 16:49:31.129 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-02 16:49:31.131 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-02 16:49:31.133 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[NewCityInfo.API.Models.CityWithoutPointOfInterestDto, NewCityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-02 16:49:31.136 +01:00 [INF] Executed action NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API) in 105.0449ms
2023-12-02 16:49:31.139 +01:00 [INF] Executed endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:49:31.141 +01:00 [DBG] Connection id "0HMVJ9N2J63HA" completed keep alive response.
2023-12-02 16:49:31.144 +01:00 [DBG] 'CityInfoContext' disposed.
2023-12-02 16:49:31.146 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=ci&pageNumber=1&pageSize=1 - - - 200 60 application/json;+charset=utf-8 140.5296ms
2023-12-02 16:49:33.136 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=ci&pageNumber=1 - -
2023-12-02 16:49:33.137 +01:00 [DBG] The request path  does not match the path filter
2023-12-02 16:49:33.140 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-02 16:49:33.141 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-02 16:49:33.144 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:49:33.145 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:49:33.147 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[NewCityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCitiesAsync(System.String, System.String, Int32, Int32) on controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API).
2023-12-02 16:49:33.151 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-02 16:49:33.153 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-02 16:49:33.156 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-02 16:49:33.159 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-02 16:49:33.161 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-02 16:49:33.164 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:49:33.167 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:49:33.169 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-12-02 16:49:33.171 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-12-02 16:49:33.174 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:49:33.177 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:49:33.180 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-12-02 16:49:33.185 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-12-02 16:49:33.189 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:49:33.192 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2023-12-02 16:49:33.196 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:49:33.201 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:49:33.205 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:49:33.208 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:49:33.210 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:49:33.214 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-12-02 16:49:33.219 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:49:33.223 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:49:33.226 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:49:33.229 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:49:33.233 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:49:33.238 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2023-12-02 16:49:33.242 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:49:33.246 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:49:33.250 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:49:33.254 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:49:33.257 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:49:33.260 +01:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-12-02 16:49:33.267 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-02 16:49:33.270 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-12-02 16:49:33.274 +01:00 [DBG] Opening connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:49:33.276 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:49:33.280 +01:00 [DBG] Executing DbCommand [Parameters=[@__searchquery_0='?' (Size = 2), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-12-02 16:49:33.286 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__searchquery_0='?' (Size = 2), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2023-12-02 16:49:33.292 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-02 16:49:33.295 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-02 16:49:33.299 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-02 16:49:33.305 +01:00 [DBG] A data reader was disposed.
2023-12-02 16:49:33.307 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:49:33.309 +01:00 [DBG] Closed connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:49:33.314 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-02 16:49:33.322 +01:00 [DBG] No information found on request to perform content negotiation.
2023-12-02 16:49:33.324 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-02 16:49:33.327 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-02 16:49:33.331 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-02 16:49:33.337 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[NewCityInfo.API.Models.CityWithoutPointOfInterestDto, NewCityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-02 16:49:33.342 +01:00 [INF] Executed action NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API) in 177.5827ms
2023-12-02 16:49:33.344 +01:00 [INF] Executed endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:49:33.346 +01:00 [DBG] Connection id "0HMVJ9N2J63HA" completed keep alive response.
2023-12-02 16:49:33.348 +01:00 [DBG] 'CityInfoContext' disposed.
2023-12-02 16:49:33.350 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=ci&pageNumber=1 - - - 200 178 application/json;+charset=utf-8 213.7605ms
2023-12-02 16:49:44.508 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=ci&pageNumber=2 - -
2023-12-02 16:49:44.509 +01:00 [DBG] The request path  does not match the path filter
2023-12-02 16:49:44.510 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-02 16:49:44.512 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-02 16:49:44.514 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:49:44.516 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:49:44.517 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[NewCityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCitiesAsync(System.String, System.String, Int32, Int32) on controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API).
2023-12-02 16:49:44.520 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-02 16:49:44.522 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-02 16:49:44.524 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-02 16:49:44.527 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-02 16:49:44.529 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-02 16:49:44.531 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:49:44.533 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-02 16:49:44.534 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-12-02 16:49:44.536 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-12-02 16:49:44.537 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:49:44.539 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-02 16:49:44.540 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-12-02 16:49:44.541 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-12-02 16:49:44.542 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:49:44.544 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2023-12-02 16:49:44.546 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:49:44.548 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:49:44.549 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-12-02 16:49:44.550 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-12-02 16:49:44.551 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:49:44.552 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-12-02 16:49:44.554 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:49:44.555 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:49:44.556 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-12-02 16:49:44.557 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-12-02 16:49:44.558 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:49:44.560 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2023-12-02 16:49:44.562 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:49:44.564 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:49:44.565 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:49:44.566 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-12-02 16:49:44.567 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-12-02 16:49:44.569 +01:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-12-02 16:49:44.571 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-02 16:49:44.572 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-02 16:49:44.573 +01:00 [DBG] Opening connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:49:44.574 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:49:44.575 +01:00 [DBG] Executing DbCommand [Parameters=[@__searchquery_0='?' (Size = 2), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_1
2023-12-02 16:49:44.578 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__searchquery_0='?' (Size = 2), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ((@__searchquery_0 = '') OR (instr("c"."Name", @__searchquery_0) > 0)) OR ((@__searchquery_0 = '') OR (instr("c"."Description", @__searchquery_0) > 0))
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_1
2023-12-02 16:49:44.580 +01:00 [DBG] A data reader was disposed.
2023-12-02 16:49:44.580 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-02 16:49:44.582 +01:00 [DBG] Closed connection to database 'main' on server 'NewCityInfo.db'.
2023-12-02 16:49:44.583 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-02 16:49:44.586 +01:00 [DBG] No information found on request to perform content negotiation.
2023-12-02 16:49:44.586 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-12-02 16:49:44.589 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-12-02 16:49:44.591 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-12-02 16:49:44.593 +01:00 [INF] Executed action NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API) in 61.9955ms
2023-12-02 16:49:44.595 +01:00 [INF] Executed endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-02 16:49:44.596 +01:00 [DBG] Connection id "0HMVJ9N2J63HA" completed keep alive response.
2023-12-02 16:49:44.597 +01:00 [DBG] 'CityInfoContext' disposed.
2023-12-02 16:49:44.598 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?name=city&searchQuery=ci&pageNumber=2 - - - 404 161 application/problem+json;+charset=utf-8 89.9223ms
