2023-12-04 17:47:19.172 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-04 17:47:19.337 +01:00 [DBG] Hosting starting
2023-12-04 17:47:19.445 +01:00 [INF] User profile is available. Using 'C:\Users\Bob\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-12-04 17:47:19.450 +01:00 [DBG] Reading data from file 'C:\Users\Bob\AppData\Local\ASP.NET\DataProtection-Keys\key-1dd2c57e-4d15-4c1d-91c4-daf929f514b0.xml'.
2023-12-04 17:47:19.476 +01:00 [DBG] Reading data from file 'C:\Users\Bob\AppData\Local\ASP.NET\DataProtection-Keys\key-986da1e5-f91a-4c12-9299-e4c1a6f0ccf5.xml'.
2023-12-04 17:47:19.498 +01:00 [DBG] Found key {1dd2c57e-4d15-4c1d-91c4-daf929f514b0}.
2023-12-04 17:47:19.513 +01:00 [DBG] Found key {986da1e5-f91a-4c12-9299-e4c1a6f0ccf5}.
2023-12-04 17:47:19.530 +01:00 [DBG] Considering key {1dd2c57e-4d15-4c1d-91c4-daf929f514b0} with expiration date 2024-01-08 10:08:13Z as default key.
2023-12-04 17:47:19.535 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-04 17:47:19.541 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-12-04 17:47:19.546 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-04 17:47:19.556 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-12-04 17:47:19.560 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-12-04 17:47:19.571 +01:00 [DBG] Using key {1dd2c57e-4d15-4c1d-91c4-daf929f514b0} as the default key.
2023-12-04 17:47:19.574 +01:00 [DBG] Key ring with default key {1dd2c57e-4d15-4c1d-91c4-daf929f514b0} was loaded during application startup.
2023-12-04 17:47:20.506 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 74771C93211CFD306FF4266F6451FEA749179ACD)
2023-12-04 17:47:20.567 +01:00 [INF] Now listening on: https://localhost:7165
2023-12-04 17:47:20.568 +01:00 [INF] Now listening on: http://localhost:5029
2023-12-04 17:47:20.570 +01:00 [DBG] Loaded hosting startup assembly NewCityInfo.API
2023-12-04 17:47:20.571 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-12-04 17:47:20.572 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-12-04 17:47:20.574 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-04 17:47:20.574 +01:00 [INF] Hosting environment: Development
2023-12-04 17:47:20.575 +01:00 [INF] Content root path: C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\
2023-12-04 17:47:20.576 +01:00 [DBG] Hosting started
2023-12-04 17:47:20.726 +01:00 [DBG] Connection id "0HMVKT2NEJLTR" accepted.
2023-12-04 17:47:20.726 +01:00 [DBG] Connection id "0HMVKT2NEJLTQ" accepted.
2023-12-04 17:47:20.729 +01:00 [DBG] Connection id "0HMVKT2NEJLTQ" started.
2023-12-04 17:47:20.729 +01:00 [DBG] Connection id "0HMVKT2NEJLTR" started.
2023-12-04 17:47:21.649 +01:00 [DBG] Connection id "0HMVKT2NEJLTS" accepted.
2023-12-04 17:47:21.650 +01:00 [DBG] Connection id "0HMVKT2NEJLTS" started.
2023-12-04 17:47:21.657 +01:00 [DBG] Connection id "0HMVKT2NEJLTT" accepted.
2023-12-04 17:47:21.658 +01:00 [DBG] Connection id "0HMVKT2NEJLTS" received FIN.
2023-12-04 17:47:21.658 +01:00 [DBG] Connection id "0HMVKT2NEJLTT" started.
2023-12-04 17:47:21.673 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, Boolean isApm, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-04 17:47:21.724 +01:00 [DBG] Connection id "0HMVKT2NEJLTS" stopped.
2023-12-04 17:47:21.726 +01:00 [DBG] Connection id "0HMVKT2NEJLTS" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-04 17:47:21.733 +01:00 [DBG] Connection 0HMVKT2NEJLTT established using the following protocol: "Tls12"
2023-12-04 17:47:21.786 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities - -
2023-12-04 17:47:21.810 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-04 17:47:21.860 +01:00 [DBG] The request path  does not match the path filter
2023-12-04 17:47:21.900 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-04 17:47:21.907 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-04 17:47:21.910 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-04 17:47:21.917 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-12-04 17:47:22.010 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-12-04 17:47:22.013 +01:00 [DBG] Connection id "0HMVKT2NEJLTT" completed keep alive response.
2023-12-04 17:47:22.017 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities - - - 401 0 - 236.1849ms
2023-12-04 17:47:25.848 +01:00 [DBG] Connection id "0HMVKT2NEJLTU" accepted.
2023-12-04 17:47:25.858 +01:00 [DBG] Connection id "0HMVKT2NEJLTU" started.
2023-12-04 17:47:25.925 +01:00 [DBG] Connection id "0HMVKT2NEJLTV" accepted.
2023-12-04 17:47:25.928 +01:00 [DBG] Connection 0HMVKT2NEJLTU established using the following protocol: "Tls12"
2023-12-04 17:47:25.960 +01:00 [DBG] Connection id "0HMVKT2NEJLTV" started.
2023-12-04 17:47:25.974 +01:00 [DBG] Connection 0HMVKT2NEJLTV established using the following protocol: "Tls12"
2023-12-04 17:47:26.000 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7165/swagger/index.html - -
2023-12-04 17:47:26.419 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-12-04 17:47:26.457 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-12-04 17:47:26.464 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7165/swagger/index.html - - - 200 - text/html;charset=utf-8 463.7690ms
2023-12-04 17:47:26.503 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7165/_framework/aspnetcore-browser-refresh.js - -
2023-12-04 17:47:26.512 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7165/_vs/browserLink - -
2023-12-04 17:47:26.529 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7165/_framework/aspnetcore-browser-refresh.js - - - 200 13766 application/javascript;+charset=utf-8 25.0238ms
2023-12-04 17:47:26.705 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7165/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 192.4498ms
2023-12-04 17:47:26.839 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7165/swagger/v1/swagger.json - -
2023-12-04 17:47:27.158 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7165/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 318.8770ms
2023-12-04 17:47:29.788 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities/2 - -
2023-12-04 17:47:29.789 +01:00 [DBG] The request path  does not match the path filter
2023-12-04 17:47:29.792 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2'
2023-12-04 17:47:29.793 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCity (NewCityInfo.API)' with route pattern 'api/cities/{cityId}' is valid for the request path '/api/cities/2'
2023-12-04 17:47:29.796 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCity (NewCityInfo.API)'
2023-12-04 17:47:29.797 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-12-04 17:47:29.799 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-12-04 17:47:29.800 +01:00 [DBG] Connection id "0HMVKT2NEJLTT" completed keep alive response.
2023-12-04 17:47:29.802 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities/2 - - - 401 0 - 13.2863ms
2023-12-04 17:47:30.766 +01:00 [DBG] Authentication of the HTTPS connection timed out.
2023-12-04 17:47:30.766 +01:00 [DBG] Authentication of the HTTPS connection timed out.
2023-12-04 17:47:30.767 +01:00 [DBG] Connection id "0HMVKT2NEJLTR" stopped.
2023-12-04 17:47:30.769 +01:00 [DBG] Connection id "0HMVKT2NEJLTQ" stopped.
2023-12-04 17:47:30.770 +01:00 [DBG] Connection id "0HMVKT2NEJLTR" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-04 17:47:30.772 +01:00 [DBG] Connection id "0HMVKT2NEJLTQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-04 17:48:33.998 +01:00 [DBG] Connection id "0HMVKT2NEJLTV" received FIN.
2023-12-04 17:48:34.019 +01:00 [DBG] Connection id "0HMVKT2NEJLTV" is closed. The last processed stream ID was 0.
2023-12-04 17:48:34.022 +01:00 [DBG] Connection id "0HMVKT2NEJLTV" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-04 17:48:34.033 +01:00 [DBG] Connection id "0HMVKT2NEJLTV" stopped.
2023-12-04 17:49:53.801 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7165/api/autentication/authenticate - 0
2023-12-04 17:49:53.802 +01:00 [DBG] POST requests are not supported
2023-12-04 17:49:53.803 +01:00 [DBG] 1 candidate(s) found for the request path '/api/autentication/authenticate'
2023-12-04 17:49:53.805 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.AuthenticationController.Authenticate (NewCityInfo.API)' with route pattern 'api/autentication/authenticate' is valid for the request path '/api/autentication/authenticate'
2023-12-04 17:49:53.808 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.AuthenticationController.Authenticate (NewCityInfo.API)'
2023-12-04 17:49:53.810 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.AuthenticationController.Authenticate (NewCityInfo.API)'
2023-12-04 17:49:53.835 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller NewCityInfo.API.Controllers.AuthenticationController (NewCityInfo.API).
2023-12-04 17:49:53.841 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-04 17:49:53.845 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-04 17:49:53.851 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-04 17:49:53.857 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-04 17:49:53.861 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-04 17:49:53.867 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.AuthenticationController (NewCityInfo.API)
2023-12-04 17:49:53.873 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.AuthenticationController (NewCityInfo.API)
2023-12-04 17:49:53.885 +01:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'NewCityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-12-04 17:49:53.894 +01:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'NewCityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2023-12-04 17:49:53.902 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'null'.
2023-12-04 17:49:53.907 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'null'.
2023-12-04 17:49:53.913 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerInputFormatter' for content type 'null'.
2023-12-04 17:49:53.920 +01:00 [DBG] No input formatter was found to support the content type 'null' for use with the [FromBody] attribute.
2023-12-04 17:49:53.927 +01:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'NewCityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-12-04 17:49:53.934 +01:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'NewCityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-12-04 17:49:53.939 +01:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'NewCityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-12-04 17:49:53.958 +01:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'NewCityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-12-04 17:49:53.969 +01:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter'.
2023-12-04 17:49:53.976 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-04 17:49:53.986 +01:00 [DBG] No information found on request to perform content negotiation.
2023-12-04 17:49:53.989 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-12-04 17:49:53.997 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-12-04 17:49:54.001 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-12-04 17:49:54.224 +01:00 [INF] Executed action NewCityInfo.API.Controllers.AuthenticationController.Authenticate (NewCityInfo.API) in 352.7334ms
2023-12-04 17:49:54.228 +01:00 [INF] Executed endpoint 'NewCityInfo.API.Controllers.AuthenticationController.Authenticate (NewCityInfo.API)'
2023-12-04 17:49:54.229 +01:00 [DBG] Connection id "0HMVKT2NEJLTT" completed keep alive response.
2023-12-04 17:49:54.230 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7165/api/autentication/authenticate - 0 - 415 175 application/problem+json;+charset=utf-8 430.4777ms
2023-12-04 17:50:54.797 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7165/api/autentication/authenticate application/json 57
2023-12-04 17:50:54.802 +01:00 [DBG] POST requests are not supported
2023-12-04 17:50:54.804 +01:00 [DBG] 1 candidate(s) found for the request path '/api/autentication/authenticate'
2023-12-04 17:50:54.806 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.AuthenticationController.Authenticate (NewCityInfo.API)' with route pattern 'api/autentication/authenticate' is valid for the request path '/api/autentication/authenticate'
2023-12-04 17:50:54.808 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.AuthenticationController.Authenticate (NewCityInfo.API)'
2023-12-04 17:50:54.810 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.AuthenticationController.Authenticate (NewCityInfo.API)'
2023-12-04 17:50:54.812 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller NewCityInfo.API.Controllers.AuthenticationController (NewCityInfo.API).
2023-12-04 17:50:54.816 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-04 17:50:54.818 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-04 17:50:54.820 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-04 17:50:54.824 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-04 17:50:54.826 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-04 17:50:54.828 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.AuthenticationController (NewCityInfo.API)
2023-12-04 17:50:54.830 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.AuthenticationController (NewCityInfo.API)
2023-12-04 17:50:54.832 +01:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'NewCityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-12-04 17:50:54.834 +01:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'NewCityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2023-12-04 17:50:54.836 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-12-04 17:50:54.838 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-12-04 17:50:54.847 +01:00 [DBG] Connection id "0HMVKT2NEJLTT", Request id "0HMVKT2NEJLTT:00000005": started reading request body.
2023-12-04 17:50:54.850 +01:00 [DBG] Connection id "0HMVKT2NEJLTT", Request id "0HMVKT2NEJLTT:00000005": done reading request body.
2023-12-04 17:50:54.904 +01:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'NewCityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-12-04 17:50:54.909 +01:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'NewCityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-12-04 17:50:54.913 +01:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'NewCityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-12-04 17:50:54.918 +01:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'NewCityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-12-04 17:50:54.961 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-04 17:50:54.969 +01:00 [DBG] No information found on request to perform content negotiation.
2023-12-04 17:50:54.970 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-04 17:50:54.971 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-04 17:50:54.972 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-12-04 17:50:54.973 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-12-04 17:50:54.975 +01:00 [INF] Executed action NewCityInfo.API.Controllers.AuthenticationController.Authenticate (NewCityInfo.API) in 146.8458ms
2023-12-04 17:50:54.978 +01:00 [INF] Executed endpoint 'NewCityInfo.API.Controllers.AuthenticationController.Authenticate (NewCityInfo.API)'
2023-12-04 17:50:54.979 +01:00 [DBG] Connection id "0HMVKT2NEJLTT" completed keep alive response.
2023-12-04 17:50:54.981 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7165/api/autentication/authenticate application/json 57 - 200 - text/plain;+charset=utf-8 183.3921ms
2023-12-04 17:51:28.393 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities - -
2023-12-04 17:51:28.394 +01:00 [DBG] The request path  does not match the path filter
2023-12-04 17:51:28.395 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-04 17:51:28.396 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-04 17:51:28.398 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-04 17:51:28.400 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-12-04 17:51:28.471 +01:00 [DBG] Successfully validated the token.
2023-12-04 17:51:28.473 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-12-04 17:51:28.474 +01:00 [DBG] Connection id "0HMVKT2NEJLTT" completed keep alive response.
2023-12-04 17:51:28.475 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities - - - 401 0 - 82.2563ms
2023-12-04 17:52:15.785 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities - -
2023-12-04 17:52:15.789 +01:00 [DBG] The request path  does not match the path filter
2023-12-04 17:52:15.791 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-04 17:52:15.792 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-04 17:52:15.795 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-04 17:52:15.796 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-12-04 17:52:15.798 +01:00 [DBG] Successfully validated the token.
2023-12-04 17:52:15.799 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-12-04 17:52:15.801 +01:00 [DBG] Connection id "0HMVKT2NEJLTT" completed keep alive response.
2023-12-04 17:52:15.802 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities - - - 401 0 - 17.8811ms
2023-12-04 17:57:13.151 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities - -
2023-12-04 17:57:13.156 +01:00 [DBG] The request path  does not match the path filter
2023-12-04 17:57:13.157 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-04 17:57:13.158 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-04 17:57:13.161 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-04 17:57:13.162 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-12-04 17:57:13.164 +01:00 [DBG] Successfully validated the token.
2023-12-04 17:57:13.165 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-12-04 17:57:13.167 +01:00 [DBG] Connection id "0HMVKT2NEJLTT" completed keep alive response.
2023-12-04 17:57:13.168 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities - - - 401 0 - 17.4078ms
2023-12-04 17:58:54.067 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7165/api/autentication/authenticate application/json 57
2023-12-04 17:58:54.071 +01:00 [DBG] POST requests are not supported
2023-12-04 17:58:54.073 +01:00 [DBG] 1 candidate(s) found for the request path '/api/autentication/authenticate'
2023-12-04 17:58:54.075 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.AuthenticationController.Authenticate (NewCityInfo.API)' with route pattern 'api/autentication/authenticate' is valid for the request path '/api/autentication/authenticate'
2023-12-04 17:58:54.077 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.AuthenticationController.Authenticate (NewCityInfo.API)'
2023-12-04 17:58:54.079 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.AuthenticationController.Authenticate (NewCityInfo.API)'
2023-12-04 17:58:54.081 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller NewCityInfo.API.Controllers.AuthenticationController (NewCityInfo.API).
2023-12-04 17:58:54.085 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-04 17:58:54.088 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-04 17:58:54.091 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-04 17:58:54.094 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-04 17:58:54.096 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-04 17:58:54.099 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.AuthenticationController (NewCityInfo.API)
2023-12-04 17:58:54.102 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.AuthenticationController (NewCityInfo.API)
2023-12-04 17:58:54.105 +01:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'NewCityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-12-04 17:58:54.109 +01:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'NewCityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2023-12-04 17:58:54.111 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-12-04 17:58:54.113 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-12-04 17:58:54.115 +01:00 [DBG] Connection id "0HMVKT2NEJLTT", Request id "0HMVKT2NEJLTT:00000009": started reading request body.
2023-12-04 17:58:54.117 +01:00 [DBG] Connection id "0HMVKT2NEJLTT", Request id "0HMVKT2NEJLTT:00000009": done reading request body.
2023-12-04 17:58:54.119 +01:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'NewCityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-12-04 17:58:54.122 +01:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'NewCityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-12-04 17:58:54.125 +01:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'NewCityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-12-04 17:58:54.128 +01:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'NewCityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-12-04 17:58:54.131 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-04 17:58:54.135 +01:00 [DBG] No information found on request to perform content negotiation.
2023-12-04 17:58:54.137 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-04 17:58:54.139 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-04 17:58:54.141 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-12-04 17:58:54.143 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-12-04 17:58:54.145 +01:00 [INF] Executed action NewCityInfo.API.Controllers.AuthenticationController.Authenticate (NewCityInfo.API) in 46.4045ms
2023-12-04 17:58:54.147 +01:00 [INF] Executed endpoint 'NewCityInfo.API.Controllers.AuthenticationController.Authenticate (NewCityInfo.API)'
2023-12-04 17:58:54.149 +01:00 [DBG] Connection id "0HMVKT2NEJLTT" completed keep alive response.
2023-12-04 17:58:54.151 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7165/api/autentication/authenticate application/json 57 - 200 - text/plain;+charset=utf-8 84.1589ms
2023-12-04 17:59:12.571 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities - -
2023-12-04 17:59:12.572 +01:00 [DBG] The request path  does not match the path filter
2023-12-04 17:59:12.573 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-04 17:59:12.575 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-04 17:59:12.576 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-04 17:59:12.578 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-12-04 17:59:12.579 +01:00 [DBG] Successfully validated the token.
2023-12-04 17:59:12.580 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-12-04 17:59:12.581 +01:00 [DBG] Connection id "0HMVKT2NEJLTT" completed keep alive response.
2023-12-04 17:59:12.582 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities - - - 401 0 - 11.0790ms
2023-12-04 17:59:40.967 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-04 17:59:41.172 +01:00 [DBG] Hosting starting
2023-12-04 17:59:41.210 +01:00 [INF] User profile is available. Using 'C:\Users\Bob\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-12-04 17:59:41.214 +01:00 [DBG] Reading data from file 'C:\Users\Bob\AppData\Local\ASP.NET\DataProtection-Keys\key-1dd2c57e-4d15-4c1d-91c4-daf929f514b0.xml'.
2023-12-04 17:59:41.223 +01:00 [DBG] Reading data from file 'C:\Users\Bob\AppData\Local\ASP.NET\DataProtection-Keys\key-986da1e5-f91a-4c12-9299-e4c1a6f0ccf5.xml'.
2023-12-04 17:59:41.233 +01:00 [DBG] Found key {1dd2c57e-4d15-4c1d-91c4-daf929f514b0}.
2023-12-04 17:59:41.241 +01:00 [DBG] Found key {986da1e5-f91a-4c12-9299-e4c1a6f0ccf5}.
2023-12-04 17:59:41.254 +01:00 [DBG] Considering key {1dd2c57e-4d15-4c1d-91c4-daf929f514b0} with expiration date 2024-01-08 10:08:13Z as default key.
2023-12-04 17:59:41.258 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-04 17:59:41.263 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-12-04 17:59:41.265 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-04 17:59:41.273 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-12-04 17:59:41.277 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-12-04 17:59:41.282 +01:00 [DBG] Using key {1dd2c57e-4d15-4c1d-91c4-daf929f514b0} as the default key.
2023-12-04 17:59:41.283 +01:00 [DBG] Key ring with default key {1dd2c57e-4d15-4c1d-91c4-daf929f514b0} was loaded during application startup.
2023-12-04 17:59:41.408 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 74771C93211CFD306FF4266F6451FEA749179ACD)
2023-12-04 17:59:41.502 +01:00 [INF] Now listening on: https://localhost:7165
2023-12-04 17:59:41.503 +01:00 [INF] Now listening on: http://localhost:5029
2023-12-04 17:59:41.504 +01:00 [DBG] Loaded hosting startup assembly NewCityInfo.API
2023-12-04 17:59:41.505 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-12-04 17:59:41.506 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-12-04 17:59:41.507 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-04 17:59:41.508 +01:00 [INF] Hosting environment: Development
2023-12-04 17:59:41.509 +01:00 [INF] Content root path: C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\
2023-12-04 17:59:41.510 +01:00 [DBG] Hosting started
2023-12-04 17:59:41.636 +01:00 [DBG] Connection id "0HMVKT9K8GA37" accepted.
2023-12-04 17:59:41.639 +01:00 [DBG] Connection id "0HMVKT9K8GA37" started.
2023-12-04 17:59:41.639 +01:00 [DBG] Connection id "0HMVKT9K8GA37" received FIN.
2023-12-04 17:59:41.654 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-04 17:59:41.690 +01:00 [DBG] Connection id "0HMVKT9K8GA37" stopped.
2023-12-04 17:59:41.694 +01:00 [DBG] Connection id "0HMVKT9K8GA37" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-04 17:59:41.741 +01:00 [DBG] Connection id "0HMVKT9K8GA38" accepted.
2023-12-04 17:59:41.745 +01:00 [DBG] Connection id "0HMVKT9K8GA38" started.
2023-12-04 17:59:41.804 +01:00 [DBG] Connection 0HMVKT9K8GA38 established using the following protocol: "Tls12"
2023-12-04 17:59:41.864 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7165/swagger/index.html - -
2023-12-04 17:59:41.988 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-04 17:59:42.105 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-12-04 17:59:42.129 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-12-04 17:59:42.138 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7165/swagger/index.html - - - 200 - text/html;charset=utf-8 277.9608ms
2023-12-04 17:59:42.144 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7165/_framework/aspnetcore-browser-refresh.js - -
2023-12-04 17:59:42.144 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7165/_vs/browserLink - -
2023-12-04 17:59:42.161 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7165/_framework/aspnetcore-browser-refresh.js - - - 200 13766 application/javascript;+charset=utf-8 16.8404ms
2023-12-04 17:59:42.226 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7165/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 81.8431ms
2023-12-04 17:59:42.348 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7165/swagger/v1/swagger.json - -
2023-12-04 17:59:42.517 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7165/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 169.2808ms
2023-12-04 17:59:44.161 +01:00 [DBG] Connection id "0HMVKT9K8GA39" accepted.
2023-12-04 17:59:44.161 +01:00 [DBG] Connection id "0HMVKT9K8GA39" received FIN.
2023-12-04 17:59:44.162 +01:00 [DBG] Connection id "0HMVKT9K8GA39" started.
2023-12-04 17:59:44.162 +01:00 [DBG] Connection id "0HMVKT9K8GA3A" accepted.
2023-12-04 17:59:44.165 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-04 17:59:44.166 +01:00 [DBG] Connection id "0HMVKT9K8GA3A" started.
2023-12-04 17:59:44.170 +01:00 [DBG] Connection id "0HMVKT9K8GA39" stopped.
2023-12-04 17:59:44.172 +01:00 [DBG] Connection id "0HMVKT9K8GA39" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-04 17:59:44.183 +01:00 [DBG] Connection 0HMVKT9K8GA3A established using the following protocol: "Tls12"
2023-12-04 17:59:44.198 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities - -
2023-12-04 17:59:44.201 +01:00 [DBG] The request path  does not match the path filter
2023-12-04 17:59:44.231 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-04 17:59:44.236 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-04 17:59:44.238 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-04 17:59:44.245 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-12-04 17:59:44.405 +01:00 [DBG] Successfully validated the token.
2023-12-04 17:59:44.407 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-12-04 17:59:44.409 +01:00 [DBG] Connection id "0HMVKT9K8GA3A" completed keep alive response.
2023-12-04 17:59:44.410 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities - - - 401 0 - 212.3375ms
2023-12-04 18:00:02.209 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7165/api/autentication/authenticate application/json 57
2023-12-04 18:00:02.210 +01:00 [DBG] POST requests are not supported
2023-12-04 18:00:02.212 +01:00 [DBG] 1 candidate(s) found for the request path '/api/autentication/authenticate'
2023-12-04 18:00:02.213 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.AuthenticationController.Authenticate (NewCityInfo.API)' with route pattern 'api/autentication/authenticate' is valid for the request path '/api/autentication/authenticate'
2023-12-04 18:00:02.215 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.AuthenticationController.Authenticate (NewCityInfo.API)'
2023-12-04 18:00:02.218 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.AuthenticationController.Authenticate (NewCityInfo.API)'
2023-12-04 18:00:02.241 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller NewCityInfo.API.Controllers.AuthenticationController (NewCityInfo.API).
2023-12-04 18:00:02.244 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-04 18:00:02.246 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-04 18:00:02.248 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-04 18:00:02.251 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-04 18:00:02.253 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-04 18:00:02.256 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.AuthenticationController (NewCityInfo.API)
2023-12-04 18:00:02.258 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.AuthenticationController (NewCityInfo.API)
2023-12-04 18:00:02.263 +01:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'NewCityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-12-04 18:00:02.267 +01:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'NewCityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2023-12-04 18:00:02.270 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-12-04 18:00:02.272 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-12-04 18:00:02.283 +01:00 [DBG] Connection id "0HMVKT9K8GA3A", Request id "0HMVKT9K8GA3A:00000003": started reading request body.
2023-12-04 18:00:02.285 +01:00 [DBG] Connection id "0HMVKT9K8GA3A", Request id "0HMVKT9K8GA3A:00000003": done reading request body.
2023-12-04 18:00:02.421 +01:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'NewCityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-12-04 18:00:02.424 +01:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'NewCityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-12-04 18:00:02.426 +01:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'NewCityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-12-04 18:00:02.435 +01:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'NewCityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-12-04 18:00:02.452 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-04 18:00:02.458 +01:00 [DBG] No information found on request to perform content negotiation.
2023-12-04 18:00:02.458 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-04 18:00:02.460 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-04 18:00:02.461 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-12-04 18:00:02.463 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-12-04 18:00:02.470 +01:00 [INF] Executed action NewCityInfo.API.Controllers.AuthenticationController.Authenticate (NewCityInfo.API) in 209.9454ms
2023-12-04 18:00:02.474 +01:00 [INF] Executed endpoint 'NewCityInfo.API.Controllers.AuthenticationController.Authenticate (NewCityInfo.API)'
2023-12-04 18:00:02.476 +01:00 [DBG] Connection id "0HMVKT9K8GA3A" completed keep alive response.
2023-12-04 18:00:02.478 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7165/api/autentication/authenticate application/json 57 - 200 - text/plain;+charset=utf-8 269.6014ms
2023-12-04 18:00:13.688 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities - -
2023-12-04 18:00:13.689 +01:00 [DBG] The request path  does not match the path filter
2023-12-04 18:00:13.691 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-04 18:00:13.695 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-04 18:00:13.699 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-04 18:00:13.701 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-12-04 18:00:13.704 +01:00 [DBG] Successfully validated the token.
2023-12-04 18:00:13.705 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-12-04 18:00:13.706 +01:00 [DBG] Connection id "0HMVKT9K8GA3A" completed keep alive response.
2023-12-04 18:00:13.708 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities - - - 401 0 - 20.6205ms
2023-12-04 18:00:54.362 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities - -
2023-12-04 18:00:54.366 +01:00 [DBG] The request path  does not match the path filter
2023-12-04 18:00:54.368 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-04 18:00:54.369 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-04 18:00:54.371 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-04 18:00:54.373 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-12-04 18:00:54.376 +01:00 [DBG] Successfully validated the token.
2023-12-04 18:00:54.377 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-12-04 18:00:54.378 +01:00 [DBG] Connection id "0HMVKT9K8GA3A" completed keep alive response.
2023-12-04 18:00:54.379 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities - - - 401 0 - 17.1286ms
2023-12-04 18:00:59.644 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities - -
2023-12-04 18:00:59.646 +01:00 [DBG] The request path  does not match the path filter
2023-12-04 18:00:59.647 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-04 18:00:59.649 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-04 18:00:59.651 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-04 18:00:59.652 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-12-04 18:00:59.653 +01:00 [DBG] Successfully validated the token.
2023-12-04 18:00:59.654 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-12-04 18:00:59.656 +01:00 [DBG] Connection id "0HMVKT9K8GA3A" completed keep alive response.
2023-12-04 18:00:59.657 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities - - - 401 0 - 12.4459ms
2023-12-04 18:01:00.462 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities - -
2023-12-04 18:01:00.463 +01:00 [DBG] The request path  does not match the path filter
2023-12-04 18:01:00.464 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-04 18:01:00.466 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-04 18:01:00.468 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-04 18:01:00.469 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-12-04 18:01:00.470 +01:00 [DBG] Successfully validated the token.
2023-12-04 18:01:00.471 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-12-04 18:01:00.472 +01:00 [DBG] Connection id "0HMVKT9K8GA3A" completed keep alive response.
2023-12-04 18:01:00.474 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities - - - 401 0 - 11.2401ms
2023-12-04 18:01:01.232 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities - -
2023-12-04 18:01:01.233 +01:00 [DBG] The request path  does not match the path filter
2023-12-04 18:01:01.235 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-04 18:01:01.237 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-04 18:01:01.240 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-04 18:01:01.243 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-12-04 18:01:01.245 +01:00 [DBG] Successfully validated the token.
2023-12-04 18:01:01.246 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-12-04 18:01:01.247 +01:00 [DBG] Connection id "0HMVKT9K8GA3A" completed keep alive response.
2023-12-04 18:01:01.248 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities - - - 401 0 - 16.4809ms
2023-12-04 18:01:05.133 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7165/api/autentication/authenticate application/json 57
2023-12-04 18:01:05.135 +01:00 [DBG] POST requests are not supported
2023-12-04 18:01:05.139 +01:00 [DBG] 1 candidate(s) found for the request path '/api/autentication/authenticate'
2023-12-04 18:01:05.141 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.AuthenticationController.Authenticate (NewCityInfo.API)' with route pattern 'api/autentication/authenticate' is valid for the request path '/api/autentication/authenticate'
2023-12-04 18:01:05.144 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.AuthenticationController.Authenticate (NewCityInfo.API)'
2023-12-04 18:01:05.150 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.AuthenticationController.Authenticate (NewCityInfo.API)'
2023-12-04 18:01:05.153 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller NewCityInfo.API.Controllers.AuthenticationController (NewCityInfo.API).
2023-12-04 18:01:05.161 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-04 18:01:05.164 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-04 18:01:05.167 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-04 18:01:05.173 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-04 18:01:05.179 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-04 18:01:05.185 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.AuthenticationController (NewCityInfo.API)
2023-12-04 18:01:05.191 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.AuthenticationController (NewCityInfo.API)
2023-12-04 18:01:05.195 +01:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'NewCityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-12-04 18:01:05.200 +01:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'NewCityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2023-12-04 18:01:05.206 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-12-04 18:01:05.209 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-12-04 18:01:05.212 +01:00 [DBG] Connection id "0HMVKT9K8GA3A", Request id "0HMVKT9K8GA3A:00000009": started reading request body.
2023-12-04 18:01:05.214 +01:00 [DBG] Connection id "0HMVKT9K8GA3A", Request id "0HMVKT9K8GA3A:00000009": done reading request body.
2023-12-04 18:01:05.217 +01:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'NewCityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-12-04 18:01:05.222 +01:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'NewCityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-12-04 18:01:05.224 +01:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'NewCityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-12-04 18:01:05.230 +01:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'NewCityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-12-04 18:01:05.234 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-04 18:01:05.244 +01:00 [DBG] No information found on request to perform content negotiation.
2023-12-04 18:01:05.247 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-04 18:01:05.250 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-04 18:01:05.256 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-12-04 18:01:05.259 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-12-04 18:01:05.264 +01:00 [INF] Executed action NewCityInfo.API.Controllers.AuthenticationController.Authenticate (NewCityInfo.API) in 78.7763ms
2023-12-04 18:01:05.268 +01:00 [INF] Executed endpoint 'NewCityInfo.API.Controllers.AuthenticationController.Authenticate (NewCityInfo.API)'
2023-12-04 18:01:05.271 +01:00 [DBG] Connection id "0HMVKT9K8GA3A" completed keep alive response.
2023-12-04 18:01:05.273 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7165/api/autentication/authenticate application/json 57 - 200 - text/plain;+charset=utf-8 140.3537ms
2023-12-04 18:01:22.901 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7165/api/autentication/authenticate application/json 57
2023-12-04 18:01:22.902 +01:00 [DBG] POST requests are not supported
2023-12-04 18:01:22.903 +01:00 [DBG] 1 candidate(s) found for the request path '/api/autentication/authenticate'
2023-12-04 18:01:22.904 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.AuthenticationController.Authenticate (NewCityInfo.API)' with route pattern 'api/autentication/authenticate' is valid for the request path '/api/autentication/authenticate'
2023-12-04 18:01:22.906 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.AuthenticationController.Authenticate (NewCityInfo.API)'
2023-12-04 18:01:22.907 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.AuthenticationController.Authenticate (NewCityInfo.API)'
2023-12-04 18:01:22.908 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller NewCityInfo.API.Controllers.AuthenticationController (NewCityInfo.API).
2023-12-04 18:01:22.911 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-04 18:01:22.913 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-04 18:01:22.915 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-04 18:01:22.917 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-04 18:01:22.919 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-04 18:01:22.920 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.AuthenticationController (NewCityInfo.API)
2023-12-04 18:01:22.922 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.AuthenticationController (NewCityInfo.API)
2023-12-04 18:01:22.923 +01:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'NewCityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-12-04 18:01:22.925 +01:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'NewCityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2023-12-04 18:01:22.927 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-12-04 18:01:22.930 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-12-04 18:01:22.931 +01:00 [DBG] Connection id "0HMVKT9K8GA3A", Request id "0HMVKT9K8GA3A:0000000A": started reading request body.
2023-12-04 18:01:22.933 +01:00 [DBG] Connection id "0HMVKT9K8GA3A", Request id "0HMVKT9K8GA3A:0000000A": done reading request body.
2023-12-04 18:01:22.935 +01:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'NewCityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-12-04 18:01:22.936 +01:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'NewCityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-12-04 18:01:22.939 +01:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'NewCityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-12-04 18:01:22.942 +01:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'NewCityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-12-04 18:01:49.388 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-04 18:01:49.393 +01:00 [DBG] No information found on request to perform content negotiation.
2023-12-04 18:01:49.395 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-04 18:01:49.396 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-04 18:01:49.397 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-12-04 18:01:49.399 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-12-04 18:01:49.401 +01:00 [INF] Executed action NewCityInfo.API.Controllers.AuthenticationController.Authenticate (NewCityInfo.API) in 26480.7611ms
2023-12-04 18:01:49.404 +01:00 [INF] Executed endpoint 'NewCityInfo.API.Controllers.AuthenticationController.Authenticate (NewCityInfo.API)'
2023-12-04 18:01:49.405 +01:00 [DBG] Connection id "0HMVKT9K8GA3A" completed keep alive response.
2023-12-04 18:01:49.406 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7165/api/autentication/authenticate application/json 57 - 200 - text/plain;+charset=utf-8 26505.3474ms
2023-12-04 18:02:13.929 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities - -
2023-12-04 18:02:13.937 +01:00 [DBG] The request path  does not match the path filter
2023-12-04 18:02:13.939 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-04 18:02:13.941 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-04 18:02:13.943 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-04 18:02:13.944 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-12-04 18:02:13.946 +01:00 [DBG] Successfully validated the token.
2023-12-04 18:02:13.947 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-12-04 18:02:13.948 +01:00 [DBG] Connection id "0HMVKT9K8GA3A" completed keep alive response.
2023-12-04 18:02:13.950 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities - - - 401 0 - 21.1900ms
2023-12-04 18:02:38.878 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities - -
2023-12-04 18:02:38.888 +01:00 [DBG] The request path  does not match the path filter
2023-12-04 18:02:38.889 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-04 18:02:38.891 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-04 18:02:38.893 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-04 18:02:38.895 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-12-04 18:02:38.896 +01:00 [DBG] Successfully validated the token.
2023-12-04 18:02:38.897 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-12-04 18:02:38.898 +01:00 [DBG] Connection id "0HMVKT9K8GA3A" completed keep alive response.
2023-12-04 18:02:38.899 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities - - - 401 0 - 23.4805ms
2023-12-04 18:02:46.141 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities - -
2023-12-04 18:02:46.143 +01:00 [DBG] The request path  does not match the path filter
2023-12-04 18:02:46.144 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-04 18:02:46.145 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-04 18:02:46.147 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-04 18:02:46.149 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-12-04 18:02:46.150 +01:00 [DBG] Successfully validated the token.
2023-12-04 18:02:46.151 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-12-04 18:02:46.153 +01:00 [DBG] Connection id "0HMVKT9K8GA3A" completed keep alive response.
2023-12-04 18:02:46.155 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities - - - 401 0 - 13.2115ms
2023-12-04 18:02:47.007 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities - -
2023-12-04 18:02:47.010 +01:00 [DBG] The request path  does not match the path filter
2023-12-04 18:02:47.012 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-04 18:02:47.014 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-04 18:02:47.017 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-04 18:02:47.020 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-12-04 18:02:47.026 +01:00 [DBG] Successfully validated the token.
2023-12-04 18:02:47.029 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-12-04 18:02:47.031 +01:00 [DBG] Connection id "0HMVKT9K8GA3A" completed keep alive response.
2023-12-04 18:02:47.033 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities - - - 401 0 - 26.2946ms
2023-12-04 18:05:40.876 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-04 18:05:41.039 +01:00 [DBG] Hosting starting
2023-12-04 18:05:41.148 +01:00 [INF] User profile is available. Using 'C:\Users\Bob\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-12-04 18:05:41.152 +01:00 [DBG] Reading data from file 'C:\Users\Bob\AppData\Local\ASP.NET\DataProtection-Keys\key-1dd2c57e-4d15-4c1d-91c4-daf929f514b0.xml'.
2023-12-04 18:05:41.170 +01:00 [DBG] Reading data from file 'C:\Users\Bob\AppData\Local\ASP.NET\DataProtection-Keys\key-986da1e5-f91a-4c12-9299-e4c1a6f0ccf5.xml'.
2023-12-04 18:05:41.185 +01:00 [DBG] Found key {1dd2c57e-4d15-4c1d-91c4-daf929f514b0}.
2023-12-04 18:05:41.192 +01:00 [DBG] Found key {986da1e5-f91a-4c12-9299-e4c1a6f0ccf5}.
2023-12-04 18:05:41.201 +01:00 [DBG] Considering key {1dd2c57e-4d15-4c1d-91c4-daf929f514b0} with expiration date 2024-01-08 10:08:13Z as default key.
2023-12-04 18:05:41.204 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-04 18:05:41.207 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-12-04 18:05:41.209 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-04 18:05:41.215 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-12-04 18:05:41.218 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-12-04 18:05:41.222 +01:00 [DBG] Using key {1dd2c57e-4d15-4c1d-91c4-daf929f514b0} as the default key.
2023-12-04 18:05:41.224 +01:00 [DBG] Key ring with default key {1dd2c57e-4d15-4c1d-91c4-daf929f514b0} was loaded during application startup.
2023-12-04 18:05:41.680 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 74771C93211CFD306FF4266F6451FEA749179ACD)
2023-12-04 18:05:41.736 +01:00 [INF] Now listening on: https://localhost:7165
2023-12-04 18:05:41.737 +01:00 [INF] Now listening on: http://localhost:5029
2023-12-04 18:05:41.738 +01:00 [DBG] Loaded hosting startup assembly NewCityInfo.API
2023-12-04 18:05:41.739 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-12-04 18:05:41.740 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-12-04 18:05:41.741 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-04 18:05:41.741 +01:00 [INF] Hosting environment: Development
2023-12-04 18:05:41.742 +01:00 [INF] Content root path: C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\
2023-12-04 18:05:41.743 +01:00 [DBG] Hosting started
2023-12-04 18:05:41.802 +01:00 [DBG] Connection id "0HMVKTCVJAVJD" received FIN.
2023-12-04 18:05:41.802 +01:00 [DBG] Connection id "0HMVKTCVJAVJE" received FIN.
2023-12-04 18:05:41.806 +01:00 [DBG] Connection id "0HMVKTCVJAVJD" accepted.
2023-12-04 18:05:41.806 +01:00 [DBG] Connection id "0HMVKTCVJAVJE" accepted.
2023-12-04 18:05:41.808 +01:00 [DBG] Connection id "0HMVKTCVJAVJD" started.
2023-12-04 18:05:41.808 +01:00 [DBG] Connection id "0HMVKTCVJAVJE" started.
2023-12-04 18:05:41.826 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, Boolean isApm, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-04 18:05:41.826 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, Boolean isApm, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-04 18:05:41.907 +01:00 [DBG] Connection id "0HMVKTCVJAVJF" accepted.
2023-12-04 18:05:41.960 +01:00 [DBG] Connection id "0HMVKTCVJAVJD" stopped.
2023-12-04 18:05:41.961 +01:00 [DBG] Connection id "0HMVKTCVJAVJE" stopped.
2023-12-04 18:05:41.964 +01:00 [DBG] Connection id "0HMVKTCVJAVJF" started.
2023-12-04 18:05:41.974 +01:00 [DBG] Connection id "0HMVKTCVJAVJE" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-04 18:05:41.971 +01:00 [DBG] Connection id "0HMVKTCVJAVJD" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-04 18:05:42.036 +01:00 [DBG] Connection 0HMVKTCVJAVJF established using the following protocol: "Tls12"
2023-12-04 18:05:42.085 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7165/swagger/index.html - -
2023-12-04 18:05:42.255 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-04 18:05:42.368 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-12-04 18:05:42.393 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-12-04 18:05:42.399 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7165/swagger/index.html - - - 200 - text/html;charset=utf-8 318.5933ms
2023-12-04 18:05:42.414 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7165/_framework/aspnetcore-browser-refresh.js - -
2023-12-04 18:05:42.420 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7165/_framework/aspnetcore-browser-refresh.js - - - 200 13766 application/javascript;+charset=utf-8 6.5832ms
2023-12-04 18:05:42.429 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7165/_vs/browserLink - -
2023-12-04 18:05:42.505 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7165/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 75.2207ms
2023-12-04 18:05:42.557 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7165/swagger/v1/swagger.json - -
2023-12-04 18:05:42.755 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7165/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 198.0606ms
2023-12-04 18:06:16.705 +01:00 [DBG] Connection id "0HMVKTCVJAVJG" accepted.
2023-12-04 18:06:16.712 +01:00 [DBG] Connection id "0HMVKTCVJAVJG" started.
2023-12-04 18:06:16.712 +01:00 [DBG] Connection id "0HMVKTCVJAVJH" accepted.
2023-12-04 18:06:16.712 +01:00 [DBG] Connection id "0HMVKTCVJAVJG" received FIN.
2023-12-04 18:06:16.716 +01:00 [DBG] Connection id "0HMVKTCVJAVJH" started.
2023-12-04 18:06:16.732 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, Boolean isApm, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-04 18:06:16.741 +01:00 [DBG] Connection 0HMVKTCVJAVJH established using the following protocol: "Tls12"
2023-12-04 18:06:16.741 +01:00 [DBG] Connection id "0HMVKTCVJAVJG" stopped.
2023-12-04 18:06:16.743 +01:00 [DBG] Connection id "0HMVKTCVJAVJG" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-04 18:06:16.755 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities - -
2023-12-04 18:06:16.758 +01:00 [DBG] The request path  does not match the path filter
2023-12-04 18:06:16.794 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-04 18:06:16.800 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-04 18:06:16.802 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-04 18:06:16.809 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-12-04 18:06:16.968 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidIssuerException: IDX10204: Unable to validate issuer. validationParameters.ValidIssuer is null or whitespace AND validationParameters.ValidIssuers is null or empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateIssuerAsync(String issuer, SecurityToken securityToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateIssuer(String issuer, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-12-04 18:06:16.982 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-12-04 18:06:16.984 +01:00 [DBG] Connection id "0HMVKTCVJAVJH" completed keep alive response.
2023-12-04 18:06:16.985 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities - - - 401 0 - 229.9357ms
2023-12-04 18:06:22.550 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7165/api/autentication/authenticate application/json 57
2023-12-04 18:06:22.552 +01:00 [DBG] POST requests are not supported
2023-12-04 18:06:22.554 +01:00 [DBG] 1 candidate(s) found for the request path '/api/autentication/authenticate'
2023-12-04 18:06:22.556 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.AuthenticationController.Authenticate (NewCityInfo.API)' with route pattern 'api/autentication/authenticate' is valid for the request path '/api/autentication/authenticate'
2023-12-04 18:06:22.559 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.AuthenticationController.Authenticate (NewCityInfo.API)'
2023-12-04 18:06:22.562 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.AuthenticationController.Authenticate (NewCityInfo.API)'
2023-12-04 18:06:22.585 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller NewCityInfo.API.Controllers.AuthenticationController (NewCityInfo.API).
2023-12-04 18:06:22.590 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-04 18:06:22.592 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-04 18:06:22.595 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-04 18:06:22.599 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-04 18:06:22.601 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-04 18:06:22.604 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.AuthenticationController (NewCityInfo.API)
2023-12-04 18:06:22.607 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.AuthenticationController (NewCityInfo.API)
2023-12-04 18:06:22.614 +01:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'NewCityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-12-04 18:06:22.618 +01:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'NewCityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2023-12-04 18:06:22.622 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-12-04 18:06:22.626 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-12-04 18:06:22.638 +01:00 [DBG] Connection id "0HMVKTCVJAVJH", Request id "0HMVKTCVJAVJH:00000003": started reading request body.
2023-12-04 18:06:22.640 +01:00 [DBG] Connection id "0HMVKTCVJAVJH", Request id "0HMVKTCVJAVJH:00000003": done reading request body.
2023-12-04 18:06:22.875 +01:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'NewCityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-12-04 18:06:22.877 +01:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'NewCityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-12-04 18:06:22.880 +01:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'NewCityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-12-04 18:06:22.889 +01:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'NewCityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-12-04 18:06:22.906 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-04 18:06:22.916 +01:00 [DBG] No information found on request to perform content negotiation.
2023-12-04 18:06:22.918 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-04 18:06:22.921 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-04 18:06:22.925 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-12-04 18:06:22.930 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-12-04 18:06:22.938 +01:00 [INF] Executed action NewCityInfo.API.Controllers.AuthenticationController.Authenticate (NewCityInfo.API) in 328.9723ms
2023-12-04 18:06:22.944 +01:00 [INF] Executed endpoint 'NewCityInfo.API.Controllers.AuthenticationController.Authenticate (NewCityInfo.API)'
2023-12-04 18:06:22.946 +01:00 [DBG] Connection id "0HMVKTCVJAVJH" completed keep alive response.
2023-12-04 18:06:22.948 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7165/api/autentication/authenticate application/json 57 - 200 - text/plain;+charset=utf-8 397.8308ms
2023-12-04 18:06:40.916 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities - -
2023-12-04 18:06:40.918 +01:00 [DBG] The request path  does not match the path filter
2023-12-04 18:06:40.918 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-04 18:06:40.920 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-04 18:06:40.921 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-04 18:06:40.922 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-12-04 18:06:40.924 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidIssuerException: IDX10204: Unable to validate issuer. validationParameters.ValidIssuer is null or whitespace AND validationParameters.ValidIssuers is null or empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateIssuerAsync(String issuer, SecurityToken securityToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateIssuer(String issuer, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-12-04 18:06:40.929 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-12-04 18:06:40.931 +01:00 [DBG] Connection id "0HMVKTCVJAVJH" completed keep alive response.
2023-12-04 18:06:40.932 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities - - - 401 0 - 15.8535ms
2023-12-04 18:08:48.727 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-04 18:08:48.936 +01:00 [DBG] Hosting starting
2023-12-04 18:08:48.973 +01:00 [INF] User profile is available. Using 'C:\Users\Bob\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-12-04 18:08:48.976 +01:00 [DBG] Reading data from file 'C:\Users\Bob\AppData\Local\ASP.NET\DataProtection-Keys\key-1dd2c57e-4d15-4c1d-91c4-daf929f514b0.xml'.
2023-12-04 18:08:48.981 +01:00 [DBG] Reading data from file 'C:\Users\Bob\AppData\Local\ASP.NET\DataProtection-Keys\key-986da1e5-f91a-4c12-9299-e4c1a6f0ccf5.xml'.
2023-12-04 18:08:48.987 +01:00 [DBG] Found key {1dd2c57e-4d15-4c1d-91c4-daf929f514b0}.
2023-12-04 18:08:48.993 +01:00 [DBG] Found key {986da1e5-f91a-4c12-9299-e4c1a6f0ccf5}.
2023-12-04 18:08:49.003 +01:00 [DBG] Considering key {1dd2c57e-4d15-4c1d-91c4-daf929f514b0} with expiration date 2024-01-08 10:08:13Z as default key.
2023-12-04 18:08:49.006 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-04 18:08:49.010 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-12-04 18:08:49.011 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-04 18:08:49.016 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-12-04 18:08:49.019 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-12-04 18:08:49.023 +01:00 [DBG] Using key {1dd2c57e-4d15-4c1d-91c4-daf929f514b0} as the default key.
2023-12-04 18:08:49.024 +01:00 [DBG] Key ring with default key {1dd2c57e-4d15-4c1d-91c4-daf929f514b0} was loaded during application startup.
2023-12-04 18:08:49.149 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 74771C93211CFD306FF4266F6451FEA749179ACD)
2023-12-04 18:08:49.200 +01:00 [INF] Now listening on: https://localhost:7165
2023-12-04 18:08:49.201 +01:00 [INF] Now listening on: http://localhost:5029
2023-12-04 18:08:49.203 +01:00 [DBG] Loaded hosting startup assembly NewCityInfo.API
2023-12-04 18:08:49.204 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-12-04 18:08:49.205 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-12-04 18:08:49.206 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-04 18:08:49.207 +01:00 [INF] Hosting environment: Development
2023-12-04 18:08:49.207 +01:00 [INF] Content root path: C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\
2023-12-04 18:08:49.208 +01:00 [DBG] Hosting started
2023-12-04 18:08:49.318 +01:00 [DBG] Connection id "0HMVKTENFKG6T" received FIN.
2023-12-04 18:08:49.318 +01:00 [DBG] Connection id "0HMVKTENFKG6U" received FIN.
2023-12-04 18:08:49.321 +01:00 [DBG] Connection id "0HMVKTENFKG6T" accepted.
2023-12-04 18:08:49.321 +01:00 [DBG] Connection id "0HMVKTENFKG70" accepted.
2023-12-04 18:08:49.325 +01:00 [DBG] Connection id "0HMVKTENFKG6T" started.
2023-12-04 18:08:49.326 +01:00 [DBG] Connection id "0HMVKTENFKG70" started.
2023-12-04 18:08:49.346 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, Boolean isApm, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-04 18:08:49.346 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, Boolean isApm, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-04 18:08:49.381 +01:00 [DBG] Connection id "0HMVKTENFKG6T" stopped.
2023-12-04 18:08:49.381 +01:00 [DBG] Connection id "0HMVKTENFKG70" stopped.
2023-12-04 18:08:49.385 +01:00 [DBG] Connection id "0HMVKTENFKG70" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-04 18:08:49.385 +01:00 [DBG] Connection id "0HMVKTENFKG6T" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-04 18:08:49.425 +01:00 [DBG] Connection id "0HMVKTENFKG71" accepted.
2023-12-04 18:08:49.433 +01:00 [DBG] Connection id "0HMVKTENFKG71" started.
2023-12-04 18:08:49.519 +01:00 [DBG] Connection 0HMVKTENFKG71 established using the following protocol: "Tls12"
2023-12-04 18:08:49.576 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7165/swagger/index.html - -
2023-12-04 18:08:49.698 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-04 18:08:49.797 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-12-04 18:08:49.818 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-12-04 18:08:49.824 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7165/swagger/index.html - - - 200 - text/html;charset=utf-8 253.5935ms
2023-12-04 18:08:49.830 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7165/_framework/aspnetcore-browser-refresh.js - -
2023-12-04 18:08:49.831 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7165/_vs/browserLink - -
2023-12-04 18:08:49.837 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7165/_framework/aspnetcore-browser-refresh.js - - - 200 13766 application/javascript;+charset=utf-8 6.2687ms
2023-12-04 18:08:49.896 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7165/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 65.2954ms
2023-12-04 18:08:49.940 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7165/swagger/v1/swagger.json - -
2023-12-04 18:08:50.120 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7165/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 179.6334ms
2023-12-04 18:08:58.931 +01:00 [DBG] Connection id "0HMVKTENFKG72" accepted.
2023-12-04 18:08:58.932 +01:00 [DBG] Connection id "0HMVKTENFKG73" accepted.
2023-12-04 18:08:58.932 +01:00 [DBG] Connection id "0HMVKTENFKG72" started.
2023-12-04 18:08:58.932 +01:00 [DBG] Connection id "0HMVKTENFKG72" received FIN.
2023-12-04 18:08:58.934 +01:00 [DBG] Connection id "0HMVKTENFKG73" started.
2023-12-04 18:08:58.950 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, Boolean isApm, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-04 18:08:58.962 +01:00 [DBG] Connection 0HMVKTENFKG73 established using the following protocol: "Tls12"
2023-12-04 18:08:58.963 +01:00 [DBG] Connection id "0HMVKTENFKG72" stopped.
2023-12-04 18:08:58.971 +01:00 [DBG] Connection id "0HMVKTENFKG72" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-04 18:08:58.977 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7165/api/authentication/authenticate application/json 57
2023-12-04 18:08:58.980 +01:00 [DBG] POST requests are not supported
2023-12-04 18:08:59.027 +01:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2023-12-04 18:08:59.034 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.AuthenticationController.Authenticate (NewCityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2023-12-04 18:08:59.039 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.AuthenticationController.Authenticate (NewCityInfo.API)'
2023-12-04 18:08:59.043 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.AuthenticationController.Authenticate (NewCityInfo.API)'
2023-12-04 18:08:59.070 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller NewCityInfo.API.Controllers.AuthenticationController (NewCityInfo.API).
2023-12-04 18:08:59.073 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-04 18:08:59.075 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-04 18:08:59.076 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-04 18:08:59.079 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-04 18:08:59.080 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-04 18:08:59.082 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.AuthenticationController (NewCityInfo.API)
2023-12-04 18:08:59.084 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.AuthenticationController (NewCityInfo.API)
2023-12-04 18:08:59.091 +01:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'NewCityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-12-04 18:08:59.095 +01:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'NewCityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2023-12-04 18:08:59.098 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-12-04 18:08:59.099 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-12-04 18:08:59.109 +01:00 [DBG] Connection id "0HMVKTENFKG73", Request id "0HMVKTENFKG73:00000002": started reading request body.
2023-12-04 18:08:59.111 +01:00 [DBG] Connection id "0HMVKTENFKG73", Request id "0HMVKTENFKG73:00000002": done reading request body.
2023-12-04 18:08:59.272 +01:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'NewCityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-12-04 18:08:59.274 +01:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'NewCityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-12-04 18:08:59.275 +01:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'NewCityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-12-04 18:08:59.284 +01:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'NewCityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-12-04 18:08:59.369 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-04 18:08:59.374 +01:00 [DBG] No information found on request to perform content negotiation.
2023-12-04 18:08:59.375 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-04 18:08:59.376 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-04 18:08:59.377 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-12-04 18:08:59.379 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-12-04 18:08:59.386 +01:00 [INF] Executed action NewCityInfo.API.Controllers.AuthenticationController.Authenticate (NewCityInfo.API) in 299.169ms
2023-12-04 18:08:59.388 +01:00 [INF] Executed endpoint 'NewCityInfo.API.Controllers.AuthenticationController.Authenticate (NewCityInfo.API)'
2023-12-04 18:08:59.389 +01:00 [DBG] Connection id "0HMVKTENFKG73" completed keep alive response.
2023-12-04 18:08:59.390 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7165/api/authentication/authenticate application/json 57 - 200 - text/plain;+charset=utf-8 412.9134ms
2023-12-04 18:09:21.537 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities - -
2023-12-04 18:09:21.538 +01:00 [DBG] The request path  does not match the path filter
2023-12-04 18:09:21.541 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-04 18:09:21.542 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-04 18:09:21.545 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-04 18:09:21.554 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-12-04 18:09:21.674 +01:00 [DBG] Successfully validated the token.
2023-12-04 18:09:21.678 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-12-04 18:09:21.679 +01:00 [DBG] Connection id "0HMVKTENFKG73" completed keep alive response.
2023-12-04 18:09:21.680 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities - - - 401 0 - 143.2510ms
2023-12-04 18:13:27.657 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-04 18:13:27.817 +01:00 [DBG] Hosting starting
2023-12-04 18:13:27.845 +01:00 [INF] User profile is available. Using 'C:\Users\Bob\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-12-04 18:13:27.849 +01:00 [DBG] Reading data from file 'C:\Users\Bob\AppData\Local\ASP.NET\DataProtection-Keys\key-1dd2c57e-4d15-4c1d-91c4-daf929f514b0.xml'.
2023-12-04 18:13:27.854 +01:00 [DBG] Reading data from file 'C:\Users\Bob\AppData\Local\ASP.NET\DataProtection-Keys\key-986da1e5-f91a-4c12-9299-e4c1a6f0ccf5.xml'.
2023-12-04 18:13:27.860 +01:00 [DBG] Found key {1dd2c57e-4d15-4c1d-91c4-daf929f514b0}.
2023-12-04 18:13:27.866 +01:00 [DBG] Found key {986da1e5-f91a-4c12-9299-e4c1a6f0ccf5}.
2023-12-04 18:13:27.875 +01:00 [DBG] Considering key {1dd2c57e-4d15-4c1d-91c4-daf929f514b0} with expiration date 2024-01-08 10:08:13Z as default key.
2023-12-04 18:13:27.878 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-04 18:13:27.882 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-12-04 18:13:27.884 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-04 18:13:27.892 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-12-04 18:13:27.895 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-12-04 18:13:27.900 +01:00 [DBG] Using key {1dd2c57e-4d15-4c1d-91c4-daf929f514b0} as the default key.
2023-12-04 18:13:27.901 +01:00 [DBG] Key ring with default key {1dd2c57e-4d15-4c1d-91c4-daf929f514b0} was loaded during application startup.
2023-12-04 18:13:28.028 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 74771C93211CFD306FF4266F6451FEA749179ACD)
2023-12-04 18:13:28.072 +01:00 [INF] Now listening on: https://localhost:7165
2023-12-04 18:13:28.073 +01:00 [INF] Now listening on: http://localhost:5029
2023-12-04 18:13:28.074 +01:00 [DBG] Loaded hosting startup assembly NewCityInfo.API
2023-12-04 18:13:28.075 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-12-04 18:13:28.076 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-12-04 18:13:28.078 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-04 18:13:28.078 +01:00 [INF] Hosting environment: Development
2023-12-04 18:13:28.080 +01:00 [INF] Content root path: C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\
2023-12-04 18:13:28.081 +01:00 [DBG] Hosting started
2023-12-04 18:13:28.507 +01:00 [DBG] Connection id "0HMVKTHAM54LO" accepted.
2023-12-04 18:13:28.507 +01:00 [DBG] Connection id "0HMVKTHAM54LP" accepted.
2023-12-04 18:13:28.509 +01:00 [DBG] Connection id "0HMVKTHAM54LP" started.
2023-12-04 18:13:28.509 +01:00 [DBG] Connection id "0HMVKTHAM54LO" started.
2023-12-04 18:13:28.520 +01:00 [DBG] Connection id "0HMVKTHAM54LO" received FIN.
2023-12-04 18:13:28.520 +01:00 [DBG] Connection id "0HMVKTHAM54LP" received FIN.
2023-12-04 18:13:28.542 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, Boolean isApm, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-04 18:13:28.542 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, Boolean isApm, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-04 18:13:28.582 +01:00 [DBG] Connection id "0HMVKTHAM54LO" stopped.
2023-12-04 18:13:28.582 +01:00 [DBG] Connection id "0HMVKTHAM54LP" stopped.
2023-12-04 18:13:28.586 +01:00 [DBG] Connection id "0HMVKTHAM54LP" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-04 18:13:28.586 +01:00 [DBG] Connection id "0HMVKTHAM54LO" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-04 18:13:30.063 +01:00 [DBG] Connection id "0HMVKTHAM54LQ" accepted.
2023-12-04 18:13:30.064 +01:00 [DBG] Connection id "0HMVKTHAM54LQ" received FIN.
2023-12-04 18:13:30.065 +01:00 [DBG] Connection id "0HMVKTHAM54LQ" started.
2023-12-04 18:13:30.067 +01:00 [DBG] Connection id "0HMVKTHAM54LR" accepted.
2023-12-04 18:13:30.070 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, Boolean isApm, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-04 18:13:30.070 +01:00 [DBG] Connection id "0HMVKTHAM54LR" started.
2023-12-04 18:13:30.074 +01:00 [DBG] Connection id "0HMVKTHAM54LQ" stopped.
2023-12-04 18:13:30.077 +01:00 [DBG] Connection id "0HMVKTHAM54LQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-04 18:13:30.115 +01:00 [DBG] Connection 0HMVKTHAM54LR established using the following protocol: "Tls12"
2023-12-04 18:13:30.157 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7165/api/authentication/authenticate application/json 57
2023-12-04 18:13:30.173 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-04 18:13:30.192 +01:00 [DBG] POST requests are not supported
2023-12-04 18:13:30.222 +01:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2023-12-04 18:13:30.229 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.AuthenticationController.Authenticate (NewCityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2023-12-04 18:13:30.231 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.AuthenticationController.Authenticate (NewCityInfo.API)'
2023-12-04 18:13:30.290 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-04 18:13:30.293 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.AuthenticationController.Authenticate (NewCityInfo.API)'
2023-12-04 18:13:30.314 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller NewCityInfo.API.Controllers.AuthenticationController (NewCityInfo.API).
2023-12-04 18:13:30.318 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-04 18:13:30.319 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-04 18:13:30.321 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-04 18:13:30.323 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-04 18:13:30.324 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-04 18:13:30.327 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.AuthenticationController (NewCityInfo.API)
2023-12-04 18:13:30.329 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.AuthenticationController (NewCityInfo.API)
2023-12-04 18:13:30.336 +01:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'NewCityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-12-04 18:13:30.341 +01:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'NewCityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2023-12-04 18:13:30.343 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-12-04 18:13:30.346 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-12-04 18:13:30.355 +01:00 [DBG] Connection id "0HMVKTHAM54LR", Request id "0HMVKTHAM54LR:00000002": started reading request body.
2023-12-04 18:13:30.358 +01:00 [DBG] Connection id "0HMVKTHAM54LR", Request id "0HMVKTHAM54LR:00000002": done reading request body.
2023-12-04 18:13:30.547 +01:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'NewCityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-12-04 18:13:30.550 +01:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'NewCityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-12-04 18:13:30.552 +01:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'NewCityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-12-04 18:13:30.560 +01:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'NewCityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-12-04 18:13:30.603 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-04 18:13:30.609 +01:00 [DBG] No information found on request to perform content negotiation.
2023-12-04 18:13:30.609 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-04 18:13:30.610 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-04 18:13:30.612 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-12-04 18:13:30.614 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-12-04 18:13:30.626 +01:00 [INF] Executed action NewCityInfo.API.Controllers.AuthenticationController.Authenticate (NewCityInfo.API) in 292.8825ms
2023-12-04 18:13:30.628 +01:00 [INF] Executed endpoint 'NewCityInfo.API.Controllers.AuthenticationController.Authenticate (NewCityInfo.API)'
2023-12-04 18:13:30.630 +01:00 [DBG] Connection id "0HMVKTHAM54LR" completed keep alive response.
2023-12-04 18:13:30.633 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7165/api/authentication/authenticate application/json 57 - 200 - text/plain;+charset=utf-8 478.9720ms
2023-12-04 18:13:37.017 +01:00 [DBG] Connection id "0HMVKTHAM54LS" accepted.
2023-12-04 18:13:37.032 +01:00 [DBG] Connection id "0HMVKTHAM54LS" started.
2023-12-04 18:13:37.042 +01:00 [DBG] Connection 0HMVKTHAM54LS established using the following protocol: "Tls12"
2023-12-04 18:13:37.117 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7165/swagger/index.html - -
2023-12-04 18:13:37.325 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-12-04 18:13:37.355 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-12-04 18:13:37.359 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7165/swagger/index.html - - - 200 - text/html;charset=utf-8 242.1769ms
2023-12-04 18:13:37.362 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7165/_framework/aspnetcore-browser-refresh.js - -
2023-12-04 18:13:37.365 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7165/_vs/browserLink - -
2023-12-04 18:13:37.383 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7165/_framework/aspnetcore-browser-refresh.js - - - 200 13766 application/javascript;+charset=utf-8 20.8808ms
2023-12-04 18:13:37.453 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7165/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 87.5533ms
2023-12-04 18:13:37.506 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7165/swagger/v1/swagger.json - -
2023-12-04 18:13:37.711 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7165/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 204.6335ms
2023-12-04 18:13:41.736 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities - -
2023-12-04 18:13:41.737 +01:00 [DBG] The request path  does not match the path filter
2023-12-04 18:13:41.741 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-04 18:13:41.743 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-04 18:13:41.746 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-04 18:13:41.834 +01:00 [DBG] Successfully validated the token.
2023-12-04 18:13:41.837 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-04 18:13:41.844 +01:00 [DBG] Authorization was successful.
2023-12-04 18:13:41.846 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-04 18:13:41.860 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[NewCityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCitiesAsync(System.String, System.String, Int32, Int32) on controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API).
2023-12-04 18:13:41.862 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-04 18:13:41.864 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-04 18:13:41.865 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-04 18:13:41.867 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-04 18:13:41.869 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-04 18:13:41.871 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-04 18:13:42.103 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-04 18:13:42.373 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-04 18:13:42.375 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-12-04 18:13:42.376 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-12-04 18:13:42.379 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-12-04 18:13:42.380 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-04 18:13:42.382 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-04 18:13:42.383 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-12-04 18:13:42.384 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-12-04 18:13:42.386 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-12-04 18:13:42.387 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-12-04 18:13:42.389 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-12-04 18:13:42.391 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-04 18:13:42.392 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-04 18:13:42.394 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-12-04 18:13:42.395 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-12-04 18:13:42.396 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-12-04 18:13:42.397 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2023-12-04 18:13:42.399 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2023-12-04 18:13:42.401 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-04 18:13:42.402 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-04 18:13:42.403 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-12-04 18:13:42.404 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-12-04 18:13:42.405 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-12-04 18:13:42.406 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2023-12-04 18:13:42.407 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2023-12-04 18:13:42.409 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-04 18:13:42.410 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-04 18:13:42.412 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-12-04 18:13:42.413 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-12-04 18:13:43.523 +01:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-12-04 18:13:43.573 +01:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Count()'
2023-12-04 18:13:43.881 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        NewCityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-04 18:13:43.948 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 18:13:44.205 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (253ms).
2023-12-04 18:13:44.221 +01:00 [DBG] Opening connection to database 'main' on server 'NewCityInfo.db'.
2023-12-04 18:13:44.250 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-04 18:13:44.265 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-12-04 18:13:44.293 +01:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-12-04 18:13:44.310 +01:00 [DBG] A data reader was disposed.
2023-12-04 18:13:44.319 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-04 18:13:44.329 +01:00 [DBG] Closed connection to database 'main' on server 'NewCityInfo.db'.
2023-12-04 18:13:44.346 +01:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)
    .Skip(__p_0)
    .Take(__p_1)'
2023-12-04 18:13:44.436 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    NewCityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-12-04 18:13:44.454 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 18:13:44.455 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-04 18:13:44.462 +01:00 [DBG] Opening connection to database 'main' on server 'NewCityInfo.db'.
2023-12-04 18:13:44.463 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-04 18:13:44.472 +01:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-12-04 18:13:44.480 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-12-04 18:13:44.503 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-04 18:13:44.534 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-04 18:13:44.537 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-04 18:13:44.540 +01:00 [DBG] A data reader was disposed.
2023-12-04 18:13:44.541 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-04 18:13:44.543 +01:00 [DBG] Closed connection to database 'main' on server 'NewCityInfo.db'.
2023-12-04 18:13:44.578 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-04 18:13:44.582 +01:00 [DBG] No information found on request to perform content negotiation.
2023-12-04 18:13:44.583 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-04 18:13:44.585 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-04 18:13:44.586 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-04 18:13:44.589 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[NewCityInfo.API.Models.CityWithoutPointOfInterestDto, NewCityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-04 18:13:44.668 +01:00 [INF] Executed action NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API) in 2797.9581ms
2023-12-04 18:13:44.673 +01:00 [INF] Executed endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-04 18:13:44.674 +01:00 [DBG] Connection id "0HMVKTHAM54LR" completed keep alive response.
2023-12-04 18:13:44.687 +01:00 [DBG] 'CityInfoContext' disposed.
2023-12-04 18:13:44.695 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities - - - 200 178 application/json;+charset=utf-8 2958.9963ms
2023-12-04 18:13:50.913 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities/2 - -
2023-12-04 18:13:50.914 +01:00 [DBG] The request path  does not match the path filter
2023-12-04 18:13:50.915 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2'
2023-12-04 18:13:50.917 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCity (NewCityInfo.API)' with route pattern 'api/cities/{cityId}' is valid for the request path '/api/cities/2'
2023-12-04 18:13:50.919 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCity (NewCityInfo.API)'
2023-12-04 18:13:50.923 +01:00 [DBG] Successfully validated the token.
2023-12-04 18:13:50.924 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-04 18:13:50.925 +01:00 [DBG] Authorization was successful.
2023-12-04 18:13:50.926 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCity (NewCityInfo.API)'
2023-12-04 18:13:50.931 +01:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API).
2023-12-04 18:13:50.934 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-04 18:13:50.935 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-04 18:13:50.937 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-04 18:13:50.939 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-04 18:13:50.941 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-04 18:13:50.943 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-04 18:13:50.958 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-04 18:13:50.960 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-12-04 18:13:50.962 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-12-04 18:13:50.963 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-04 18:13:50.964 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-04 18:13:50.966 +01:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-12-04 18:13:50.967 +01:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-12-04 18:13:50.969 +01:00 [DBG] Attempting to bind parameter 'includePopintOfInterest' of type 'System.Boolean' ...
2023-12-04 18:13:50.971 +01:00 [DBG] Attempting to bind parameter 'includePopintOfInterest' of type 'System.Boolean' using the name '' in request data ...
2023-12-04 18:13:50.973 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePopintOfInterest' of type 'System.Boolean'.
2023-12-04 18:13:50.975 +01:00 [DBG] Done attempting to bind parameter 'includePopintOfInterest' of type 'System.Boolean'.
2023-12-04 18:13:50.976 +01:00 [DBG] Done attempting to bind parameter 'includePopintOfInterest' of type 'System.Boolean'.
2023-12-04 18:13:50.977 +01:00 [DBG] Attempting to validate the bound parameter 'includePopintOfInterest' of type 'System.Boolean' ...
2023-12-04 18:13:50.979 +01:00 [DBG] Done attempting to validate the bound parameter 'includePopintOfInterest' of type 'System.Boolean'.
2023-12-04 18:13:50.984 +01:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-12-04 18:13:50.991 +01:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-12-04 18:13:51.031 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0
            ORDER BY c.Name ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        NewCityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-04 18:13:51.045 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 18:13:51.047 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-04 18:13:51.048 +01:00 [DBG] Opening connection to database 'main' on server 'NewCityInfo.db'.
2023-12-04 18:13:51.050 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-04 18:13:51.051 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
ORDER BY "c"."Name"
LIMIT 1
2023-12-04 18:13:51.054 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
ORDER BY "c"."Name"
LIMIT 1
2023-12-04 18:13:51.057 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-04 18:13:51.058 +01:00 [DBG] A data reader was disposed.
2023-12-04 18:13:51.059 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-04 18:13:51.061 +01:00 [DBG] Closed connection to database 'main' on server 'NewCityInfo.db'.
2023-12-04 18:13:51.065 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-04 18:13:51.068 +01:00 [DBG] No information found on request to perform content negotiation.
2023-12-04 18:13:51.069 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-04 18:13:51.070 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-04 18:13:51.071 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-04 18:13:51.072 +01:00 [INF] Executing OkObjectResult, writing value of type 'NewCityInfo.API.Models.CityWithoutPointOfInterestDto'.
2023-12-04 18:13:51.074 +01:00 [INF] Executed action NewCityInfo.API.Controllers.CitiesController.GetCity (NewCityInfo.API) in 130.8082ms
2023-12-04 18:13:51.075 +01:00 [INF] Executed endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCity (NewCityInfo.API)'
2023-12-04 18:13:51.076 +01:00 [DBG] Connection id "0HMVKTHAM54LR" completed keep alive response.
2023-12-04 18:13:51.077 +01:00 [DBG] 'CityInfoContext' disposed.
2023-12-04 18:13:51.078 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities/2 - - - 200 58 application/json;+charset=utf-8 165.3406ms
2023-12-04 18:14:00.313 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities/2 - -
2023-12-04 18:14:00.315 +01:00 [DBG] The request path  does not match the path filter
2023-12-04 18:14:00.317 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2'
2023-12-04 18:14:00.319 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCity (NewCityInfo.API)' with route pattern 'api/cities/{cityId}' is valid for the request path '/api/cities/2'
2023-12-04 18:14:00.324 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCity (NewCityInfo.API)'
2023-12-04 18:14:00.327 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-04 18:14:00.331 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-12-04 18:14:00.349 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-12-04 18:14:00.351 +01:00 [DBG] Connection id "0HMVKTHAM54LR" completed keep alive response.
2023-12-04 18:14:00.353 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities/2 - - - 401 0 - 39.4323ms
2023-12-04 18:14:47.436 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities/2 - -
2023-12-04 18:14:47.437 +01:00 [DBG] The request path  does not match the path filter
2023-12-04 18:14:47.439 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2'
2023-12-04 18:14:47.440 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCity (NewCityInfo.API)' with route pattern 'api/cities/{cityId}' is valid for the request path '/api/cities/2'
2023-12-04 18:14:47.442 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCity (NewCityInfo.API)'
2023-12-04 18:14:47.444 +01:00 [DBG] Successfully validated the token.
2023-12-04 18:14:47.445 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-04 18:14:47.446 +01:00 [DBG] Authorization was successful.
2023-12-04 18:14:47.447 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCity (NewCityInfo.API)'
2023-12-04 18:14:47.448 +01:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API).
2023-12-04 18:14:47.450 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-04 18:14:47.452 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-04 18:14:47.453 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-04 18:14:47.456 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-04 18:14:47.457 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-04 18:14:47.459 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-04 18:14:47.463 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-04 18:14:47.464 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-12-04 18:14:47.465 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-12-04 18:14:47.467 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-04 18:14:47.468 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-04 18:14:47.469 +01:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-12-04 18:14:47.471 +01:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-12-04 18:14:47.473 +01:00 [DBG] Attempting to bind parameter 'includePopintOfInterest' of type 'System.Boolean' ...
2023-12-04 18:14:47.474 +01:00 [DBG] Attempting to bind parameter 'includePopintOfInterest' of type 'System.Boolean' using the name '' in request data ...
2023-12-04 18:14:47.476 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePopintOfInterest' of type 'System.Boolean'.
2023-12-04 18:14:47.478 +01:00 [DBG] Done attempting to bind parameter 'includePopintOfInterest' of type 'System.Boolean'.
2023-12-04 18:14:47.479 +01:00 [DBG] Done attempting to bind parameter 'includePopintOfInterest' of type 'System.Boolean'.
2023-12-04 18:14:47.481 +01:00 [DBG] Attempting to validate the bound parameter 'includePopintOfInterest' of type 'System.Boolean' ...
2023-12-04 18:14:47.482 +01:00 [DBG] Done attempting to validate the bound parameter 'includePopintOfInterest' of type 'System.Boolean'.
2023-12-04 18:14:47.533 +01:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-12-04 18:14:47.539 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 18:14:47.540 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 18:14:47.541 +01:00 [DBG] Opening connection to database 'main' on server 'NewCityInfo.db'.
2023-12-04 18:14:47.542 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-04 18:14:47.543 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
ORDER BY "c"."Name"
LIMIT 1
2023-12-04 18:14:47.546 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
ORDER BY "c"."Name"
LIMIT 1
2023-12-04 18:14:47.548 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-04 18:14:47.550 +01:00 [DBG] A data reader was disposed.
2023-12-04 18:14:47.550 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\NewCityInfo.db'.
2023-12-04 18:14:47.551 +01:00 [DBG] Closed connection to database 'main' on server 'NewCityInfo.db'.
2023-12-04 18:14:47.552 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-04 18:14:47.555 +01:00 [DBG] No information found on request to perform content negotiation.
2023-12-04 18:14:47.555 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-04 18:14:47.556 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-04 18:14:47.557 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-04 18:14:47.558 +01:00 [INF] Executing OkObjectResult, writing value of type 'NewCityInfo.API.Models.CityWithoutPointOfInterestDto'.
2023-12-04 18:14:47.559 +01:00 [INF] Executed action NewCityInfo.API.Controllers.CitiesController.GetCity (NewCityInfo.API) in 100.5895ms
2023-12-04 18:14:47.561 +01:00 [INF] Executed endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCity (NewCityInfo.API)'
2023-12-04 18:14:47.562 +01:00 [DBG] Connection id "0HMVKTHAM54LR" completed keep alive response.
2023-12-04 18:14:47.563 +01:00 [DBG] 'CityInfoContext' disposed.
2023-12-04 18:14:47.564 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities/2 - - - 200 58 application/json;+charset=utf-8 128.1768ms
2023-12-04 18:25:22.912 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-04 18:25:23.052 +01:00 [DBG] Hosting starting
2023-12-04 18:25:23.086 +01:00 [INF] User profile is available. Using 'C:\Users\Bob\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-12-04 18:25:23.090 +01:00 [DBG] Reading data from file 'C:\Users\Bob\AppData\Local\ASP.NET\DataProtection-Keys\key-1dd2c57e-4d15-4c1d-91c4-daf929f514b0.xml'.
2023-12-04 18:25:23.097 +01:00 [DBG] Reading data from file 'C:\Users\Bob\AppData\Local\ASP.NET\DataProtection-Keys\key-986da1e5-f91a-4c12-9299-e4c1a6f0ccf5.xml'.
2023-12-04 18:25:23.106 +01:00 [DBG] Found key {1dd2c57e-4d15-4c1d-91c4-daf929f514b0}.
2023-12-04 18:25:23.114 +01:00 [DBG] Found key {986da1e5-f91a-4c12-9299-e4c1a6f0ccf5}.
2023-12-04 18:25:23.123 +01:00 [DBG] Considering key {1dd2c57e-4d15-4c1d-91c4-daf929f514b0} with expiration date 2024-01-08 10:08:13Z as default key.
2023-12-04 18:25:23.126 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-04 18:25:23.130 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-12-04 18:25:23.132 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-04 18:25:23.140 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-12-04 18:25:23.144 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-12-04 18:25:23.149 +01:00 [DBG] Using key {1dd2c57e-4d15-4c1d-91c4-daf929f514b0} as the default key.
2023-12-04 18:25:23.150 +01:00 [DBG] Key ring with default key {1dd2c57e-4d15-4c1d-91c4-daf929f514b0} was loaded during application startup.
2023-12-04 18:25:23.291 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 74771C93211CFD306FF4266F6451FEA749179ACD)
2023-12-04 18:25:23.333 +01:00 [INF] Now listening on: https://localhost:7165
2023-12-04 18:25:23.334 +01:00 [INF] Now listening on: http://localhost:5029
2023-12-04 18:25:23.335 +01:00 [DBG] Loaded hosting startup assembly NewCityInfo.API
2023-12-04 18:25:23.336 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-12-04 18:25:23.337 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-12-04 18:25:23.338 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-04 18:25:23.339 +01:00 [INF] Hosting environment: Development
2023-12-04 18:25:23.340 +01:00 [INF] Content root path: C:\Users\Bob\OneDrive\桌面\API\NewCityInfo.API\
2023-12-04 18:25:23.342 +01:00 [DBG] Hosting started
2023-12-04 18:25:23.684 +01:00 [DBG] Connection id "0HMVKTNVQJSEC" accepted.
2023-12-04 18:25:23.684 +01:00 [DBG] Connection id "0HMVKTNVQJSED" accepted.
2023-12-04 18:25:23.691 +01:00 [DBG] Connection id "0HMVKTNVQJSEC" started.
2023-12-04 18:25:23.691 +01:00 [DBG] Connection id "0HMVKTNVQJSED" started.
2023-12-04 18:25:23.692 +01:00 [DBG] Connection id "0HMVKTNVQJSED" received FIN.
2023-12-04 18:25:23.692 +01:00 [DBG] Connection id "0HMVKTNVQJSEC" received FIN.
2023-12-04 18:25:23.713 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, Boolean isApm, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-04 18:25:23.713 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, Boolean isApm, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-04 18:25:23.747 +01:00 [DBG] Connection id "0HMVKTNVQJSEC" stopped.
2023-12-04 18:25:23.747 +01:00 [DBG] Connection id "0HMVKTNVQJSED" stopped.
2023-12-04 18:25:23.751 +01:00 [DBG] Connection id "0HMVKTNVQJSEC" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-04 18:25:23.751 +01:00 [DBG] Connection id "0HMVKTNVQJSED" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-04 18:25:28.136 +01:00 [DBG] Connection id "0HMVKTNVQJSEE" accepted.
2023-12-04 18:25:28.137 +01:00 [DBG] Connection id "0HMVKTNVQJSEE" started.
2023-12-04 18:25:28.137 +01:00 [DBG] Connection id "0HMVKTNVQJSEF" accepted.
2023-12-04 18:25:28.137 +01:00 [DBG] Connection id "0HMVKTNVQJSEE" received FIN.
2023-12-04 18:25:28.140 +01:00 [DBG] Connection id "0HMVKTNVQJSEF" started.
2023-12-04 18:25:28.151 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, Boolean isApm, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-04 18:25:28.159 +01:00 [DBG] Connection id "0HMVKTNVQJSEE" stopped.
2023-12-04 18:25:28.161 +01:00 [DBG] Connection id "0HMVKTNVQJSEE" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-04 18:25:28.201 +01:00 [DBG] Connection 0HMVKTNVQJSEF established using the following protocol: "Tls12"
2023-12-04 18:25:28.244 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities - -
2023-12-04 18:25:28.260 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-04 18:25:28.300 +01:00 [DBG] The request path  does not match the path filter
2023-12-04 18:25:28.331 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-04 18:25:28.337 +01:00 [DBG] Endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-04 18:25:28.340 +01:00 [DBG] Request matched endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-04 18:25:28.497 +01:00 [DBG] Successfully validated the token.
2023-12-04 18:25:28.499 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-04 18:25:28.506 +01:00 [DBG] Authorization was successful.
2023-12-04 18:25:28.509 +01:00 [INF] Executing endpoint 'NewCityInfo.API.Controllers.CitiesController.GetCitiesAsync (NewCityInfo.API)'
2023-12-04 18:25:28.546 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[NewCityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCitiesAsync(System.String, System.String, Int32, Int32) on controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API).
2023-12-04 18:25:28.551 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-04 18:25:28.553 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-04 18:25:28.556 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-04 18:25:28.560 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-04 18:25:28.562 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-04 18:25:28.566 +01:00 [DBG] Executing controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-04 18:25:28.709 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-04 18:25:28.892 +01:00 [DBG] Executed controller factory for controller NewCityInfo.API.Controllers.CitiesController (NewCityInfo.API)
2023-12-04 18:25:28.897 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-12-04 18:25:28.899 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-12-04 18:25:28.901 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-12-04 18:25:28.902 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-04 18:25:28.903 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-04 18:25:28.904 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-12-04 18:25:28.906 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-12-04 18:25:28.910 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-12-04 18:25:28.911 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-12-04 18:25:28.912 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-12-04 18:25:28.914 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-04 18:25:28.915 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-04 18:25:28.916 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-12-04 18:25:28.917 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-12-04 18:25:28.918 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-12-04 18:25:28.919 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2023-12-04 18:25:28.920 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2023-12-04 18:25:28.922 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-04 18:25:28.923 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-04 18:25:28.924 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-12-04 18:25:28.926 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-12-04 18:25:28.928 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-12-04 18:25:28.929 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2023-12-04 18:25:28.930 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2023-12-04 18:25:28.932 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-04 18:25:28.934 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-04 18:25:28.935 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-12-04 18:25:28.937 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
